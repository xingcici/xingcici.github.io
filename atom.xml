<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ä¸€æ–¹å¤©åœ°</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xingcici.github.io/"/>
  <updated>2020-09-10T10:40:18.145Z</updated>
  <id>http://xingcici.github.io/</id>
  
  <author>
    <name>è¡Œè¯</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Skywalking 6.6.0å¯¹arthasçš„å…¼å®¹æ€§é—®é¢˜</title>
    <link href="http://xingcici.github.io/2020/09/10/skywalking-660-compatibility-issues-with-arthas.html"/>
    <id>http://xingcici.github.io/2020/09/10/skywalking-660-compatibility-issues-with-arthas.html</id>
    <published>2020-09-10T09:08:08.549Z</published>
    <updated>2020-09-10T10:40:18.145Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ç›®å‰åœ¨å‚ä¸å…¬å¸å…¨é“¾è·¯å‹æµ‹é¡¹ç›®ï¼Œåœ¨éƒ¨ç½²åˆ°æ—¥å¸¸ç¯å¢ƒæœåŠ¡è¿›è¡Œæµ‹è¯•æ—¶ï¼Œç”¨ arthas è¿›è¡Œè¿½è¸ªæ’æŸ¥é—®é¢˜å‘ç°æ— æ³•è¿½è¸ªè¢« agent å¢å¼ºçš„ç±»ã€‚äºæ˜¯å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æŠ¥é”™å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;arthas trace æ—¶å‘½ä»¤è¡ŒæŠ¥é”™</span><br><span class="line">[arthas@24580]$ trace com.mysql.jdbc.PreparedStatement execute</span><br><span class="line">Affect(class count: 1 , method count: 5) cost in 480 ms, listenerId: 8</span><br><span class="line">Enhance error! exception: java.lang.UnsupportedOperationException: class redefinition failed: attempted to change superclass or interfaces</span><br><span class="line">error happens when enhancing class: class redefinition failed: attempted to change superclass or interfaces, check arthas log: &#x2F;home&#x2F;www&#x2F;logs&#x2F;arthas&#x2F;arthas.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;arthas æ—¥å¿—æŠ¥é”™</span><br><span class="line">2020-09-10 17:05:24 [arthas-command-execute] INFO  c.t.arthas.core.advisor.Enhancer -enhance matched classes: [class com.mysql.jdbc.PreparedStatement, class com.mysql.jdbc.JDBC4PreparedStatement, class com.mysql.jdbc.CallableStatement, class com.mysql.jdbc.ServerPreparedStatement]</span><br><span class="line">2020-09-10 17:05:24 [arthas-command-execute] ERROR c.t.arthas.core.advisor.Enhancer -Enhancer error, matchingClasses: [class com.mysql.jdbc.PreparedStatement, class com.mysql.jdbc.JDBC4PreparedStatement, class com.mysql.jdbc.CallableStatement, class com.mysql.jdbc.ServerPreparedStatement]</span><br><span class="line">java.lang.UnsupportedOperationException: class redefinition failed: attempted to change superclass or interfaces</span><br><span class="line">at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)</span><br><span class="line">at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)</span><br><span class="line">at com.taobao.arthas.core.advisor.Enhancer.enhance(Enhancer.java:368)</span><br><span class="line">at com.taobao.arthas.core.command.monitor200.EnhancerCommand.enhance(EnhancerCommand.java:149)</span><br><span class="line">at com.taobao.arthas.core.command.monitor200.EnhancerCommand.process(EnhancerCommand.java:96)</span><br><span class="line">at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl.process(AnnotatedCommandImpl.java:82)</span><br><span class="line">at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl.access$100(AnnotatedCommandImpl.java:18)</span><br><span class="line">at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl$ProcessHandler.handle(AnnotatedCommandImpl.java:111)</span><br><span class="line">at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl$ProcessHandler.handle(AnnotatedCommandImpl.java:108)</span><br><span class="line">at com.taobao.arthas.core.shell.system.impl.ProcessImpl$CommandProcessTask.run(ProcessImpl.java:385)</span><br><span class="line">at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)</span><br><span class="line">at java.util.concurrent.FutureTask.run(FutureTask.java:266)</span><br><span class="line">at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)</span><br><span class="line">at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)</span><br><span class="line">at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)</span><br><span class="line">at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)</span><br><span class="line">at java.lang.Thread.run(Thread.java:745)</span><br></pre></td></tr></table></figure><h3 id="è§£å†³æ€è·¯"><a href="#è§£å†³æ€è·¯" class="headerlink" title="è§£å†³æ€è·¯"></a>è§£å†³æ€è·¯</h3><p>é¦–å…ˆ skywalking å’Œ arthas éƒ½æ˜¯ç›®å‰æ¯”è¾ƒå—æ¬¢è¿çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬åº”è¯¥ä¸æ˜¯ç¬¬ä¸€ä¸ªç¢°åˆ°è¿™ä¸ªé—®é¢˜çš„äººã€‚Github ä¸€æœï¼Œæœç„¶ä¸å°‘äººéƒ½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼ˆéƒ¨åˆ†èµ„æ–™è§å‚è€ƒèµ„æ–™ï¼‰ã€‚</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><ul><li><p>[skywalking 6.4.0 ç‰ˆæœ¬å…¼å®¹æ€§]:<a href="https://github.com/alibaba/arthas/issues/898" target="_blank" rel="noopener">https://github.com/alibaba/arthas/issues/898</a></p></li><li><p>[support class cache for ByteBuddy]:<a href="https://github.com/apache/skywalking/pull/4858/files" target="_blank" rel="noopener">https://github.com/apache/skywalking/pull/4858/files</a></p></li><li><p>[How to advice a class that have been intercepted by another javaagent but not loaded]: <a href="https://github.com/raphw/byte-buddy/issues/829" target="_blank" rel="noopener">https://github.com/raphw/byte-buddy/issues/829</a></p></li><li><p>[Easily Create Java Agents with Byte Buddy]:<a href="https://www.infoq.com/articles/Easily-Create-Java-Agents-with-ByteBuddy/" target="_blank" rel="noopener">https://www.infoq.com/articles/Easily-Create-Java-Agents-with-ByteBuddy/</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;ç›®å‰åœ¨å‚ä¸å…¬å¸å…¨é“¾è·¯å‹æµ‹é¡¹ç›®ï¼Œåœ¨éƒ¨ç½²åˆ°æ—¥å¸¸ç¯å¢ƒæœåŠ¡è¿›è¡Œæµ‹è¯•æ—¶ï¼Œç”¨ arthas è¿›è¡Œè¿½è¸ªæ’æŸ¥é—®é¢˜å‘ç°æ— æ³•è¿½è¸ªè¢« agent å¢å¼ºçš„ç±»ã€‚äºæ˜¯å°
      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
      <category term="é“¾è·¯è¿½è¸ª" scheme="http://xingcici.github.io/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/"/>
    
  </entry>
  
  <entry>
    <title>é›¶çŸ¥è¯†è¯æ˜</title>
    <link href="http://xingcici.github.io/2020/07/13/zero-knowledge-proof.html"/>
    <id>http://xingcici.github.io/2020/07/13/zero-knowledge-proof.html</id>
    <published>2020-07-13T10:58:34.892Z</published>
    <updated>2020-07-13T11:20:42.193Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://zhuanlan.zhihu.com/p/29491567" target="_blank" rel="noopener">é›¶çŸ¥è¯†è¯æ˜ï¼šä¸€ä¸ªç•¥å¾®ä¸¥è‚ƒçš„ç§‘æ™®</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/29491567&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é›¶çŸ¥è¯†è¯æ˜ï¼šä¸€ä¸ªç•¥å¾®ä¸¥è‚ƒçš„ç§‘æ™®&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="æ‚ä¸ƒæ‚å…«" scheme="http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"/>
    
    
      <category term="å¯†ç å­¦" scheme="http://xingcici.github.io/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>FutureTask</title>
    <link href="http://xingcici.github.io/2020/07/13/futuretask.html"/>
    <id>http://xingcici.github.io/2020/07/13/futuretask.html</id>
    <published>2020-07-13T09:44:52.627Z</published>
    <updated>2020-07-13T09:47:11.607Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>æˆ‘ä»¬å®ç° Callable æ¥å£ï¼Œåœ¨è¦†å†™çš„ call æ–¹æ³•ä¸­å®šä¹‰éœ€è¦æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘ï¼›</p></li><li><p>ç„¶åæŠŠæˆ‘ä»¬å®ç°çš„ Callable æ¥å£å®ç°å¯¹è±¡ä¼ ç»™ FutureTaskï¼Œç„¶å FutureTask ä½œä¸ºå¼‚æ­¥ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ‰§è¡Œï¼›</p></li><li><p>æœ€é‡è¦çš„æ˜¯ FutureTask å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªçŠ¶æ€ stateï¼Œä»»ä½•æ“ä½œï¼ˆå¼‚æ­¥ä»»åŠ¡æ­£å¸¸ç»“æŸä¸å¦è¿˜æ˜¯è¢«å–æ¶ˆï¼‰éƒ½æ˜¯å›´ç»•ç€è¿™ä¸ªçŠ¶æ€è¿›è¡Œï¼Œå¹¶éšæ—¶æ›´æ–° state ä»»åŠ¡çš„çŠ¶æ€ï¼›</p></li><li><p>åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå½“å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œæ­¤æ—¶å¯èƒ½æ­£å¸¸ç»“æŸï¼Œå¼‚å¸¸ç»“æŸæˆ–è¢«å–æ¶ˆã€‚</p></li><li><p>å¯ä»¥å¤šä¸ªçº¿ç¨‹å¹¶å‘è·å–å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æœï¼Œå½“å¼‚æ­¥ä»»åŠ¡è¿˜æœªæ‰§è¡Œå®Œï¼Œæ­¤æ—¶è·å–å¼‚æ­¥ä»»åŠ¡çš„çº¿ç¨‹å°†åŠ å…¥çº¿ç¨‹ç­‰å¾…åˆ—è¡¨è¿›è¡Œç­‰å¾…ï¼›</p></li><li><p>å½“å¼‚æ­¥ä»»åŠ¡çº¿ç¨‹æ‰§è¡Œç»“æŸåï¼Œæ­¤æ—¶ä¼šå”¤é†’è·å–å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æœçš„çº¿ç¨‹ï¼Œæ³¨æ„å”¤é†’é¡ºåºæ˜¯ â€œåè¿›å…ˆå‡ºâ€ å³åé¢åŠ å…¥çš„é˜»å¡çº¿ç¨‹å…ˆè¢«å”¤é†’ã€‚</p></li><li><p>å½“æˆ‘ä»¬è°ƒç”¨ FutureTask.cancel æ–¹æ³•æ—¶å¹¶ä¸èƒ½çœŸæ­£åœæ­¢æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„çº¿ç¨‹ï¼Œåªæ˜¯å‘å‡ºä¸­æ–­çº¿ç¨‹çš„ä¿¡å·ã€‚ä½†æ˜¯åªè¦ cancel æ–¹æ³•è¿”å› trueï¼Œæ­¤æ—¶å³ä½¿å¼‚æ­¥ä»»åŠ¡èƒ½æ­£å¸¸æ‰§è¡Œå®Œï¼Œæ­¤æ—¶æˆ‘ä»¬è°ƒç”¨ get æ–¹æ³•è·å–ç»“æœæ—¶ä¾ç„¶ä¼šæŠ›å‡º CancellationException å¼‚å¸¸ã€‚</p></li></ol><ol><li>åˆ©ç”¨ LockSupport æ¥å®ç°çº¿ç¨‹çš„é˜»å¡ \ å”¤é†’æœºåˆ¶ï¼›</li><li>åˆ©ç”¨ volatile å’Œ UNSAFE çš„ CAS æ–¹æ³•æ¥å®ç°çº¿ç¨‹å…±äº«å˜é‡çš„æ— é”åŒ–æ“ä½œï¼›</li><li>è‹¥è¦ç¼–å†™è¶…æ—¶å¼‚å¸¸çš„é€»è¾‘å¯ä»¥å‚è€ƒ FutureTask çš„ get(long timeout, TimeUnit unit) çš„å®ç°é€»è¾‘ï¼›</li><li>å¤šçº¿ç¨‹è·å–æŸä¸€æˆå‘˜å˜é‡ç»“æœæ—¶è‹¥éœ€è¦ç­‰å¾…æ—¶çš„çº¿ç¨‹ç­‰å¾…é“¾è¡¨çš„é€»è¾‘å®ç°ï¼›</li><li>æŸä¸€å¼‚æ­¥ä»»åŠ¡åœ¨æŸä¸€æ—¶åˆ»åªèƒ½ç”±å•ä¸€çº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘å®ç°ï¼›</li><li>FutureTask ä¸­çš„ä»»åŠ¡çŠ¶æ€ state çš„å˜åŒ–å¤„ç†çš„é€»è¾‘å®ç°ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ol&gt;
&lt;li&gt;&lt;p&gt;æˆ‘ä»¬å®ç° Callable æ¥å£ï¼Œåœ¨è¦†å†™çš„ call æ–¹æ³•ä¸­å®šä¹‰éœ€è¦æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç„¶åæŠŠæˆ‘ä»¬å®ç°çš„ Callable æ¥å£å®ç°å¯¹è±¡ä¼ ç»™ FutureTaskï¼Œç„¶å FutureTask ä½œä¸ºå¼‚æ­¥ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ‰§è¡Œï¼›&lt;/
      
    
    </summary>
    
    
      <category term="æºç " scheme="http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"/>
    
    
      <category term="JDK" scheme="http://xingcici.github.io/tags/JDK/"/>
    
  </entry>
  
  <entry>
    <title>RockeMQ å•æœºç‰ˆåœ¨ centos ä¸Šçš„éƒ¨ç½²</title>
    <link href="http://xingcici.github.io/2020/06/30/rockemq-standalone-version-deployment-on-centos.html"/>
    <id>http://xingcici.github.io/2020/06/30/rockemq-standalone-version-deployment-on-centos.html</id>
    <published>2020-06-30T10:14:15.737Z</published>
    <updated>2020-07-01T05:34:11.679Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘éœ€è¦éœ€è¦å†ç ”ç©¶ä¸‹ RocketMQ çš„æ–‡ä»¶ç³»ç»Ÿçš„å…·ä½“å®ç°ï¼Œäºæ˜¯é‡æ–°åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå®‰è£…äº†ä¸€éï¼Œè®°å½•ä¸‹è¿‡ç¨‹ã€‚</p><ol><li><p>åˆ°é•œåƒç«™ä¸‹è½½å®‰è£…åŒ… wget <a href="http://mirror.bit.edu.cn/apache/rocketmq/4.7.1/rocketmq-all-4.7.1-bin-release.zip" target="_blank" rel="noopener">http://mirror.bit.edu.cn/apache/rocketmq/4.7.1/rocketmq-all-4.7.1-bin-release.zip</a> å¹¶è§£å‹ç¼©</p></li><li><p>ä¿®æ”¹ broker.conf æ–‡ä»¶ï¼ˆconf/broker.confï¼‰æ·»åŠ  naemServer åœ°å€çš„å±æ€§ä»¥åŠè‡ªåŠ¨åˆ›å»º Topic çš„å±æ€§ã€‚</p><blockquote><p>namesrvAddr = 127.0.0.1:9876</p><p>autoCreateTopicEnable = true</p></blockquote></li><li><p>ä¿®æ”¹å¯åŠ¨å‚æ•°ï¼ˆç”±äº rocketMQ å¯¹å†…å­˜çš„æ¶ˆè€—æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æµ‹è¯•æ—¶ä¿®æ”¹ä¸ºæœ¬æœºåˆé€‚çš„å¤§å°ï¼‰ã€‚ä¸»è¦ä¿®æ”¹ bin ç›®å½•ä¸‹çš„ runserver.sh å’Œ runbroker.sh ä¸‹çš„ JAVA_OPT å±æ€§ã€‚</p></li><li><p>nohup sh bin/mqnamesrv &amp;</p><p>nohup sh bin/mqbroker -c /root/download/rocketmq/conf/broker.conf &amp;</p><p>sh bin/mqshutdown namesrv</p><p>sh bin/mqshutdown broker</p></li><li><p>æ³¨æ„å¼€æ”¾ç«¯å£</p></li></ol><p>æœ‰å‡ ä¸ªå‘è¦æ³¨æ„</p><ol><li><p>å¼€æ”¾ç«¯å£ </p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200701133221711.png" alt="image-20200701133221711"></p></li><li><p>æˆ‘åœ¨éƒ¨ç½²çš„æ—¶å€™ç¢°åˆ° store ç›®å½•ä¸‹æ²¡æ³•è‡ªåŠ¨å»ºæ–‡ä»¶å¤¹çš„é—®é¢˜ã€‚</p></li><li><p>broker.conf å¢åŠ é…ç½®</p><blockquote><p>namesrvAddr = 127.0.0.1:9876<br>brokerIP1=47.101.33.17<br>autoCreateTopicEnable = true</p></blockquote></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘éœ€è¦éœ€è¦å†ç ”ç©¶ä¸‹ RocketMQ çš„æ–‡ä»¶ç³»ç»Ÿçš„å…·ä½“å®ç°ï¼Œäºæ˜¯é‡æ–°åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå®‰è£…äº†ä¸€éï¼Œè®°å½•ä¸‹è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;åˆ°é•œåƒç«™ä¸‹è½½å®‰è£…åŒ… wget &lt;a href=&quot;http://mirror.bit.edu.cn/apache/rocketmq/
      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
      <category term="RocketMQ" scheme="http://xingcici.github.io/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>åå°„è·å–ä¸€ä¸ªç±»çš„ç§æœ‰æ–¹æ³•</title>
    <link href="http://xingcici.github.io/2020/06/24/reflection-to-get-a-class-private-method.html"/>
    <id>http://xingcici.github.io/2020/06/24/reflection-to-get-a-class-private-method.html</id>
    <published>2020-06-24T09:29:25.561Z</published>
    <updated>2020-06-30T03:33:21.715Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯”è¾ƒç®€å•</p><p><a href="https://github.com/xingcici/learn-demo/tree/master/reflect" target="_blank" rel="noopener">Github</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccessPrivateMember</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class c = Class.forName(<span class="string">"com.example.reflect.HelloService"</span>);</span><br><span class="line">            <span class="comment">//èƒ½è·å–æ‰€æœ‰æœ‰è®¿é—®æƒé™çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬çˆ¶ç±»ä¸­ç»§æ‰¿çš„</span></span><br><span class="line">            Method publicMethod = c.getMethod(<span class="string">"publicHello"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">            Method saySomething = c.getMethod(<span class="string">"publicHello"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            <span class="comment">//è·å–æ‰€æœ‰æ–¹æ³• æœ¬æ–¹æ³•ä¸­</span></span><br><span class="line">            Method thisClassMethod = c.getDeclaredMethod(<span class="string">"privateHello"</span>, String<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            <span class="comment">//è®¾ç½®æƒé™</span></span><br><span class="line">            thisClassMethod.setAccessible(<span class="keyword">true</span>);</span><br><span class="line"><span class="comment">//ä¸èƒ½ç›´æ¥è½¬æˆç±»æ¥æ‰§è¡Œ classloader ä¸åŒ</span></span><br><span class="line">            publicMethod.invoke(c.newInstance(), <span class="string">"publicMethod"</span>);</span><br><span class="line">            saySomething.invoke(c.newInstance(), <span class="string">"saySomething"</span>);</span><br><span class="line"></span><br><span class="line">            thisClassMethod.invoke(c.newInstance(), <span class="string">"thisClassMethod"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ¯”è¾ƒç®€å•&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/xingcici/learn-demo/tree/master/reflect&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Github&lt;/a&gt;&lt;/p&gt;
&lt;figure cl
      
    
    </summary>
    
    
      <category term="ç¼–ç¨‹" scheme="http://xingcici.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
      <category term="åå°„" scheme="http://xingcici.github.io/tags/%E5%8F%8D%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>RocketMQ æ¶ˆæ¯å­˜å‚¨çš„è®¾è®¡ä¸å®ç°</title>
    <link href="http://xingcici.github.io/2020/06/24/design-and-implementation-of-rocketmq-message-storage.html"/>
    <id>http://xingcici.github.io/2020/06/24/design-and-implementation-of-rocketmq-message-storage.html</id>
    <published>2020-06-24T09:01:25.741Z</published>
    <updated>2020-07-01T07:10:45.920Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒRocketMQ åŸºäºäº’è”ç½‘çš„ç”Ÿäº§è¦æ±‚å¯¹å¤š Topic åœºæ™¯åšäº†è¯¸å¤šé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚æ ¹æ®ä¸­é—´ä»¶å›¢é˜Ÿæä¾›çš„å‹æµ‹æŠ¥å‘Šï¼Œåœ¨ Producer å’Œ Consumer å…±å­˜çš„æƒ…å†µä¸‹ï¼Œç›¸æ¯”äº Kafkaï¼ŒRocketMQ çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆTPS å’Œ RTï¼‰éšç€ Topic æ•°é‡çš„ä¸Šå‡è¡¨ç°ç¨³å®šã€‚æœ¬æ–‡ä»æ¶ˆæ¯å­˜å‚¨çš„è§’åº¦è°ˆè°ˆ RocketMQ é«˜æ€§èƒ½çš„åŸå› ï¼Œé‡ç‚¹åŒ…æ‹¬å››ä¸ªæ–¹é¢ï¼šæ¶ˆæ¯æ–‡ä»¶å­˜å‚¨çš„ç»“æ„è®¾è®¡ã€æ¶ˆæ¯ä» Broker æ¥æ”¶åˆ°æŒä¹…åŒ–ç£ç›˜çš„æµç¨‹ã€åˆ·ç›˜ç­–ç•¥å’Œå†…å­˜æ˜ å°„ä¼˜åŒ–æœºåˆ¶ã€‚</p><h3 id="æ¶ˆæ¯æ–‡ä»¶å­˜å‚¨ç»“æ„è®¾è®¡"><a href="#æ¶ˆæ¯æ–‡ä»¶å­˜å‚¨ç»“æ„è®¾è®¡" class="headerlink" title="æ¶ˆæ¯æ–‡ä»¶å­˜å‚¨ç»“æ„è®¾è®¡"></a>æ¶ˆæ¯æ–‡ä»¶å­˜å‚¨ç»“æ„è®¾è®¡</h3><h3 id="æ¶ˆæ¯æŒä¹…åŒ–"><a href="#æ¶ˆæ¯æŒä¹…åŒ–" class="headerlink" title="æ¶ˆæ¯æŒä¹…åŒ–"></a>æ¶ˆæ¯æŒä¹…åŒ–</h3><h3 id="åˆ·ç›˜ç­–ç•¥"><a href="#åˆ·ç›˜ç­–ç•¥" class="headerlink" title="åˆ·ç›˜ç­–ç•¥"></a>åˆ·ç›˜ç­–ç•¥</h3><h3 id="å†…å­˜æ˜ å°„"><a href="#å†…å­˜æ˜ å°„" class="headerlink" title="å†…å­˜æ˜ å°„"></a>å†…å­˜æ˜ å°„</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒRocketMQ åŸºäºäº’è”ç½‘çš„ç”Ÿäº§è¦æ±‚å¯¹å¤š Topic åœºæ™¯åšäº†è¯¸å¤šé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚æ ¹æ®ä¸­é—´ä»¶å›¢é˜Ÿæä¾›çš„å‹æµ‹æŠ¥å‘Šï¼Œåœ¨ Producer å’Œ Consumer å…±å­˜çš„æƒ…å†µä¸‹ï¼Œç›¸æ¯”äº Kafkaï¼ŒRocketMQ çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆTPS å’Œ RTï¼‰éšç€ To
      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
      <category term="RocketMQ" scheme="http://xingcici.github.io/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥ç†è§£ JAVA ååºåˆ—åŒ–æ¼æ´</title>
    <link href="http://xingcici.github.io/2020/06/24/indepth-understanding-of-java-deserialization-vulnerability.html"/>
    <id>http://xingcici.github.io/2020/06/24/indepth-understanding-of-java-deserialization-vulnerability.html</id>
    <published>2020-06-24T01:47:01.053Z</published>
    <updated>2020-06-24T06:59:04.258Z</updated>
    
    <content type="html"><![CDATA[<p>æƒŠé—»  dubbo çˆ†å‡ºä¸¥é‡çš„ååºåˆ—åŒ–æ¼æ´ <a href="https://www.anquanke.com/post/id/209102" target="_blank" rel="noopener">CVE-2020-1948ï¼šApache Dubbo è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é€šå‘Š</a></p><p>åŠ ä¸Šä¹‹å‰çš„ fastjson ä¸æ–­çš„ååºåˆ—åŒ–æ¼æ´ï¼Œäºæ˜¯äº†è§£äº†ä¸‹è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚è¯¦è§<a href="https://paper.seebug.org/312/" target="_blank" rel="noopener">æ·±å…¥ç†è§£ JAVA ååºåˆ—åŒ–æ¼æ´</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æƒŠé—»  dubbo çˆ†å‡ºä¸¥é‡çš„ååºåˆ—åŒ–æ¼æ´ &lt;a href=&quot;https://www.anquanke.com/post/id/209102&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;CVE-2020-1948ï¼šApache Dubbo è¿œç¨‹ä»£ç æ‰§è¡Œæ¼
      
    
    </summary>
    
    
      <category term="æ‚ä¸ƒæ‚å…«" scheme="http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"/>
    
    
  </entry>
  
  <entry>
    <title>Linuxå‘½ä»¤å­¦ä¹ </title>
    <link href="http://xingcici.github.io/2020/06/23/linux-command-learning.html"/>
    <id>http://xingcici.github.io/2020/06/23/linux-command-learning.html</id>
    <published>2020-06-23T06:16:36.652Z</published>
    <updated>2020-06-24T06:59:04.203Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Linuxå‘½ä»¤å¤§å…¨"><a href="#Linuxå‘½ä»¤å¤§å…¨" class="headerlink" title="Linuxå‘½ä»¤å¤§å…¨"></a><a href="https://www.runoob.com/linux/linux-command-manual.html" target="_blank" rel="noopener">Linuxå‘½ä»¤å¤§å…¨</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Linuxå‘½ä»¤å¤§å…¨&quot;&gt;&lt;a href=&quot;#Linuxå‘½ä»¤å¤§å…¨&quot; class=&quot;headerlink&quot; title=&quot;Linuxå‘½ä»¤å¤§å…¨&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://www.runoob.com/linux/linux-command-manual.
      
    
    </summary>
    
    
      <category term="æ‚ä¸ƒæ‚å…«" scheme="http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"/>
    
    
      <category term="linux" scheme="http://xingcici.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>ç¼–ç¨‹ä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿ</title>
    <link href="http://xingcici.github.io/2020/06/18/some-sentiments-in-programming.html"/>
    <id>http://xingcici.github.io/2020/06/18/some-sentiments-in-programming.html</id>
    <published>2020-06-18T12:20:02.180Z</published>
    <updated>2020-06-24T06:59:04.236Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åŠ å¼ºå¯¹è±¡æ„è¯†"><a href="#åŠ å¼ºå¯¹è±¡æ„è¯†" class="headerlink" title="åŠ å¼ºå¯¹è±¡æ„è¯†"></a>åŠ å¼ºå¯¹è±¡æ„è¯†</h3><p>ä¹‹å‰è™½ç„¶æœ‰æ„è¯†åœ¨å¼ºåŒ–ï¼Œä½†æ˜¯æœ‰æ—¶å€™è¿˜æ˜¯å†™å‡ºç®€å•çš„å‘½ä»¤å¼çš„ä»£ç ã€‚å¯¹åŒä¸€ä¸ªäº‹ç‰©çš„ä¸€ç³»åˆ—æ“ä½œï¼ŒåŸºæœ¬éƒ½èƒ½ä»¥è¯¥äº‹ç‰©å‘èµ·æ“ä½œçš„å½¢å¼æ¥è®¾è®¡ï¼ŒåŒ…è£…ä¸€ä¸‹ã€‚</p><h4 id="lifecycle"><a href="#lifecycle" class="headerlink" title="lifecycle"></a>lifecycle</h4><p>æœ€è¿‘å¼€å§‹çœŸçš„å†™ä¸­é—´ä»¶æ‰æ„è¯†åˆ°ï¼Œå¯¹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æŒæ¡éå¸¸é‡è¦ï¼Œä¸‹é¢çš„è¿™ç§å½¢å¼å°±å¾ˆæ–¹ä¾¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Server</span> <span class="keyword">implements</span> <span class="title">LifeCycle</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shutdown</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åŠ å¼ºå¯¹è±¡æ„è¯†&quot;&gt;&lt;a href=&quot;#åŠ å¼ºå¯¹è±¡æ„è¯†&quot; class=&quot;headerlink&quot; title=&quot;åŠ å¼ºå¯¹è±¡æ„è¯†&quot;&gt;&lt;/a&gt;åŠ å¼ºå¯¹è±¡æ„è¯†&lt;/h3&gt;&lt;p&gt;ä¹‹å‰è™½ç„¶æœ‰æ„è¯†åœ¨å¼ºåŒ–ï¼Œä½†æ˜¯æœ‰æ—¶å€™è¿˜æ˜¯å†™å‡ºç®€å•çš„å‘½ä»¤å¼çš„ä»£ç ã€‚å¯¹åŒä¸€ä¸ªäº‹ç‰©çš„ä¸€ç³»åˆ—æ“ä½œï¼ŒåŸºæœ¬éƒ½èƒ½ä»¥è¯¥äº‹ç‰©å‘èµ·æ“
      
    
    </summary>
    
    
      <category term="æ¶æ„è®¾è®¡" scheme="http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    
  </entry>
  
  <entry>
    <title>Sofa-boltçš„ç®€å•ä½¿ç”¨</title>
    <link href="http://xingcici.github.io/2020/06/18/simple-use-of-sofabolt.html"/>
    <id>http://xingcici.github.io/2020/06/18/simple-use-of-sofabolt.html</id>
    <published>2020-06-18T03:48:20.319Z</published>
    <updated>2020-06-24T06:59:04.218Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç å·²ç»æ”¾åœ¨ <a href="https://github.com/xingcici/xc-raft/tree/bolt-basic" target="_blank" rel="noopener">github</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»£ç å·²ç»æ”¾åœ¨ &lt;a href=&quot;https://github.com/xingcici/xc-raft/tree/bolt-basic&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;github&lt;/a&gt;&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
      <category term="ç½‘ç»œ" scheme="http://xingcici.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="Netty" scheme="http://xingcici.github.io/tags/Netty/"/>
    
  </entry>
  
  <entry>
    <title>ç”±No route info for this topicå¼•å‘çš„å…³äºRocketMQçš„é—®é¢˜</title>
    <link href="http://xingcici.github.io/2020/06/17/questions-about-rocketmq-caused-by-no-route-info-for-this-topic.html"/>
    <id>http://xingcici.github.io/2020/06/17/questions-about-rocketmq-caused-by-no-route-info-for-this-topic.html</id>
    <published>2020-06-17T01:21:44.351Z</published>
    <updated>2020-06-24T06:59:04.329Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>æ˜¨å¤©ä¸€ä½ä¸šåŠ¡çš„åŒå­¦åœ¨æˆ‘å®¡æ‰¹MQé€šè¿‡åï¼Œåœ¨ä¸šåŠ¡ä»£ç é‡ŒåŠ äº†ä¸ª producerï¼Œç»“æœå¯åŠ¨é¡¹ç›®æ—¶é›†æˆçš„è°ƒåº¦ä¸­å¿ƒçš„äºŒæ–¹åŒ…é‡Œçš„ producer åœ¨é€šè¿‡ MQ æ³¨å†Œ JOB æ—¶æŠ¥ No route info for this topicã€‚</p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>è¿™ä¸ªå¼‚å¸¸ä¹Ÿç®—æ¯”è¾ƒå¸¸è§äº†ï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰åˆ›å»º topicï¼Œæˆ–è€…è¿æ¥é”™äº† namesrv å¯¼è‡´ã€‚ä½†æ˜¯æŸ¥çœ‹äº†ä»–çš„ä»£ç åå‘ç°é…ç½®<code>æ²¡æœ‰é—®é¢˜</code>ã€‚ç„¶åä»–åé¦ˆä»– DEBUG å‡ºæ¥ producer é‡Œçš„ namesrv æ˜¯æ­£ç¡®çš„ï¼Œç„¶åä»–è‡ªå·±æ–°åŠ çš„ã€‚è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œäºæ˜¯æˆ‘è®©ä»–æäº¤äº†ä»£ç ç„¶åç”³è¯·äº†ä»£ç æƒé™çœ‹ä¸‹åŸå› ã€‚</p><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>è¿™é‡Œå…ˆè¯´ä¸€å¥ï¼Œæˆ‘å¯¹ BUG è¿™ç§ä¸œè¥¿ï¼Œä¸€ç›´éƒ½ç›¸ä¿¡ä¸€å¥è¯ï¼Œ99%ä½ ç¢°åˆ°è§‰å¾—æ— æ¯”é«˜æ·±çš„ BUGï¼ŒåŸºæœ¬éƒ½æ˜¯éå¸¸ç®€å•çš„ç‚¹å¼„é”™äº†å¯¼è‡´çš„ã€‚è¿™æ¬¡æœç„¶è¿˜æ˜¯å¦‚æ­¤ã€‚</p><p>ä¸€å¼€å§‹æˆ‘éƒ½æ²¡å»çœ‹é…ç½®çš„é—®é¢˜ï¼Œå› ä¸ºä»ä¸šåŠ¡æ–¹ä¹‹å‰æˆªå›¾ç»™æˆ‘çš„é…ç½®é‡Œæ˜¯æ²¡é—®é¢˜çš„ã€‚æˆ‘ä»¬å¯¹é…ç½®çš„å¼•ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ @key@ï¼Œå¦å¤–ä¸€ç§æ˜¯ ${key}ã€‚æˆªå›¾ç»™æˆ‘çš„æ—¶å€™ç”¨çš„æ˜¯ @key@ï¼Œæˆ‘æƒ³å½“ç„¶è§‰å¾—è¿™åº”è¯¥ä¹Ÿæ˜¯èƒ½æ­£å¸¸æ‹¿åˆ° value çš„ã€‚</p><p>äºæ˜¯å¼€å§‹DEBUGï¼Œå‘ç°ä»–é…ç½®çš„ @key@ å±…ç„¶æ²¡å¼•ç”¨åˆ° valueï¼Œç›´æ¥æŠŠ @key @ä½œä¸º namesrv ä¼ è¿›å»äº†,å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617094655941.png" alt="image-20200617094655941"></p><p>ä½†æ˜¯æ€è€ƒä¸€ä¸‹ï¼Œåˆæœ‰é—®é¢˜äº†ã€‚æŒ‰æ­£å¸¸çš„æ€ç»´ï¼Œnamesrvé…ç½®éš¾é“ä¸æ˜¯åº”è¯¥è·Ÿç€ producer å—ã€‚éš¾é“ rocketMQ åœ¨åŒä¸€ä¸ª JVM ä¸­åªå…è®¸è¿ä¸€ä¸ª namesrv?å¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£æ˜¯é…ç½®çš„è¦†ç›–è¿˜æ˜¯å•ä¾‹æ¥å®ç°å‘¢?</p><p>äºæ˜¯ç»§ç»­çœ‹æºç ã€‚</p><p>å¼‚å¸¸æ˜¯åœ¨è¿™è¡ŒæŠ›å‡º</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617101631909.png" alt="image-20200617101631909"></p><p>æŠ›å‡ºçš„åŸå› æ˜¯ä¸‹é¢è¿™è¡Œåˆ¤æ–­ä¸é€šè¿‡ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">topicPublishInfo !&#x3D; null &amp;&amp; topicPublishInfo.ok()</span><br></pre></td></tr></table></figure><p>ç»§ç»­è¿½è¸ªä¸‹å»ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™ä¸ª Map ä¸­ topic å¯¹åº”çš„ topic è·¯ç”±ä¿¡æ¯ä¸å­˜åœ¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617102300534.png" alt="image-20200617102300534"></p><p>é‚£ä¹ˆè¿™ä¸ªMapåˆæ˜¯ä»€ä¹ˆæ—¶å€™å†™å…¥ä¿¡æ¯çš„å‘¢ã€‚å…¶å®æ˜¯åœ¨ä¸‹å›¾è¿™ä¸ªåœ°æ–¹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617102825025.png" alt="image-20200617102825025"></p><p>ä¸Šé¢é‚£ä¸ªå†™å…¥è·¯ç”±ä¿¡æ¯çš„æ–¹æ³•åˆæ˜¯åœ¨è¿™ä¸ªåœ°æ–¹è°ƒç”¨çš„ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ MQClientInstance é‡Œçš„ï¼Œä¸çŸ¥é“å¤§å®¶çœ‹åˆ° Instance è¿™ä¸ªç±»åç»“å°¾æœ‰æ²¡æœ‰å•¥æ„Ÿè§‰ã€‚æˆ‘æ˜¯çœ‹åˆ°è¿™ä¸ªåŸºæœ¬å°±å¾€å•ä¾‹æˆ–è€…è·ŸæŸä¸ª key ç»‘å®šè¿™æ–¹é¢å»æƒ³ã€‚é‚£ä¹ˆç»§ç»­çœ‹ MQClientInstance æ˜¯æ€ä¹ˆç»´æŠ¤çš„ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617103020755.png" alt="image-20200617103020755"></p><p>MQClientInstance å­˜å‚¨å’Œç”Ÿæˆçš„åœ°æ–¹å¦‚ä¸‹é¢ä¸¤å¼ å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617103404096.png" alt="image-20200617103404096"></p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617103518874.png" alt="image-20200617103518874"></p><p>å¯ä»¥çœ‹åˆ°æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹åšäº†ä¸ªç»‘å®šï¼Œé‚£ä¹ˆç»§ç»­å¾€ä¸‹çœ‹ã€‚ç”Ÿæˆäº† MQClientInstance å¹¶ä»¥ä¸‹å›¾é‡Œçš„ä»£ç çš„ç»“æœä¸º key æ”¾å…¥</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200617103630933.png" alt="image-20200617103630933"></p><p>é‚£çœŸç›¸å°±å‡ºç°äº†ï¼Œ<code>åŒä¸€ä¸ª JVM ä¸­å¦‚æœé…ç½®çš„æ—¶å€™ä¸é… unitNameï¼Œé‚£ä¹ˆä¸ç®¡é…å¤šå°‘ä¸ª producer éƒ½åªä¼šæœ‰ä¸€ä¸ª MQClientInstance,ç›¸å½“äº config ä¹Ÿå°±ç”Ÿæ•ˆä¸€ä»½</code> ğŸ˜ã€‚åŸºæœ¬å°±çœ‹å“ªä¸ª producerå…ˆåˆå§‹åŒ–äº†ã€‚åé¢æ¥çš„åªèƒ½æ‹¿ä¹‹å‰çš„é‚£ä¸ª MQClientInstance æ¥è·å–è·¯ç”±ä¿¡æ¯ã€‚</p><p>å†å›åˆ°ä¹‹å‰æœ€å¼€å§‹çš„é—®é¢˜ï¼Œä¸šåŠ¡æ–¹åé¢é…ç½®çš„ producer æ˜¯ç”¨ xml é…ç½®çš„ beanï¼Œè€Œè°ƒåº¦ä¸­å¿ƒçš„ producer ä»–ä»¬ä½¿ç”¨æ—¶åœ¨é‡å†™äº† afterPropertiesSet æ–¹æ³•é‡Œåˆå§‹åŒ–ã€‚ç†è®ºä¸Šè‚¯å®šæ˜¯ spring è‡ªèº«ç»´æŠ¤çš„ bean åˆå§‹åŒ–åœ¨ afterPropertiesSet ä¹‹å‰ã€‚ç„¶è€Œxmlé‡Œé…ç½®çš„valueæ°å¥½åˆæ˜¯é”™è¯¯çš„ï¼Œå°±å¯¼è‡´äº† No route info for this topic å‡ºç°äº†ã€‚å°† namesrv çš„å¼•ç”¨æ”¹ä¸ºæ­£ç¡®çš„ï¼Œé—®é¢˜è§£å†³ã€‚</p><p>åç»­åœ¨ vdianmq é‡Œå¯ä»¥ä»¥ warn log çš„å½¢å¼æé†’ä¸‹ä¸šåŠ¡æ–¹è¿™æ–¹é¢ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;æ˜¨å¤©ä¸€ä½ä¸šåŠ¡çš„åŒå­¦åœ¨æˆ‘å®¡æ‰¹MQé€šè¿‡åï¼Œåœ¨ä¸šåŠ¡ä»£ç é‡ŒåŠ äº†ä¸ª producerï¼Œç»“æœå¯åŠ¨é¡¹ç›®æ—¶é›†æˆçš„è°ƒåº¦ä¸­å¿ƒçš„äºŒæ–¹åŒ…é‡Œçš„ producer åœ¨é€š
      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
      <category term="RocketMQ" scheme="http://xingcici.github.io/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>Zookeepråœ¨åˆ†å¸ƒå¼åè°ƒä¸­çš„ä½¿ç”¨</title>
    <link href="http://xingcici.github.io/2020/06/16/use-of-zookeepr-in-distributed-coordination.html"/>
    <id>http://xingcici.github.io/2020/06/16/use-of-zookeepr-in-distributed-coordination.html</id>
    <published>2020-06-16T03:00:46.686Z</published>
    <updated>2020-06-24T07:11:58.541Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="åˆ†å¸ƒå¼" scheme="http://xingcici.github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
    
      <category term="Zookeeper" scheme="http://xingcici.github.io/tags/Zookeeper/"/>
    
  </entry>
  
  <entry>
    <title>Sofa-boltæºç é˜…è¯»</title>
    <link href="http://xingcici.github.io/2020/06/16/sofabolt-source-reading.html"/>
    <id>http://xingcici.github.io/2020/06/16/sofabolt-source-reading.html</id>
    <published>2020-06-16T02:57:12.287Z</published>
    <updated>2020-06-24T06:59:04.233Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>â€‹        SOFABolt æ˜¯èš‚èšé‡‘èæœåŠ¡é›†å›¢å¼€å‘çš„ä¸€å¥—åŸºäº Netty å®ç°çš„ç½‘ç»œé€šä¿¡æ¡†æ¶ã€‚</p><ul><li><p>ä¸ºäº†è®© Java ç¨‹åºå‘˜èƒ½å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨åŸºäºç½‘ç»œé€šä¿¡çš„ä¸šåŠ¡é€»è¾‘å®ç°ä¸Šï¼Œè€Œä¸æ˜¯è¿‡å¤šçš„çº ç»“äºç½‘ç»œåº•å±‚ NIO çš„å®ç°ä»¥åŠå¤„ç†éš¾ä»¥è°ƒè¯•çš„ç½‘ç»œé—®é¢˜ï¼ŒNetty åº”è¿è€Œç”Ÿã€‚</p></li><li><p>ä¸ºäº†è®©ä¸­é—´ä»¶å¼€å‘è€…èƒ½å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨äº§å“åŠŸèƒ½ç‰¹æ€§å®ç°ä¸Šï¼Œè€Œä¸æ˜¯é‡å¤åœ°ä¸€ééåˆ¶é€ é€šä¿¡æ¡†æ¶çš„è½®å­ï¼ŒSOFABolt åº”è¿è€Œç”Ÿã€‚</p></li></ul><p>  Bolt åå­—å–è‡ªè¿ªå£«å°¼åŠ¨ç”» - é—ªç”µç‹—ï¼Œæ˜¯ä¸€ä¸ªåŸºäº Netty æœ€ä½³å®è·µçš„è½»é‡ã€æ˜“ç”¨ã€é«˜æ€§èƒ½ã€æ˜“æ‰©å±•çš„é€šä¿¡æ¡†æ¶ã€‚ è¿™äº›å¹´æˆ‘ä»¬åœ¨å¾®æœåŠ¡ä¸æ¶ˆæ¯ä¸­é—´ä»¶åœ¨ç½‘ç»œé€šä¿¡ä¸Šè§£å†³è¿‡å¾ˆå¤šé—®é¢˜ï¼Œç§¯ç´¯äº†å¾ˆå¤šç»éªŒï¼Œå¹¶æŒç»­çš„è¿›è¡Œç€ä¼˜åŒ–å’Œå®Œå–„ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æŠŠæ€»ç»“å‡ºçš„è§£å†³æ–¹æ¡ˆæ²‰æ·€åˆ° SOFABolt è¿™ä¸ªåŸºç¡€ç»„ä»¶é‡Œï¼Œè®©æ›´å¤šçš„ä½¿ç”¨ç½‘ç»œé€šä¿¡çš„åœºæ™¯èƒ½å¤Ÿç»Ÿä¸€å—ç›Šã€‚ ç›®å‰è¯¥äº§å“å·²ç»è¿ç”¨åœ¨äº†èš‚èšä¸­é—´ä»¶çš„å¾®æœåŠ¡ (SOFARPC)ã€æ¶ˆæ¯ä¸­å¿ƒã€åˆ†å¸ƒå¼äº‹åŠ¡ã€åˆ†å¸ƒå¼å¼€å…³ã€ä»¥åŠé…ç½®ä¸­å¿ƒç­‰ä¼—å¤šäº§å“ä¸Šã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;â€‹        SOFABolt æ˜¯èš‚èšé‡‘èæœåŠ¡é›†å›¢å¼€å‘çš„ä¸€å¥—åŸºäº Netty å®ç°çš„ç½‘ç»œé€šä¿¡æ¡†æ¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ä¸ºäº†è®© Java ç¨‹åºå‘˜èƒ½å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨åŸºäºç½‘ç»œé€šä¿¡çš„ä¸šåŠ¡é€»è¾‘å®ç°ä¸Šï¼Œè€Œä¸æ˜¯è¿‡å¤šçš„çº ç»“äºç½‘ç»œåº•å±‚ NIO çš„å®
      
    
    </summary>
    
    
      <category term="æºç " scheme="http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"/>
    
    
      <category term="ç½‘ç»œ" scheme="http://xingcici.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="Netty" scheme="http://xingcici.github.io/tags/Netty/"/>
    
  </entry>
  
  <entry>
    <title>Raftç®—æ³•çš„ç®€å•å®ç°</title>
    <link href="http://xingcici.github.io/2020/06/15/simple-implementation-of-raft-algorithm.html"/>
    <id>http://xingcici.github.io/2020/06/15/simple-implementation-of-raft-algorithm.html</id>
    <published>2020-06-15T12:02:55.454Z</published>
    <updated>2020-06-24T06:59:04.235Z</updated>
    
    <content type="html"><![CDATA[<p>æ•¬è¯·æœŸå¾…</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ•¬è¯·æœŸå¾…&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="åˆ†å¸ƒå¼" scheme="http://xingcici.github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
    
      <category term="ç®—æ³•" scheme="http://xingcici.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>è°ƒåº¦ä¸­å¿ƒä»»åŠ¡åˆ†ç‰‡æ–¹æ¡ˆè®¾è®¡å’Œå®ç°</title>
    <link href="http://xingcici.github.io/2020/06/12/design-and-implementation-of-task-sharding-scheme-in-dispatch-center.html"/>
    <id>http://xingcici.github.io/2020/06/12/design-and-implementation-of-task-sharding-scheme-in-dispatch-center.html</id>
    <published>2020-06-12T06:26:50.069Z</published>
    <updated>2020-06-24T06:59:04.262Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å¾®åº—ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒï¼ˆTOCï¼‰æ¯å¤©æ‰¿æ‹…åƒä¸‡ç”šè‡³äº¿é‡çº§çš„ä»»åŠ¡è°ƒåº¦ï¼Œä¸å•å•æ˜¯å¾ªç¯çš„ä¼ ç»Ÿä»»åŠ¡è°ƒåº¦ï¼Œè¿˜æ‰¿æ‹…äº†ç±»ä¼¼äºå»¶æ—¶æ¶ˆæ¯çš„ä¸€æ¬¡æ€§è°ƒåº¦ã€‚ä½†æ˜¯ç›®å‰è®¾è®¡ä¸Šä»ç„¶æ¯”è¾ƒåŸå§‹ï¼Œæ˜¯TOCæŠ¢åˆ†å¸ƒå¼é”åé€šè¿‡çº¿ç¨‹ä¸æ–­æ‰«è¡¨è¯»å–éœ€è¦è°ƒåº¦çš„jobï¼Œå†é€šè¿‡ dubbo è°ƒåº¦jobï¼Œå½¢æˆäº†ä¸€äººå·¥ä½œï¼Œä»–äººå›´è§‚çš„åœºæ™¯ã€‚è™½ç„¶èƒ½æ»¡è¶³ç›®å‰çš„éœ€æ±‚ï¼Œä½†æ˜¯å·²ç»è¶Šæ¥è¶ŠåŠ›ä¸ä»å¿ƒï¼Œåœ¨ä¸€äº›æç«¯çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æŸä¸ªåº”ç”¨æ³¨å†Œä»»åŠ¡æ¿€å¢çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‡ºç°å¤§é‡çš„è°ƒåº¦å»¶è¿Ÿã€‚äºæ˜¯ä»¥èƒ½æ— é™æ°´å¹³æ‰©å®¹ä¸ºç›®æ ‡çš„è°ƒåº¦æ–¹æ¡ˆçš„æ”¹é€ åŠ¿åœ¨å¿…è¡Œã€‚</p><h3 id="è€æ¶æ„è®¾è®¡"><a href="#è€æ¶æ„è®¾è®¡" class="headerlink" title="è€æ¶æ„è®¾è®¡"></a>è€æ¶æ„è®¾è®¡</h3><p>æœåŠ¡é€šè¿‡æŠ¢å zkåˆ†å¸ƒå¼é”æ¥è·å¾—æ‰§è¡Œæƒé™ï¼Œä»æ•°æ®åº“ä¸­æ‰«è¡¨è·å¾—éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚å› ä¸ºæˆ‘ä»¬æœ‰256å¼ åˆ†è¡¨ï¼Œæˆ‘ä»¬ä¹Ÿé™åˆ¶æˆä»æ¯å¼ åˆ†è¡¨é‡Œè¯»å–100æ¡è®°å½•ï¼Œæ¯æ¬¡æœ€å¤§æ€»æ•°ä¹Ÿå°±æ˜¯25600ã€‚</p><p>æ‰§è¡Œæ—¶é€šè¿‡ dubbo rpc å›è°ƒæ³¨å†Œæ–¹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</p><p>æ³¨å†Œæ–¹æ‰§è¡Œå®Œåä¼šå›è°ƒè°ƒåº¦ä¸­å¿ƒæ›´æ–°ä»»åŠ¡çŠ¶æ€ã€‚</p><h3 id="è°ƒç ”"><a href="#è°ƒç ”" class="headerlink" title="è°ƒç ”"></a>è°ƒç ”</h3><p>è°ƒç ”æ—¶å‘ç°ï¼Œç›®å‰å¼€æºçš„æ¯”è¾ƒæµè¡Œçš„è°ƒåº¦ä¸­å¿ƒä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆã€‚ä¸€ç§æ˜¯ä¸­å¿ƒåŒ–çš„ï¼Œä¾‹å¦‚xxl-jobã€‚å¦å¤–ä¸€ç§æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œä¾‹å¦‚ elastic-jobã€‚</p><p>ç”±äºå…¬å¸å†…éƒ¨zookeeperçš„ä½¿ç”¨å·²ç»æ¯”è¾ƒæˆç†Ÿäº†ï¼Œè€Œä¸”å¯¹é«˜å¯ç”¨çš„è¦æ±‚æ¯”è¾ƒé«˜ã€‚äºæ˜¯ç€é‡ç ”ç©¶äº†es-jobã€‚</p><p>es-jobå®ç°åˆ†ç‰‡çš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨zkä½œä¸ºåè°ƒè€…æ¥è¿›è¡Œåˆ†ç‰‡ã€‚</p><p>å…³é”®æµç¨‹å¦‚ä¸‹ï¼š</p><p>1ã€æ¯ä¸€ä¸ªæœåŠ¡å¯åŠ¨æ—¶ï¼Œå‘zkçš„workerèŠ‚ç‚¹æ³¨å†Œï¼ŒåŒæ—¶å‚ä¸leaderçš„é€‰ä¸¾ã€‚</p><p>2ã€leaderé€‰ä¸¾æˆåŠŸåï¼Œåœ¨éœ€è¦è¿›è¡Œåˆ†ç‰‡çš„ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œè·å–workerèŠ‚ç‚¹çš„æ•°é‡ï¼Œå¯¹ä»»åŠ¡è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ†é…è‡³workerèŠ‚ç‚¹ä¸‹ã€‚</p><p>3ã€workerèŠ‚ç‚¹æ‰§è¡Œä»»åŠ¡æ—¶ä»cacheè¯»å–éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼ŒåŒæ—¶æ›´æ–°ä»»åŠ¡æ‰§è¡Œçš„çŠ¶æ€ã€‚</p><p>å…³é”®çš„æµç¨‹æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸»è¦å°±æ˜¯åˆ©ç”¨äº†zkã€‚</p><h3 id="æ–°æ¶æ„è®¾è®¡"><a href="#æ–°æ¶æ„è®¾è®¡" class="headerlink" title="æ–°æ¶æ„è®¾è®¡"></a>æ–°æ¶æ„è®¾è®¡</h3><p>æˆ‘ä»¬å…¬å¸çš„è°ƒåº¦äº§å“æœ‰ä¸ªç‰¹ç‚¹ï¼Œåº•å±‚æ•°æ®åº“å°±æ˜¯åˆ†è¡¨çš„ï¼Œå›ºå®šçš„256å¼ è¡¨ï¼Œé‚£ä¹ˆå­˜åœ¨å¤©ç„¶çš„åˆ†ç‰‡ä¼˜åŠ¿ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ—¶ä¹Ÿå°±æ¯”è¾ƒç®€å•ï¼Œå°†256å¼ è¡¨åˆ†ç»™æ³¨å†Œåœ¨zk workerèŠ‚ç‚¹ä¸‹çš„workerå°±è¡Œã€‚</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>1ã€è°ƒåº¦ä¸­å¿ƒèµ·æ¥åï¼Œå‘zk æ³¨å†Œ workerä¸´æ—¶èŠ‚ç‚¹ï¼ŒåŒæ—¶ç›‘å¬é“¾æ¥çŠ¶æ€å’ŒèŠ‚ç‚¹ node cache çš„å˜åŒ–ã€‚</p><p>2ã€æ¯ä¸ªå®ä¾‹éƒ½å‚ä¸ leader é€‰ä¸¾ã€‚æˆä¸ºleader çš„å®ä¾‹ å¯¹ worker æ ¹èŠ‚ç‚¹æ·»åŠ ç›‘å¬å™¨ï¼Œç›‘å¬ worker å˜åŒ–äº‹ä»¶ã€‚</p><p>3ã€leader æ ¹æ® worker æ•°é‡ï¼Œå¯¹ 256 å¼ è¡¨è¿›è¡Œåˆ†é…ï¼Œåˆ†é…ç»“æœå†™å…¥åˆ° node cacheã€‚</p><p>4ã€worker ç›‘å¬åˆ° node cache å‘ç”Ÿå˜åŒ–ï¼Œè·å–æœ€æ–°æ•°æ®ï¼Œ å†™å…¥æœ¬åœ°çš„ç¼“å­˜ã€‚</p><p>5ã€å½“ worker ä¸ zk ä¹‹é—´è¿æ¥å‘ç”Ÿæ³¢åŠ¨æ—¶ï¼Œæ¸…ç©ºæœ¬åœ°ç¼“å­˜ã€‚</p><p>6ã€è°ƒåº¦æ‰«æçº¿ç¨‹æ ¹æ®æœ¬åœ°ç¼“å­˜é‡Œçš„è¡¨ï¼Œè¿›è¡Œæ‰«è¡¨æ‰§è¡Œã€‚</p><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p>è€æ¶æ„CPUç›‘æ§</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200612143209085.png" alt="image-20200612143209085"></p><p>æ–°æ¶æ„CPUç›‘æ§</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200612143227022.png" alt="image-20200612143227022"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸€äººå¹²æ´»ï¼Œä»–äººå›´è§‚çš„åœºé¢ä¸€å»ä¸å¤è¿”äº†ã€‚å¤§å®¶ä¸€èµ·å¹²æ´»ï¼Œå¾ˆå’Œè°ã€‚</p><h3 id="æ¢ç´¢"><a href="#æ¢ç´¢" class="headerlink" title="æ¢ç´¢"></a>æ¢ç´¢</h3><h3 id="etc"><a href="#etc" class="headerlink" title="etc"></a>etc</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;å¾®åº—ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒï¼ˆTOCï¼‰æ¯å¤©æ‰¿æ‹…åƒä¸‡ç”šè‡³äº¿é‡çº§çš„ä»»åŠ¡è°ƒåº¦ï¼Œä¸å•å•æ˜¯å¾ªç¯çš„ä¼ ç»Ÿä»»åŠ¡è°ƒåº¦ï¼Œè¿˜æ‰¿æ‹…äº†ç±»ä¼¼äºå»¶æ—¶æ¶ˆæ¯çš„ä¸€æ¬¡æ€§è°ƒåº¦ã€‚ä½†æ˜¯ç›®å‰è®¾è®¡ä¸Šä»
      
    
    </summary>
    
    
      <category term="æ¶æ„è®¾è®¡" scheme="http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    
  </entry>
  
  <entry>
    <title>dubboè°ƒç”¨åœ¨2.7.5ç‰ˆæœ¬ä»¥ä¸‹çš„æ€§èƒ½é—®é¢˜çš„è§£å†³</title>
    <link href="http://xingcici.github.io/2020/06/11/dubbo-call-to-solve-performance-problems-below-version-275.html"/>
    <id>http://xingcici.github.io/2020/06/11/dubbo-call-to-solve-performance-problems-below-version-275.html</id>
    <published>2020-06-11T02:26:30.501Z</published>
    <updated>2020-06-24T06:59:04.285Z</updated>
    
    <content type="html"><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>toc çš„ç›‘æ§åœ¨æ—¥å¸¸ç¯å¢ƒæµ‹è¯•æ—¶ï¼Œå‘ç°æ—¥å¸¸ç¯å¢ƒåœ¨å¤§é‡JOBéœ€è¦è°ƒåº¦çš„æƒ…å†µä¸‹ï¼Œå‘ç°ä¸‰å°æœºå™¨è°ƒåº¦çš„ç“¶é¢ˆå¤§æ¦‚ä¸º8kæ¯åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯ä¸€å°æœºå™¨æ¯ç§’å¤„ç†44ä¸ªï¼Œå¹³å‡æ¯ä¸ªJOBè€—æ—¶22æ¯«ç§’ã€‚è¿™è¿˜æ˜¯åœ¨å·²ç»åˆ†ç‰‡çš„æƒ…å†µä¸‹ã€‚</p><p>å¦‚æœåªæ˜¯ dubbo è°ƒç”¨å°±è¦è¿™ä¹ˆä¹…è‚¯å®šä¸æ­£å¸¸ã€‚äºæ˜¯è¿›è¡Œæ’æŸ¥ã€‚</p><h3 id="æ•°æ®"><a href="#æ•°æ®" class="headerlink" title="æ•°æ®"></a>æ•°æ®</h3><p>ç†è®ºä¸Šæœ€è€—æ—¶çš„ç‚¹åº”è¯¥æ˜¯åœ¨è¿œç¨‹è°ƒç”¨çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œå»¶è¿Ÿã€‚åœ¨æ—¥å¸¸ç¯å¢ƒç”¨arthasæŠ“å–æ–¹æ³•è€—æ—¶ï¼Œå‘ç°è€—æ—¶çš„è¿‡ç¨‹åè€Œæ˜¯åœ¨</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/652BE8F3-6A34-467F-BCE0-5362B40E1E93.png" alt="652BE8F3-6A34-467F-BCE0-5362B40E1E93"></p><p>è¿™ä¸ªæ–¹æ³•ä¸Šã€‚</p><p>ç”¨ arthas æŠ“çš„å›¾å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/9C1437EC-09DE-4039-9800-C68D1591701D.png" alt="9C1437EC-09DE-4039-9800-C68D1591701D"></p><p>å¯ä»¥çœ‹åˆ° config.get è¿™ä¸ªæ–¹æ³•è¿œå¤§äºæˆ–è€…æ¥è¿‘å®é™…è°ƒç”¨è¿‡ç¨‹ã€‚ç†è®ºä¸Šå¯¹è¿™ä¸ªç‚¹è¿›è¡Œä¼˜åŒ–å¯ä»¥è‡³å°‘æå‡ä¸€å€çš„æ€§èƒ½ã€‚</p><h3 id="è§£å†³è¿‡ç¨‹"><a href="#è§£å†³è¿‡ç¨‹" class="headerlink" title="è§£å†³è¿‡ç¨‹"></a>è§£å†³è¿‡ç¨‹</h3><p>ç»§ç»­åˆ†æ get æ–¹æ³•ï¼Œå…¶å†…éƒ¨è€—æ—¶ä¸»è¦è¿˜æ˜¯åœ¨ checkAndUpdateSubConfigs(); è¿™ä¸ªæ–¹æ³•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/A0BCC225-A330-45BB-AC2F-4C73EB38AABB.png" alt="A0BCC225-A330-45BB-AC2F-4C73EB38AABB"></p><p>è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯è·å–åˆ·æ–°å„ç§é…ç½®ã€‚è€Œä¸”ç”±äºæˆ‘ä»¬æ²¡æœ‰ç”¨æ–°ç‰ˆçš„dubboé…ç½®ä¸­å¿ƒï¼Œå¯¼è‡´æ¯è°ƒä¸€æ¬¡GETä¼šæ‰“ä¸€æ¬¡warnæ—¥å¿—<img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/42EDB6B8-5D43-4E59-BD73-D5F22C7CB69B.png" alt="42EDB6B8-5D43-4E59-BD73-D5F22C7CB69B"></p><p>äºæ˜¯è€ƒè™‘è¦ä¸åœ¨get åšä¸ªç¼“å­˜æ¥è§£å†³ã€‚ä½†æ˜¯åœ¨è§£å†³ä¹‹å‰ä¹ŸæŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰å…¶ä»–äººç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç»“æœè¿˜çœŸæœ‰ã€‚ä»–ä»¬è§£å†³çš„åŠæ³•æ˜¯å‡çº§dubbo ç‰ˆæœ¬ã€‚apache 2.7.5 ç‰ˆæœ¬</p><p>å°±è§£å†³äº†è¿™ä¸ªæ€§èƒ½é—®é¢˜ï¼Œå°† checkAndUpdateSubConfigs ä¸¢åˆ° init æ–¹æ³•é‡Œï¼Œåªåœ¨ init çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/1FFB477A-6B66-4741-8918-854868F7642B.png" alt="1FFB477A-6B66-4741-8918-854868F7642B"></p><p>ä¸è¿‡ç”±äºå‡çº§ dubbo æ ¸å¿ƒç‰ˆæœ¬æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œäºæ˜¯æš‚æ—¶å°±åœ¨ get å¤–å±‚åšäº†ä¸ªç¼“å­˜æ¥è§£å†³ã€‚</p><p>ä¸‹å›¾æ˜¯ä¿®æ”¹åçš„è€—æ—¶ï¼Œå¯ä»¥çœ‹åˆ°è€—æ—¶åŸºæœ¬åªå‰©è°ƒç”¨è¿™å—ã€‚å…·ä½“çš„æ€§èƒ½æå‡å¤šå°‘ç­‰å¾…åç»­çš„æµ‹è¯•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/8015F365-6DDC-4F48-BAB3-60BAF289208A.png" alt="8015F365-6DDC-4F48-BAB3-60BAF289208A"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;toc çš„ç›‘æ§åœ¨æ—¥å¸¸ç¯å¢ƒæµ‹è¯•æ—¶ï¼Œå‘ç°æ—¥å¸¸ç¯å¢ƒåœ¨å¤§é‡JOBéœ€è¦è°ƒåº¦çš„æƒ…å†µä¸‹ï¼Œå‘ç°ä¸‰å°æœºå™¨è°ƒåº¦çš„ç“¶é¢ˆå¤§æ¦‚ä¸º8kæ¯åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯ä¸€å°æœºå™¨æ¯ç§’å¤„ç†44
      
    
    </summary>
    
    
      <category term="æ—¥å¸¸é—®é¢˜" scheme="http://xingcici.github.io/categories/%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/"/>
    
    
      <category term="dubbo" scheme="http://xingcici.github.io/tags/dubbo/"/>
    
  </entry>
  
  <entry>
    <title>Sentinelç”Ÿäº§ç¯å¢ƒæ”¹é€ å®è·µ</title>
    <link href="http://xingcici.github.io/2020/04/08/sentinel-production-environment-transformation-practice.html"/>
    <id>http://xingcici.github.io/2020/04/08/sentinel-production-environment-transformation-practice.html</id>
    <published>2020-04-08T05:23:50.763Z</published>
    <updated>2020-06-24T06:59:04.277Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><p>éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå…¬å¸çš„æœåŠ¡éœ€è¦å¯¹æŸäº›æ¥å£è¿›è¡Œé™æµæˆ–è€…æ ¹æ®æŸäº›å±æ€§å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚ä¹‹å‰çš„æ–¹å¼æ˜¯å°†é»‘ç™½åå•å­˜å‚¨åœ¨æ•°æ®åº“æˆ–è€…é…ç½®ä¸­å¿ƒï¼Œæ— æ³•è¾ƒå¿«å’Œæ–¹ä¾¿å¾—å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚å…¬å¸å®‰æ’å¹³å°ç»„è¿›è¡Œç›¸å…³çš„è°ƒç ”ï¼Œè°ƒç ”çš„ç»“æœæ˜¾ç¤ºé˜¿é‡Œå¼€æºçš„ Sentinel æœ€ç¬¦åˆæˆ‘ä»¬ç›®å‰çš„éœ€æ±‚ã€‚<br>æ ¹æ®æ–‡æ¡£ï¼Œç›®å‰å¼€æºçš„ç‰ˆæœ¬v1.6.3æ— æ³•åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥ä½¿ç”¨ã€‚æ ¹æ®å…¬å¸ç›®å‰çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ç½‘å…³éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œè¦è¿›è¡Œä»¥ä¸‹å‡ ç‚¹æ”¹é€ ã€‚<br>1.ç›‘æ§æ•°æ®çš„æŒä¹…åŒ–ã€‚<br>2.ç½‘å…³æµæ§è§„åˆ™å’ŒAPIç»„è§„åˆ™æ¥å…¥ Apollo é…ç½®ä¸­å¿ƒã€‚<br>3.ç™»å½•é‰´æƒä½“ç³»ã€‚<br>æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨æ”¹é€ è¿‡ç¨‹ä¸­çš„å®è·µã€‚</p><hr><h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><h4 id="Sentinel-ç½‘å…³é™æµæ¶æ„"><a href="#Sentinel-ç½‘å…³é™æµæ¶æ„" class="headerlink" title="Sentinel ç½‘å…³é™æµæ¶æ„"></a>Sentinel ç½‘å…³é™æµæ¶æ„</h4><p>åœ¨å®è·µå¼€å§‹ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ Sentinel ç½‘å…³é™æµçš„æ¶æ„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://pic.superbed.cn/item/5d65fb26451253d178f26bd3.png" alt=""></p><p>æƒ å€Ÿå‡†å¤‡å°†åŸå…ˆçš„ Zuul 1.x ç½‘å…³å‡çº§æˆ Spring Cloud Gatewayï¼Œæœ¬æ–‡å°±ä»¥Spring Cloud Gateway ä¸ºä¾‹ï¼Œä»¥ä¸‹ç®€ç§° SCGã€‚SCGä¸­éœ€è¦åŠ å…¥sentinelé€‚é…SCGçš„jaråŒ…ï¼Œå¹¶ä¸”åœ¨å¯åŠ¨æ—¶åŠ å…¥ä¸€äº›é…ç½®å‚æ•°ã€‚</p><ol><li>SCGå¯åŠ¨æ—¶ä¼šå‘ Dashboard æœåŠ¡è¯·æ±‚APIç»„è§„åˆ™å’Œæµæ§è§„åˆ™ï¼ŒåŠ å…¥åˆ°æœ¬æœºçš„é…ç½®ä¸­ã€‚</li><li>åœ¨è¯·æ±‚ç»è¿‡SCGæ—¶ä¼šå¯¹è¯·æ±‚è¿›è¡Œç»Ÿè®¡å’Œè¾“å‡ºæ—¥å¿—ã€‚</li><li>Dashboard æ›´æ–°è§„åˆ™æ—¶ä¼šæ›´æ–°æœ¬åœ°å†…å­˜ä¸­çš„è§„åˆ™å¹¶æ¨é€è‡³SCGã€‚</li><li>Dashboard ä¼šå®šæ—¶æ‹‰å–SCGè¾“å‡ºçš„æ—¥å¿—çš„ç»Ÿè®¡ç»“æœã€‚</li></ol><h4 id="ç›‘æ§æ•°æ®æŒä¹…åŒ–"><a href="#ç›‘æ§æ•°æ®æŒä¹…åŒ–" class="headerlink" title="ç›‘æ§æ•°æ®æŒä¹…åŒ–"></a>ç›‘æ§æ•°æ®æŒä¹…åŒ–</h4><p>åœ¨ä¸Šè¿°æ¶æ„å›¾ä¸­ï¼Œé›†æˆ Sentinel SCG jaråŒ…åï¼ŒSentinel ä¼šåœ¨ SCGçš„è¿‡æ»¤å™¨ä¸­åŠ å…¥ä¸€ä¸ª SentinelGatewayFilterã€‚å¯¹ SCG è¯·æ±‚çš„æ‹¦æˆªå°±ç”±è¿™ä¸ªè¿‡æ»¤å™¨æ¥å®ç°ã€‚å…·ä½“ç›‘æ§æ•°æ®çš„ç”Ÿæˆå’Œè¾“å‡ºç”±ä¸€ç³»åˆ—çš„ Slot è´Ÿè´£ï¼Œå…·ä½“åŸç†è¿™é‡Œä¸å±•å¼€å™è¿°ï¼Œå› ä¸ºæœ¬æ–‡ä¸»è¦æè¿°ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„æ”¹é€ ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æœä¸€ä¸‹ Sentinel æ—¶é—´çª—å£ã€‚<br>åŸå…ˆçš„ç›‘æ§æ•°æ®ç”± Dashboard æ”¶é›†åå­˜å‚¨åœ¨ Map ä¸­ï¼Œå¹¶ä¸”åªå­˜å‚¨äº”åˆ†é’Ÿå†…çš„æ•°æ®ï¼Œåœ¨ Dashboard é‡å¯åç›‘æ§æ•°æ®å°±æ¶ˆå¤±ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è‚¯å®šæ˜¯ä¸èƒ½æ¥å—çš„ã€‚ç”±äºæˆ‘ä»¬å…¬å¸æœ¬èº«ä¹Ÿæœ‰ESæœåŠ¡ï¼Œè¿™äº›æ•°æ®åˆæ˜¯ä¸ªæ—¶åºæ•°æ®ï¼Œè‡ªç„¶è€Œç„¶å°±æƒ³åˆ°å¯ä»¥æ”¾å…¥ESä¸­è¿›è¡ŒæŒä¹…åŒ–ã€‚<br>é¦–å…ˆæ–°å»º ElasticsearchMetricsRepository æ¥å®ç° MetricsRepository æ¥å£ç±»ã€‚åˆ†åˆ«å®ç°å…¶ä¸­çš„ saveã€saveAllã€queryByAppAndResourceBetween å’Œ listResourcesOfAppã€‚åœ¨ MetricControllerã€ MetricFetcher ä¸­æŠŠè‡ªåŠ¨æ³¨å…¥çš„ MetricsRepository åŠ ä¸Š <code>@Qualifier(value = &quot;elasticsearchMetricsRepository&quot;)</code>ã€‚<br>è¿˜æœ‰å¦å¤–ä¸€ä¸ªç‚¹åœ¨äº Dashboard æŸ¥è¯¢ç›‘æ§æ•°æ®è¿›è¡Œå±•ç¤ºæ—¶ï¼Œå¼€æºçš„ç‰ˆæœ¬å¹¶ä¸ä¼šå°†è°ƒç”¨é‡ä¸ºé›¶çš„é‚£æ®µæ•°æ®è¡¥é½ï¼Œå¯¼è‡´ç›‘æ§æ•°æ®å±•ç¤ºå¾—éå¸¸å¥‡æ€ªã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æŸ¥è¯¢ç›‘æ§æ•°æ®æ¥å£å¯¹ESè¿”å›çš„æ•°æ®è¿›è¡Œè¡¥é½ï¼Œè®©ç›‘æ§æ•°æ®æ˜¯è¿ç»­çš„ã€‚<br>ä¸‹å›¾æ˜¯æ”¹é€ å®Œçš„ç›‘æ§ã€‚</p><p><img src="https://pic.superbed.cn/item/5d65fb8a451253d178f2785a.png" alt=""></p><h4 id="ç½‘å…³æµæ§è§„åˆ™å’Œ-API-è§„åˆ™æ¥å…¥Apolloé…ç½®ä¸­å¿ƒ"><a href="#ç½‘å…³æµæ§è§„åˆ™å’Œ-API-è§„åˆ™æ¥å…¥Apolloé…ç½®ä¸­å¿ƒ" class="headerlink" title="ç½‘å…³æµæ§è§„åˆ™å’Œ API è§„åˆ™æ¥å…¥Apolloé…ç½®ä¸­å¿ƒ"></a>ç½‘å…³æµæ§è§„åˆ™å’Œ API è§„åˆ™æ¥å…¥Apolloé…ç½®ä¸­å¿ƒ</h4><p>å¼€æºç‰ˆæœ¬çš„ Sentinel æµæ§è§„åˆ™å’ŒAPIè§„åˆ™ä¹Ÿéƒ½æ˜¯å†…å­˜æ€çš„ï¼Œåœ¨ SCG å’Œ Dashboard é‡å¯åä¹Ÿä¼šæ¶ˆå¤±ã€‚<br>æˆ‘ä»¬åŸå…ˆçš„é…ç½®ä¸­å¿ƒé‡‡ç”¨çš„å°±æ˜¯ Apolloï¼ŒSentinel åˆšå¥½å¯ä»¥è·Ÿ Apollo è¿›è¡Œé›†æˆã€‚å®ç° Dashboard æ¨é€è‡³ Apolloï¼ŒApollo å†æ¨é€è‡³ SCGï¼ŒSCGå¯åŠ¨æ—¶ä¹Ÿä» Apollo è¿›è¡ŒåŠ è½½ã€‚</p><h5 id="SCGæ–¹é¢"><a href="#SCGæ–¹é¢" class="headerlink" title="SCGæ–¹é¢"></a>SCGæ–¹é¢</h5><p>è·Ÿæ™®é€šåº”ç”¨æ¥å…¥ Apollo ä¸€æ ·ï¼Œåœ¨ Apollo å»ºç«‹åº”ç”¨ã€‚åŒæ—¶éœ€è¦æ–°å¢ä¸¤ä¸ªç‰¹æ®Šçš„ namespaceï¼Œåˆ†åˆ«ä¸º flow_rule ã€ api_groupã€‚åœ¨SCGä¸­åŠ å…¥ Sentinelçš„ Apollo ä¾èµ–ï¼ŒåŒæ—¶é…ç½®ä¸€èˆ¬çš„ Apollo å‚æ•°ã€‚<br>ç„¶åéœ€è¦å¯¹ Sentinel çš„æµæ§è§„åˆ™å’ŒAPIç»„è§„åˆ™åŠ è½½æ–¹å¼è¿›è¡Œä¿®æ”¹ã€‚åœ¨ SentinelGatewayConfiguration é…ç½®ä¸­åŠ å…¥å¦‚ä¸‹ä¸¤æ®µä»£ç </p><p><img src="https://pic.superbed.cn/item/5d65fb50451253d178f2710d.png" alt=""><br>åç»­åŠ è½½è§„åˆ™åˆ†åˆ«ä»æŸ namespace ä¸‹çš„æŸ key åŠ è½½ã€‚</p><h5 id="Dashboardæ–¹é¢"><a href="#Dashboardæ–¹é¢" class="headerlink" title="Dashboardæ–¹é¢"></a>Dashboardæ–¹é¢</h5><p>Dashboard è¿™è¾¹æœ¬èº« Sentinel å·²ç»æŠŠæ™®é€šåº”ç”¨çš„æµæ§è§„åˆ™ä» Apollo åŠ è½½çš„ä»£ç å·²ç»å†™å¥½æ”¾åœ¨ test ç›®å½•ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰å®ç°ç½‘å…³çš„ä»£ç ã€‚å…¶å®ä¹Ÿå¾ˆç®€å•ï¼ŒSentinel çš„æ•°æ®åŠ è½½å’Œæ¨é€çš„æ–¹å¼æœ¬èº«å°±æä¾›äº†è¾ƒå¥½çš„æ‰©å±•æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åˆ†åˆ«å®ç° DynamicGatewayRuleProvider å’Œ DynamicGatewayRulePublisherã€‚<br>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ä¸ªç‚¹æ˜¯ SCG å‘ Dashboard æ³¨å†Œçš„ appName æœ€å¥½å’Œå®ƒæœ¬èº«åœ¨ Apollo çš„ appId ä¿æŒä¸€è‡´ã€‚è¿™æ · DynamicGatewayRuleProvideråœ¨åŠ è½½æ•°æ®çš„æ—¶å€™ç›´æ¥ç”¨ appName ä½œä¸º appId å‘ Apollo è¯·æ±‚é…ç½®ã€‚åŠ è½½æµæ§è§„åˆ™ä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://pic.superbed.cn/item/5d65fb50451253d178f2710d.png" alt=""></p><p>è‡³äº DynamicGatewayRulePublisher å…¶å®æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€æ­¥æ˜¯å‘Apolloæ›´æ–°æ•°æ®ï¼Œç¬¬äºŒæ­¥æ˜¯è¦æ±‚ Apollo å¯¹è¯¥ namespace è¿›è¡Œå‘å¸ƒã€‚ä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://pic.superbed.cn/item/5d65fbf6451253d178f284e4.png" alt=""></p><p>è¿™é‡Œé¢æ¶‰åŠåˆ°çš„ Apollo å¼€æ”¾å¹³å°çš„æˆæƒä¹‹ç±»çš„è¿‡ç¨‹ï¼ˆè¿™æ¬¡ä¹Ÿå‘ç°è¿™æ˜¯Apolloçš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®é™…ä¸Šå¯ä»¥æœ‰å¾ˆå¤šçš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªåŠ¨åŒ–æ–¹é¢ï¼‰è¯·å‚è€ƒ Apollo çš„æ–‡æ¡£ã€‚<br>åœ¨è¿™æ ·çš„ä¸€ä¸ªè¿‡ç¨‹åå¾ˆå¤šåŒå­¦åº”è¯¥èƒ½å¾ˆè‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°æ˜¯ä¸æ˜¯å¯ä»¥åœ¨ Sentinel æˆ–è€…å…¶ä»–ç›‘æ§å·¥å…·ç›‘æ§åˆ°æŸäº›æ¡ä»¶åè‡ªåŠ¨åœ°å¯¹ Apollo çš„ä¸­çš„é™æµé…ç½®è¿›è¡Œä¿®æ”¹ã€‚æ˜¯çš„ï¼Œè¿™ä¹Ÿåº”è¯¥æ˜¯æˆ‘ä»¬ä»¥åçš„ç›®æ ‡ï¼Œåšåˆ°é™æµçš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€‚<br>éšåè¿˜éœ€è¦æ–°å¢ GatewayApiControllerV2ï¼ŒGatewayFlowRuleControllerV2ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æŠŠåŸæœ‰çš„GatewayApiControllerã€GatewayFlowRuleControllerå¤åˆ¶è¿‡æ¥ï¼Œ ç„¶ååˆ†åˆ«æ³¨å…¥ ApolloProvider å’Œ  ApolloPublisherã€‚<br>Controller è¦æ”¹åŠ¨çš„åœ°æ–¹ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªå°†è·å–è§„åˆ™çš„æ–¹å¼ä»å‘SCGè¯·æ±‚æ”¹ä¸ºå‘ Apollo è¯·æ±‚ï¼Œç¬¬äºŒä¸ªæ˜¯æ–°å¢å’Œä¿®æ”¹è§„åˆ™å…ˆæ›´æ–°åˆ° Apollo å†è®©Apollo æ¨é€åˆ° SCGã€‚å†å°†å‰ç«¯é¡µé¢è¯·æ±‚çš„è·¯å¾„æŒ‡å‘æ–°çš„ Controllerã€‚<br>ä¸‹å›¾æ˜¯è·å–APIè§„åˆ™çš„ä»£ç æ”¹é€ å‰å’Œæ”¹é€ ååŒºåˆ«ã€‚ApiDefinitionProvider å°±æ˜¯ DynamicGatewayApiDefinitionProvider çš„ä» Apollo è·å– API è§„åˆ™çš„å®ç°ã€‚<br><img src="https://puui.qpic.cn/fans_admin/0/3_1409075683_1567151625668/0" alt=""></p><p>æ­¤å¤„è¿˜æœ‰ä¸ªæš—å‘ï¼Œä¸€å¼€å§‹æ²¡æ³¨æ„åˆ°ã€‚æœ¬èº«Dashboardåœ¨æ–°å¢è§„åˆ™æ—¶ä¼šç”Ÿæˆä¸€ä¸ªIDï¼Œè¿™ä¸ªIDæ˜¯ä¸ª AtomicLong, éšç€Dashboardçš„é‡å¯è‡ªåŠ¨å°±æ¸…ç©ºäº†ï¼Œå¯¼è‡´åœ¨é‡å¯åæ–°å¢æˆ–ä¿®æ”¹è§„åˆ™ä¼šå°†ID=1çš„è§„åˆ™é¡¶æ›¿ã€‚ç›®å‰è§£å†³çš„åŠæ³•æ˜¯åœ¨æ–°å¢å’Œä¿®æ”¹è§„åˆ™æ—¶åŠ è½½ç›®å‰çš„å…¨éƒ¨è§„åˆ™ï¼Œç„¶ååœ¨è·å–IDæ—¶è·å–å½“å‰å…¨éƒ¨è§„åˆ™çš„æœ€å¤§IDï¼Œä»æœ€å¤§å€¼å¼€å§‹é€’å¢ã€‚</p><h4 id="ç™»å½•å’Œé‰´æƒ"><a href="#ç™»å½•å’Œé‰´æƒ" class="headerlink" title="ç™»å½•å’Œé‰´æƒ"></a>ç™»å½•å’Œé‰´æƒ</h4><p>åŸå…ˆçš„ç™»å½•å’Œé‰´æƒåªæä¾›äº†åŸºç¡€çš„ç™»å½•åŠŸèƒ½ä¸”å®‰å…¨æ€§å¾ˆä½ã€‚æˆ‘ä»¬å°†å…¶åŠ å…¥äº†å…¬å¸çš„ç»Ÿä¸€ç™»å½•ä¸­å¿ƒï¼Œå®ç°äº†å¸å·å¯†ç åŠä¼ä¸šå¾®ä¿¡æ‰«ç ç™»å½•å’Œè®¿é—®æƒé™çš„æ§åˆ¶ã€‚</p><hr><h3 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h3><p>Sentinel çš„æ”¹é€ é™†é™†ç»­ç»­è¿›è¡Œäº†åŠä¸ªå¤šæœˆï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸å°‘äº†é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šéƒ½å¾—åˆ°äº†è¾ƒå¥½çš„è§£å†³ã€‚ç›®å‰ä»…ä»…æ˜¯ç”Ÿäº§ç¯å¢ƒèƒ½ç”¨çš„çŠ¶æ€ï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½å°šæœªå®Œå–„ã€‚åœ¨æ”¹é€ çš„è¿‡ç¨‹ä¸­ä¹Ÿå¯¹Sentinelçš„åŸºæœ¬åŸç†å’Œæ¶æ„æœ‰äº†è¾ƒæ¸…æ™°çš„è®¤è¯†ï¼Œä¸ºåç»­ä½¿ç”¨ä¸­è§£å†³é—®é¢˜æä¾›äº†åŸºç¡€ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å¼•è¨€&quot;&gt;&lt;a href=&quot;#å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;å¼•è¨€&quot;&gt;&lt;/a&gt;å¼•è¨€&lt;/h3&gt;&lt;p&gt;éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå…¬å¸çš„æœåŠ¡éœ€è¦å¯¹æŸäº›æ¥å£è¿›è¡Œé™æµæˆ–è€…æ ¹æ®æŸäº›å±æ€§å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚ä¹‹å‰çš„æ–¹å¼æ˜¯å°†é»‘ç™½åå•å­˜å‚¨åœ¨æ•°æ®åº“æˆ–è€…é…ç½®ä¸­å¿ƒï¼Œæ— æ³•è¾ƒå¿«å’Œæ–¹
      
    
    </summary>
    
    
      <category term="ä¸­é—´ä»¶" scheme="http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    
  </entry>
  
  <entry>
    <title>é’ˆå¯¹æµé‡çš„AB test çš„ä¸€ç‚¹æ€è€ƒ</title>
    <link href="http://xingcici.github.io/2020/04/08/some-thoughts-on-ab-test-for-traffic.html"/>
    <id>http://xingcici.github.io/2020/04/08/some-thoughts-on-ab-test-for-traffic.html</id>
    <published>2020-04-08T05:19:40.257Z</published>
    <updated>2020-06-24T06:59:04.263Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰å…¬å¸æäº†ä¸ªéœ€æ±‚ï¼Œä¸åŒæ¯”ä¾‹çš„ç”¨æˆ·å¯¼å‘ä¸åŒçš„è½åœ°é¡µï¼Œç»Ÿè®¡è½¬åŒ–æ•ˆç‡ã€‚æˆ‘è°ƒç ”äº†ä¸€äº›ä¸šç•Œçš„æ–¹æ¡ˆåæœ‰äº†ä¸€äº›è‡ªå·±çš„æ€è€ƒã€‚</p><h4 id="åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰-æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰"><a href="#åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰-æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰" class="headerlink" title="åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰ æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰"></a>åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰ æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰</h4><ul><li><p>AB TEST æ–¹æ¡ˆåˆ†ç‰ˆæœ¬ï¼Œä¸åŒçš„ AB TEST æ–¹æ¡ˆæ‹¥æœ‰ä¸åŒçš„æ ‡è¯†ï¼Œä¾‹å¦‚ ABTEST_2020_01_01ã€‚</p></li><li><p>æŸä¸ªç¡®å®šçš„ AB TEST ç‰ˆæœ¬ä¸‹ï¼Œä¼šæœ‰ä¸åŒçš„åˆ†ç»„ï¼Œæ¯ä¸ªåˆ†ç»„ä¹Ÿæœ‰ç¡®å®šçš„æ ‡è¯†ï¼Œä¾‹å¦‚ GROUP_Aã€‚ä¸‹æ–‡ä¸­çš„ AB TEST æ¡¶ ï¼ŒæŒ‡çš„å°±æ˜¯ä¸åŒçš„åˆ†ç»„ã€‚</p></li><li><p>æµé‡è¿›å…¥åä¼šè¢«æ‰“ä¸Šä¸€ä¸ªæˆ–è€…å¤šä¸ª AB TEST ç‰ˆæœ¬æ ‡è¯†åŠ AB TEST æ¡¶æ ‡è¯†ã€‚</p></li></ul><h4 id="å•çº¯é’ˆå¯¹è¯¥éœ€æ±‚çš„æ–¹æ¡ˆ"><a href="#å•çº¯é’ˆå¯¹è¯¥éœ€æ±‚çš„æ–¹æ¡ˆ" class="headerlink" title="å•çº¯é’ˆå¯¹è¯¥éœ€æ±‚çš„æ–¹æ¡ˆ"></a>å•çº¯é’ˆå¯¹è¯¥éœ€æ±‚çš„æ–¹æ¡ˆ</h4><p>ç›®æ ‡: ç›¸åŒç”¨æˆ·è¿”å›ç›¸åŒè½åœ°é¡µ ä¸åŒç”¨æˆ·æ ¹æ®æ¯”ä¾‹è¿”å›ä¸åŒè½åœ°é¡µ è·Ÿè¸ªä¸åŒè½åœ°é¡µè½¬åŒ–æ•ˆç‡ </p><p>æ–¹æ¡ˆ: æ ¹æ®ABTESTç‰ˆæœ¬ å»ºç«‹å”¯ä¸€æ ‡è¯†, è¯·æ±‚è·³è½¬é“¾æ¥æ—¶æ ¹æ®ç”¨çš„IPæˆ–è€…CookieIdè¿›è¡ŒHASHï¼Œæ ¹æ®HASHå‘½ä¸­åŒºé—´( AB TEST æ¡¶)è¿”å›ä¸åŒçš„è½åœ°é¡µï¼Œè¿”å›ç»“æœæ—¶å¸¦ä¸ŠTESTç‰ˆæœ¬æ ‡è¯†ï¼Œè½¬åŒ–æ•ˆç‡çš„è·Ÿè¸ªåœ¨H5è¿›è¡Œã€‚åŒæ—¶ç•™æœ‰åé—¨æ–¹ä¾¿æŒ‡å®šç”¨æˆ·åˆ†å…¥ä¸åŒçš„åŒºé—´ä¸­ã€‚</p><h4 id="æ›´é€šç”¨çš„æ–¹æ¡ˆ-ä¹Ÿåªæ˜¯ç®€ç•¥æè¿°-å…·ä½“è¿˜è¦æ ¹æ®è¯¦ç»†çš„éœ€æ±‚æ¥ç»†åŒ–"><a href="#æ›´é€šç”¨çš„æ–¹æ¡ˆ-ä¹Ÿåªæ˜¯ç®€ç•¥æè¿°-å…·ä½“è¿˜è¦æ ¹æ®è¯¦ç»†çš„éœ€æ±‚æ¥ç»†åŒ–" class="headerlink" title="æ›´é€šç”¨çš„æ–¹æ¡ˆ(ä¹Ÿåªæ˜¯ç®€ç•¥æè¿° å…·ä½“è¿˜è¦æ ¹æ®è¯¦ç»†çš„éœ€æ±‚æ¥ç»†åŒ–)"></a>æ›´é€šç”¨çš„æ–¹æ¡ˆ(ä¹Ÿåªæ˜¯ç®€ç•¥æè¿° å…·ä½“è¿˜è¦æ ¹æ®è¯¦ç»†çš„éœ€æ±‚æ¥ç»†åŒ–)</h4><p>ç›®æ ‡: æ ¹æ®ä¸åŒç”¨æˆ·ç‰¹å¾è¿”å›ä¸åŒç»“æœï¼Œè·Ÿè¸ªä¸åŒè¿”å›ç»“æœçš„è½¬åŒ–æ•ˆç‡ã€‚ </p><ul><li>æ€è·¯A æµé‡å®Œå…¨åˆ†å±‚ æ‰€æœ‰æµé‡å¯ä»¥å¾ªç¯åˆ©ç”¨ ä¸€ä¸ªè¯·æ±‚å¯ä»¥ç”¨äºå¤šä¸ª AB TEST</li></ul><p>æ–¹æ¡ˆ:</p><ol><li><p>è®¾ç½®è¦é’ˆå¯¹çš„ç‰¹å¾ï¼Œåœˆå®šèŒƒå›´ç”¨æˆ·ã€‚æ¯”å¦‚ ç”¨æˆ·çš„IP ç”¨æˆ·çš„ OPENID</p></li><li><p>è®¾ç½® AB TEST æ–¹æ¡ˆï¼Œæ¯ä¸ªAB TESTæ–¹æ¡ˆéƒ½æœ‰å”¯ä¸€æ ‡è¯†ã€‚å†åœ¨ AB TEST æ–¹æ¡ˆä¸­ï¼Œæ ¹æ®ä¸åŒç‰¹å¾æˆ–è€…æ¯”ä¾‹è®¾ç½®ä¸åŒçš„ AB TEST æ¡¶ï¼Œæ¯ä¸ª AB TEST æ¡¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç”¨äºè·Ÿè¸ªï¼Œæ¯ä¸ª AB TEST æ¡¶å¯ä»¥è®¾ç½®ä¸€å®šæ¯”ä¾‹çš„æµé‡ã€‚ </p></li><li><p>åœ¨ç½‘å…³è®¾ç½®è¿‡æ»¤å™¨ï¼Œå¯¹è¿›å…¥çš„ç¬¦åˆè¦æ±‚çš„æµé‡ç‰¹å¾è¿›è¡ŒHASH(åŒæ—¶ä¹Ÿå¯ä»¥é’ˆå¯¹ç‰¹å®šçš„ç”¨æˆ·æ ‡è¯†å¼ºè¡Œè¿›è¡Œåˆ†ç»„,æ–¹ä¾¿æµ‹è¯•)ï¼Œæ‰“ä¸Šè¿›è¡Œä¸­çš„ AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ï¼Œ å†æ ¹æ®è¯¥ AB TEST æ–¹æ¡ˆæ‰“ä¸Š AB TEST æ¡¶çš„æ ‡è¯†ã€‚å†å¯¹è¯¥æµé‡è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼ŒæŸ¥è¯¢æ˜¯å¦è¿˜æœ‰ AB TEST æ–¹æ¡ˆå¯ä»¥åˆ©ç”¨å®ƒï¼Œæœ‰çš„è¯åˆ™ç»§ç»­è¿›è¡Œæ ‡è®°ã€‚ç¬¦åˆæœ€åçš„æ ‡è®°å¯èƒ½æ˜¯ç±»ä¼¼äºTESTA_GROUP1|TESTB_GROUP2ã€‚</p></li><li><p>æµé‡åˆ°æœåŠ¡çš„æ—¶å€™ï¼Œæ ¹æ®æ ‡è¯†è¿”å›ä¸åŒçš„ç»“æœï¼Œåœ¨è¿”å›çš„åŒæ—¶å¸¦ä¸Š AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ã€‚</p></li></ol><p>å­˜åœ¨çš„é—®é¢˜ï¼šå½“ä¸åŒçš„ AB TEST æ–¹æ¡ˆå¯¹ç›¸åŒé¡µé¢åšå®éªŒæ—¶å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p><ul><li>æ€è·¯B æµé‡é¢„å…ˆåˆ†æ¡¶ ä¸€ä¸ªè¯·æ±‚åªèƒ½ç”¨äºä¸€ä¸ª AB TEST </li></ul><p>æ–¹æ¡ˆ:</p><ol><li><p>è®¾ç½®è¦é’ˆå¯¹çš„ç‰¹å¾ï¼Œåœˆå®šèŒƒå›´ç”¨æˆ·ã€‚æ¯”å¦‚ ç”¨æˆ·çš„IP ç”¨æˆ·çš„ OPENIDã€‚</p></li><li><p>è®¾ç½®å®éªŒæ–¹æ¡ˆï¼Œæ¯ä¸ª AB TEST æ–¹æ¡ˆéƒ½æœ‰æ¯ä¸€æ ‡è¯†ã€‚å†åœ¨ AB TEST æ–¹æ¡ˆä¸­ï¼Œæ ¹æ®ä¸åŒç‰¹å¾æˆ–è€…æ¯”ä¾‹è®¾ç½®ä¸åŒçš„ AB TEST æ¡¶ï¼Œæ¯ä¸ª AB TEST æ¡¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç”¨äºè·Ÿè¸ªã€‚ </p></li><li><p>åœ¨ç½‘å…³è®¾ç½®è¿‡æ»¤å™¨ï¼Œå¯¹åœˆå®šèŒƒå›´æµé‡å…ˆéšæœºè¿›è¡ŒHASHï¼ŒæŒ‰å®éªŒéœ€è¦çš„æµé‡å¤§å°éšæœºåˆ†åˆ°ä¸åŒçš„æµé‡æ¡¶ä¸­ï¼Œå†åœ¨æµé‡æ¡¶ä¸­å®æ–½å…·ä½“çš„ AB TEST æ–¹æ¡ˆï¼Œ å†æ ¹æ®è¯¥ AB TEST æ–¹æ¡ˆæ‰“ä¸Š AB TEST æ¡¶çš„æ ‡è¯† ä¾‹å¦‚ TESTA_GROUP1ï¼Œéšåç›´æ¥è¿›å…¥æœåŠ¡ç«¯ã€‚ </p></li><li><p>æµé‡åˆ°æœåŠ¡çš„æ—¶å€™ï¼Œæ ¹æ®æ ‡è¯†è¿”å›ä¸åŒçš„ç»“æœï¼Œåœ¨è¿”å›çš„åŒæ—¶å¸¦ä¸Š AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ã€‚ </p></li></ol><p>å­˜åœ¨çš„é—®é¢˜ï¼šå½“ AB TEST æ–¹æ¡ˆé€æ¸å¢åŠ æ—¶ï¼Œåæ¥å¢åŠ çš„ AB TEST æ–¹æ¡ˆå¯èƒ½æ— æ³•è·å–åˆ°è¶³å¤Ÿçš„æµé‡ </p><p>é™„å›¾ </p><p><img src="https://cdn.jsdelivr.net/gh/xingcici/oss@master/uPic/image-20200623190239794.png" alt="image-20200623190239794"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¹‹å‰å…¬å¸æäº†ä¸ªéœ€æ±‚ï¼Œä¸åŒæ¯”ä¾‹çš„ç”¨æˆ·å¯¼å‘ä¸åŒçš„è½åœ°é¡µï¼Œç»Ÿè®¡è½¬åŒ–æ•ˆç‡ã€‚æˆ‘è°ƒç ”äº†ä¸€äº›ä¸šç•Œçš„æ–¹æ¡ˆåæœ‰äº†ä¸€äº›è‡ªå·±çš„æ€è€ƒã€‚&lt;/p&gt;
&lt;h4 id=&quot;åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰-æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰&quot;&gt;&lt;a href=&quot;#åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰-æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰&quot; class=&quot;headerli
      
    
    </summary>
    
    
      <category term="æ¶æ„è®¾è®¡" scheme="http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    
  </entry>
  
  <entry>
    <title>ä¸­å°å‹å…¬å¸æ•°ä»“æ‘¸ç´¢å’Œåº”ç”¨</title>
    <link href="http://xingcici.github.io/2020/04/08/exploration-and-application-of-data-warehouse-for-small-mediumsized-companies.html"/>
    <id>http://xingcici.github.io/2020/04/08/exploration-and-application-of-data-warehouse-for-small-mediumsized-companies.html</id>
    <published>2020-04-08T05:12:24.879Z</published>
    <updated>2020-06-24T06:59:04.261Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>ç†¬è¿‡åˆ›ä¸šåˆæœŸçš„äº’è”ç½‘å…¬å¸ä¸€èˆ¬å‘å±•è¿…é€Ÿã€‚ä¸€æ–¹é¢æ˜¯ä¸šåŠ¡çš„è¿…é€Ÿå‘å±•ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ•°æ®çš„è¿…é€Ÿç´¯ç§¯ã€‚åœ¨è·å®¢æˆæœ¬è¶Šæ¥è¶Šé«˜çš„å½“ä¸‹ï¼Œè°åˆ©ç”¨å¥½æ‰‹ä¸­ç§¯ç´¯çš„æ•°æ®æ¥æ›´å¥½çš„æœåŠ¡äºä¸šåŠ¡çš„å‘å±•ï¼Œåšåˆ°ç²¾ç»†åŒ–è¿è¥ï¼Œè°å°±èƒ½åœ¨ç«äº‰ä¸­è·å¾—é¢†å…ˆä¼˜åŠ¿ã€‚</p><p>å¯¹åˆ†ææ•°æ®è€Œè¨€ï¼Œæ•°ä»“æ˜¯å¿…ä¸å¯å°‘çš„åŸºç¡€ã€‚åœ¨æƒ å€Ÿç§‘æŠ€ä¹‹å‰çš„ä¸¤å¹´é‡Œï¼Œæ•°æ®åˆ†ææ–¹é¢å¹¶æ²¡æœ‰ä¸€ä¸ªæ¸…æ™°çš„æ•°ä»“è¿™æ ·çš„æ¦‚å¿µï¼Œå¯¼è‡´æ•°æ®åˆ†æè¿‡ç¨‹ä¸­ä¸€ç³»åˆ—ä¾‹å¦‚æ•°æ®æ¥æºä¸ä¸€è‡´ï¼Œè¡¨è¿‡å¤šå’Œç•Œé™æ··ä¹±ç­‰é—®é¢˜ã€‚æœ€ç»ˆå¯¼è‡´çš„ç»“æœå°±æ˜¯å¯¹ä¸šåŠ¡å“åº”æ…¢ï¼Œæ•°æ®å¯èƒ½ä¸å‡†ç¡®ã€‚æ‰€æœ‰é‡æ–°åˆ†æå’Œæ­å»ºé€‚åˆæƒ å€Ÿçš„æ•°ä»“æ˜¯è¿«åœ¨çœ‰ç«çš„äº‹æƒ…ã€‚æƒ å€ŸæŠ€æœ¯å›¢é˜Ÿå’ŒBIå›¢é˜Ÿç»è¿‡ä¸¤ä¸‰ä¸ªæœˆï¼Œä¹Ÿç®—æ˜¯åˆæ­¥å®Œæˆäº†æ•°ä»“çš„é€‰å‹å’Œåˆ†å±‚ã€‚åœ¨æ­¤ç®€å•ä»‹ç»ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚</p><h4 id="ç°çŠ¶å’Œéœ€æ±‚åˆ†æ"><a href="#ç°çŠ¶å’Œéœ€æ±‚åˆ†æ" class="headerlink" title="ç°çŠ¶å’Œéœ€æ±‚åˆ†æ"></a>ç°çŠ¶å’Œéœ€æ±‚åˆ†æ</h4><p>ç›®å‰å…¬å¸å†…éƒ¨BIå›¢é˜Ÿæ˜¯åº”ç”¨é˜¿é‡Œäº‘çš„maxcomputeä½œä¸ºæ•°æ®åˆ†æå’Œå¹³å°ã€‚åº”ç”¨åœºæ™¯å¤§éƒ¨åˆ†æ˜¯å¯¹ç”¨æˆ·éƒ¨åˆ†è¡Œä¸ºè¿›è¡Œåˆ†æå’Œå¯¹è®¢å•è¿›è¡Œåˆ†æï¼Œé›†ç¾¤é…ç½®ä¸º10CUï¼Œæ•°æ®é‡ä¸ºå‡ ç™¾GBï¼Œæ¯å¤©æ–°å¢æ•°æ®é‡æœ€å¤šå‡ åGBã€‚æ–°çš„æŠ€æœ¯å’Œå¹³å°è‚¯å®šè¦èƒ½æ”¯æ’‘èµ·ç›®å‰çš„ä¸šåŠ¡éœ€æ±‚åŒæ—¶èƒ½éƒ¨åˆ†æ»¡è¶³æœªæ¥çš„æ‰©å±•éœ€æ±‚ã€‚</p><h4 id="æŠ€æœ¯å’Œå¹³å°é€‰å‹"><a href="#æŠ€æœ¯å’Œå¹³å°é€‰å‹" class="headerlink" title="æŠ€æœ¯å’Œå¹³å°é€‰å‹"></a>æŠ€æœ¯å’Œå¹³å°é€‰å‹</h4><p>æ­£å¦‚å‰è¨€æ‰€è¨€ï¼Œæˆ‘ä»¬åœ¨é€‰å‹æ—¶ä¹Ÿé¢ä¸´ç€è‡ªå»ºå’Œä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°çš„é—®é¢˜ã€‚æˆ‘ä»¬åœ¨ä¸€å¼€å§‹è¿›è¡ŒæŠ€æœ¯é€‰å‹æ—¶ä¹Ÿä¼˜å…ˆè€ƒè™‘è‡ªå»ºHadoopé›†ç¾¤ï¼Œå¹¶ç”¨Cloudera Manageråœ¨æµ‹è¯•ç¯å¢ƒæ­å»ºäº†ä¸€å¥—Hadoopç¯å¢ƒã€‚ä¸å¾—ä¸è¯´ç°åœ¨æ­å»ºä¸€å¥—Hadoopç¯å¢ƒè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚Cloudera Manageré›†æˆäº†ä¸€ç³»åˆ—çš„éƒ¨ç½²ã€é…ç½®å’Œç›‘æ§ç­‰åŠŸèƒ½ã€‚</p><p>ç„¶è€Œå¹¶ä¸æ˜¯æ­å»ºä¸€ä¸ªHadoopç¯å¢ƒå°±ä¸‡äº‹å¤§å‰äº†ã€‚åœ¨Hadoopçš„è°ƒç ”å’Œæµ‹è¯•ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°Hadoopå¯¹é›†ç¾¤æœºå™¨çš„é…ç½®è¦æ±‚å¾ˆé«˜ï¼Œè€Œä¸”è¿˜æœ‰å„ç§å¤æ‚çš„é…ç½®ã€‚å…¶ä¸­é…ç½®åˆæ˜¯ç‰¹åˆ«é‡è¦çš„éƒ¨åˆ†ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒçš„æœºå™¨é…ç½®å’Œå®é™…æƒ…å†µè¿›è¡Œé…ç½®æ‰èƒ½è¾¾åˆ°æœ€ä¼˜çš„æ•ˆæœã€‚ç°å®æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬ç›®å‰å¹¶æ²¡æœ‰ä¸“ä¸šçš„åå‘äºè¿™æ–¹é¢ç»´æŠ¤å’Œè°ƒä¼˜çš„å·¥ç¨‹å¸ˆï¼Œè¿™å°±æ„å‘³ç€è‡ªå»ºçš„è¯åœ¨ä»¥åçš„ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°å„ç§é—®é¢˜çš„è¯ï¼Œä¼šæœ‰<code>è¾ƒé«˜çš„ç»´æŠ¤å’Œè§£å†³é—®é¢˜çš„æˆæœ¬</code>ã€‚</p><p>æˆ‘ä»¬è½¬è€Œå°†è§†çº¿æ”¾åœ¨ç›®å‰æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„ Maxcomputeã€‚çœ‹äº†Maxcomputeæ–‡æ¡£åå‘ç°æ˜¯é˜¿é‡Œäº‘åŸºäºHadoopå¼€å‘çš„äº‘ä¸Šå¤§æ•°æ®å¹³å°ã€‚æˆ‘ä»¬ç›®å‰æœåŠ¡å™¨ã€çº¿ä¸Šæ•°æ®åº“åŠæ—¥å¿—éƒ½æ˜¯é‡‡ç”¨é˜¿é‡Œäº‘æä¾›çš„æœåŠ¡ï¼Œè€ŒMaxcomputeæä¾›äº†ä¸€ç³»åˆ—çš„ä¸é˜¿é‡Œäº‘ç›®å‰çš„äº§å“é…åˆçš„åŠŸèƒ½ã€‚ä¾‹å¦‚æ•°æ®ç›´æ¥ä»RDSå¯¼å…¥ï¼Œæ—¥å¿—æ–‡ä»¶ç”±LogHubæŠ•é€’åˆ°Maxcomputeç­‰ã€‚å¾ˆå¤§ç¨‹åº¦ä¸Šæ–¹ä¾¿æˆ‘ä»¬çš„ä½¿ç”¨ã€‚åŒæ—¶å‡å°‘äº†BIåŒå­¦çš„å­¦ä¹ æˆæœ¬ã€‚è€Œååœ¨ç»æµæˆæœ¬æ–¹é¢è¿›è¡Œäº†ç®€å•çš„è®¡ç®—å‘ç°ï¼Œåœ¨æˆ‘ä»¬ç›®å‰çš„éœ€è¦çš„é…ç½®ä¸‹ï¼Œç›´æ¥ä½¿ç”¨Maxcomputeçš„æˆæœ¬è¦ä½äºè‡ªå»ºHadoopæˆæœ¬ã€‚</p><p>æœ€åæˆ‘ä»¬å†³å®šåŸºäºé˜¿é‡Œäº‘Maxcompteæ¥æ­å»ºæˆ‘ä»¬æ–°çš„æ•°ä»“ä½“ç³»ã€‚</p><h4 id="æ•°ä»“è®¾è®¡"><a href="#æ•°ä»“è®¾è®¡" class="headerlink" title="æ•°ä»“è®¾è®¡"></a>æ•°ä»“è®¾è®¡</h4><p><img src="https://pic.downk.cc/item/5e8d60ac504f4bcb04f0de8c.png" alt=""></p><p>ä¸Šå›¾å°±æ˜¯æˆ‘ä»¬ç›®å‰çš„ç¬¬ä¸€ç‰ˆæ•°ä»“çš„è®¾è®¡ã€‚å› ä¸ºé‡‡ç”¨äº†Maxcomputeï¼Œæ‰€ä»¥æˆ‘ä»¬ç›®å‰å¹¶ä¸éœ€è¦ç‰¹åˆ«å…³æ³¨å­˜å‚¨å±‚çš„è®¾è®¡ï¼Œè€Œæ˜¯ä¸“æ³¨äºæ•°ä»“å±‚çš„è®¾è®¡ã€‚</p><p>æ•°ä»“æœ€åº•å±‚æ˜¯ <code>è¿‘æºæ•°æ®å±‚</code>ï¼Œè¯¥å±‚çš„æ•°æ®ç›´æ¥ä»å„ç§æ•°æ®æºè¿›å…¥ï¼Œä»…ä»…è¿›è¡Œä¸€äº›ç®€å•çš„ETLè¿‡ç¨‹ã€‚ä¸€èˆ¬æ¥è¯´ä¼šç›´æ¥å’Œå¤–éƒ¨æ•°æ®æºçš„ç»“æ„è¿›è¡Œæ˜ å°„ã€‚</p><p>åœ¨è¿‘æºæ•°æ®å±‚ä¸Šæ–¹æ˜¯ <code>åŸºç¡€æ•°æ®å±‚</code>ï¼ŒåŸºç¡€æ•°æ®å±‚çš„æ•°æ®ä»è¿‘æºæ•°æ®æŠ½å–ï¼Œç»è¿‡æ¸…æ´—å’Œè½¬åŒ–åå½¢æˆæˆ‘ä»¬è®¾è®¡å¥½çš„åŸºç¡€è¡¨ç­‰ã€‚</p><p>åŸºç¡€æ•°æ®ä¸Šæ–¹ä¸º<code>å®½è¡¨å’Œä¸»é¢˜è¡¨</code>ï¼Œè¯¥å±‚çš„æ•°æ®ç”±åŸºç¡€æ•°æ®å±‚è½¬åŒ–å’Œç»„åˆè€Œæˆã€‚è¡¨çš„ä¸»é¢˜ç”±BIåŒå­¦å¯¹ä¸šåŠ¡è¿›è¡Œåˆ†æåå¾—åˆ°ã€‚</p><p>æœ€åæ•°æ®å½¢æˆ <code>æ•°æ®é›†å¸‚</code>ï¼Œè¿™æ˜¯èƒ½å¤Ÿç›´æ¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æ•°æ®ã€‚è¿™é‡Œçš„æ•°æ®å¯ä»¥å¯¼å‡ºåˆ°RDSä¸­æä¾›ç»™ä¸šåŠ¡æ–¹ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥æä¾›ç»™BIåˆ†æå·¥å…·ä½¿ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬è®¡åˆ’ä½¿ç”¨çš„ SuperSet BIåˆ†æå·¥å…·ç­‰ã€‚</p><h4 id="è§„èŒƒ"><a href="#è§„èŒƒ" class="headerlink" title="è§„èŒƒ"></a>è§„èŒƒ</h4><p>å…¶å®åœ¨ä¹‹å‰æˆ‘ä»¬ä¹Ÿæ˜¯ç”¨ Maxcomputeï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜æ˜¯éœ€è¦é‡æ–°æ„å»ºå‘¢ã€‚å› ä¸ºæˆ‘ä»¬ä¹‹å‰åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰å‚è€ƒæ•°ä»“çš„ä¸€èˆ¬è§„èŒƒåŠé˜¿é‡Œäº‘çš„Maxcomputeæœ€ä½³å®è·µï¼Œå¯¼è‡´ä½¿ç”¨è¿‡ç¨‹ä¸­äº§ç”Ÿå¾ˆå¤šé—®é¢˜ã€‚æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯è¡¨çš„å‘½åæ²¡æœ‰éµå¾ªåˆ†å±‚çš„å‘½åè§„èŒƒï¼Œå‘½åå¾ˆæ··ä¹±ã€‚æ‰€ä»¥å®šä¹‰ <code>ä¸€ç³»åˆ—çš„è§„èŒƒæ¥çº¦æŸå¼€å‘è¿‡ç¨‹æ˜¯ååˆ†å¿…è¦çš„</code>,æˆ‘ä»¬å…¬å¸å†…éƒ¨çš„è§„èŒƒä»åœ¨ä¸æ–­åœ°å®Œå–„ä¸­ã€‚</p><h4 id="åè¯"><a href="#åè¯" class="headerlink" title="åè¯"></a>åè¯</h4><p>è‡³æ­¤åˆæ­¥çš„æ•°ä»“æ­å»ºå·²ç»ç»“æŸï¼Œè¿™æ˜¯æˆ‘ä»¬æ•°ä»“çš„1.0ç‰ˆæœ¬ï¼Œåç»­éšç€ä¸šåŠ¡çš„å˜åŒ–å’Œå‘å±•ï¼Œæ•°ä»“ä¹Ÿä¼šè¿›è¡Œç›¸åº”çš„è°ƒæ•´æ¥æ»¡è¶³éœ€æ±‚ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;p&gt;ç†¬è¿‡åˆ›ä¸šåˆæœŸçš„äº’è”ç½‘å…¬å¸ä¸€èˆ¬å‘å±•è¿…é€Ÿã€‚ä¸€æ–¹é¢æ˜¯ä¸šåŠ¡çš„è¿…é€Ÿå‘å±•ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ•°æ®çš„è¿…é€Ÿç´¯ç§¯ã€‚åœ¨è·å®¢æˆæœ¬è¶Šæ¥è¶Šé«˜çš„å½“ä¸‹ï¼Œè°åˆ©ç”¨å¥½æ‰‹ä¸­ç§¯ç´¯çš„æ•°æ®æ¥æ›´
      
    
    </summary>
    
    
      <category term="æ•°æ®æ™ºèƒ½" scheme="http://xingcici.github.io/categories/%E6%95%B0%E6%8D%AE%E6%99%BA%E8%83%BD/"/>
    
    
  </entry>
  
</feed>
