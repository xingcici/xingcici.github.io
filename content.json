{"meta":{"title":"ä¸€æ–¹å¤©åœ°","subtitle":"","description":"è®°å½•ç”Ÿæ´»å­¦ä¹ ","author":"è¡Œè¯","url":"http://xingcici.github.io","root":"/"},"pages":[{"title":"æ ‡ç­¾","date":"2020-06-24T07:37:13.614Z","updated":"2020-06-24T07:37:13.614Z","comments":false,"path":"tags/index.html","permalink":"http://xingcici.github.io/tags/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2020-06-24T07:43:54.601Z","updated":"2020-06-24T07:43:54.601Z","comments":false,"path":"categories/index.html","permalink":"http://xingcici.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"HTTPS åŠ å¯†åå•†è¿‡ç¨‹","slug":"HTTPS åŠ å¯†åå•†è¿‡ç¨‹","date":"2021-02-01T09:03:59.926Z","updated":"2021-02-02T03:03:09.874Z","comments":true,"path":"2021/02/01/https-encryption-negotiation-process.html","link":"","permalink":"http://xingcici.github.io/2021/02/01/https-encryption-negotiation-process.html","excerpt":"","text":"HTTPSåå•†è¿‡ç¨‹ä¸­æ¶‰åŠä¸¤ä¸ªè§’è‰²ï¼šclientã€serverã€‚client å¤§éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥è®¤ä¸ºæ˜¯æµè§ˆå™¨ã€‚è¿™é‡Œä¼šçœç•¥å»ä¸€äº›åŠ å¯†åè®®ä¹‹ç±»çš„ä¸œè¥¿ã€‚ 1ã€client ç”Ÿæˆéšæœºæ•° client_randomï¼Œå‘é€ç»™ serverã€‚ 2ã€server ç”Ÿæˆéšæœºæ•° server_randomï¼Œå†åŠ ä¸Šè¯ä¹¦å’Œç­¾åï¼Œè¿”å›ç»™ clientï¼Œè¯ä¹¦ä¸­åŒ…å«å…¬é’¥ã€‚ 3ã€client å¯¹è¯ä¹¦è¿›è¡Œ hash ç”Ÿæˆ hash ä¸²ï¼Œç„¶åç”¨æµè§ˆå™¨å†…ç½®çš„ CA å…¬é’¥å¯¹ç­¾åè¿›è¡ŒéªŒè¯ï¼Œå¯¹æ¯” hash ä¸²å’Œç­¾åéªŒè¯ç»“æœã€‚ 4ã€client å†ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œä¸ client_randomå’Œ server_random ä¸€èµ·ç”Ÿæˆä¸€ä¸ª shared secret(æœ€ç»ˆåŠ å¯†ç”¨), å†å¯¹è¿™æ¬¡ç”Ÿæˆçš„éšæœºæ•°ç”¨å…¬é’¥è¿›è¡ŒåŠ å¯†ç”Ÿæˆï¼ˆpre-master keyï¼‰ï¼Œå‘é€ç»™ serverã€‚åŒæ—¶å‘é€ä¸€ä¸ªç”¨ shared secret åŠ å¯†çš„éªŒè¯æ¶ˆæ¯ã€‚ 5ã€server å¯¹ pre-master key ç”¨ç§é’¥è¿›è¡Œè§£å¯†ï¼Œè·å¾—éšæœºæ•°ï¼Œå†ç”¨ client_randomã€server_random ä¸€èµ·ä¹Ÿç®—å‡º shared secretï¼Œå¯¹ client å‘é€çš„éªŒè¯æ¶ˆæ¯è¿›è¡ŒéªŒè¯ã€‚å†å›å¤ client ä¸€ä¸ªä¹Ÿç”¨ shared secret åŠ å¯†çš„æ•°æ®ï¼Œè¡¨ç¤ºè‡ªå·±å‡†å¤‡å¥½äº†ã€‚ 6ã€åœ¨åç»­çš„ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œè¿˜ä¼šå¯¹ä¼ è¾“å†…å®¹è¿›è¡Œæ‘˜è¦ï¼Œæ¥éªŒè¯å†…å®¹çš„å®Œæ•´æ€§ã€‚","categories":[{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"http://xingcici.github.io/categories/%E5%8A%A0%E5%AF%86/"}],"tags":[{"name":"https","slug":"https","permalink":"http://xingcici.github.io/tags/https/"}]},{"title":"synchronized å’Œ static synchronized","slug":"synchronized å’Œ static synchronized","date":"2021-01-28T10:03:14.200Z","updated":"2021-01-28T10:08:00.494Z","comments":true,"path":"2021/01/28/synchronized-and-static.html","link":"","permalink":"http://xingcici.github.io/2021/01/28/synchronized-and-static.html","excerpt":"","text":"æŒºç®€å•çš„ä¸€ä¸ªé—®é¢˜ï¼Œä»Šå¤©è¢«äººé—®èµ·äº†é¡ºæ‰‹å†™ä¸€ä¸‹ã€‚ å…¶å® synchronized æ˜¯å®ä¾‹å¯¹è±¡é”ï¼Œè€Œ static æ˜¯ç±»å¯¹è±¡é”ã€‚æ¯ä¸ªç±»ç±»å¯¹è±¡åœ¨ä¸€ä¸ªclassloaderåªä¼šæœ‰ä¸€ä¸ªã€‚ ä¸‹é¢ä¸¤æ®µç®€å•çš„ä»£ç å°±èƒ½éªŒè¯ 1234567891011121314151617181920212223242526272829package lock;import com.meta.mq.common.utils.ThreadUtil;&#x2F;** * @author : haifeng.pang. * @version 0.1 : Human v0.1 2021&#x2F;1&#x2F;28 ä¸‹åˆ5:48 By haifeng.pang. * @description : *&#x2F;public class Human &#123; public synchronized void say(String name) &#123; System.out.println(&quot;say &quot; + name); ThreadUtil.quietSleep(10000); &#125; public synchronized void eat(String name) &#123; System.out.println(&quot;eat &quot; + name); &#125; public static synchronized void sayStatic(String name) &#123; System.out.println(&quot;static say&quot; + name); &#125; public static synchronized void eatStatic(String name) &#123; System.out.println(&quot;static eat&quot; + name); ThreadUtil.quietSleep(10000); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243package lock;&#x2F;** * @author : haifeng.pang. * @version 0.1 : Test v0.1 2021&#x2F;1&#x2F;28 ä¸‹åˆ5:49 By haifeng.pang. * @description : *&#x2F;public class Test &#123; @org.junit.Test public void test() &#123; Human human &#x3D; new Human(); Human human1 &#x3D; new Human(); Thread threadA &#x3D; new Thread(new Runnable() &#123; @Override public void run() &#123; human.say(&quot;im threadA&quot;); &#125; &#125;); Thread threadB &#x3D; new Thread(new Runnable() &#123; @Override public void run() &#123; human.eat(&quot;im threadB&quot;); &#125; &#125;); threadA.start(); threadB.start(); try &#123; threadA.join(); threadB.join(); &#125;catch (Exception e) &#123; &#x2F;&#x2F; &#125; &#125;&#125;","categories":[{"name":"æºç ","slug":"æºç ","permalink":"http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"}],"tags":[{"name":"jdk","slug":"jdk","permalink":"http://xingcici.github.io/tags/jdk/"}]},{"title":"å»ä¸­å¿ƒåŒ–æ¶ˆæ¯é˜Ÿåˆ— Meta MQ","slug":"å»ä¸­å¿ƒåŒ–æ¶ˆæ¯é˜Ÿåˆ— Meta MQ","date":"2021-01-27T12:25:24.885Z","updated":"2021-01-27T12:32:14.453Z","comments":true,"path":"2021/01/27/decentralized-message-queue-meta-mq.html","link":"","permalink":"http://xingcici.github.io/2021/01/27/decentralized-message-queue-meta-mq.html","excerpt":"","text":"è™½ç„¶ç½‘ä¸Šå¾ˆå¤šäººè¯´ä¸è¦åå¤é€ è½®å­ï¼Œä½†æ˜¯å°±æˆ‘ä¸ªäººçš„æƒ³æ³•æ˜¯é€ è‡ªå·±æ²¡é€ è¿‡çš„è½®å­æ˜¯æœ‰åˆ©äºæŠ€æœ¯çš„è¿›æ­¥çš„ã€‚ æœ€è¿‘æ—¶é—´ç¨å¾®å®½è£•äº†ä¸€ç‚¹ï¼Œå¼€å§‹å†™ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæš‚æ—¶å‘½åä¸º Meta MQã€‚ é€šè¿‡å†™è¿™ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸æ–­æ¥æ·±å…¥ç†è§£ä¸šç•Œç›®å‰æ¶ˆæ¯é˜Ÿåˆ—çš„è®¾è®¡å’ŒåŸç†ï¼Œä»¥åŠåˆ†å¸ƒå¼åè®®ï¼Œç½‘ç»œï¼Œå­˜å‚¨æ–¹é¢çš„çŸ¥è¯†ã€‚ ç›®å‰å®Œæˆäº†æœ€åˆæ­¥çš„åŠŸèƒ½ï¼Œåé¢ä¼šä¸æ–­å¾—æ·»ç –åŠ ç“¦~ Meta MQ åœ°å€","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"MQ","slug":"MQ","permalink":"http://xingcici.github.io/tags/MQ/"}]},{"title":"MRäº§å‡ºæ•°æ®ä½“ç§¯å˜å¤§é—®é¢˜","slug":"MRäº§å‡ºæ•°æ®ä½“ç§¯å˜å¤§é—®é¢˜","date":"2021-01-27T08:45:19.027Z","updated":"2021-01-27T09:04:17.617Z","comments":true,"path":"2021/01/27/mr-output-data-volume-becomes-larger.html","link":"","permalink":"http://xingcici.github.io/2021/01/27/mr-output-data-volume-becomes-larger.html","excerpt":"","text":"ä¸€ã€ç°è±¡å‰æ®µæ—¶é—´åœ¨åšæ•°æ®åŒæ­¥ä»»åŠ¡çš„åˆ‡æ¢ï¼Œåœ¨åˆ‡æ¢åˆ°MRåï¼Œæ€»å…±36ä¸ªä»»åŠ¡ï¼Œ10ä¸ªå˜å°ï¼Œ16ä¸ªä¸å˜ï¼Œ10ä¸ªå˜å¤§ï¼Œè€Œä¸”å˜å¤§çš„ä½“ç§¯åŸºæœ¬ä¸Šéƒ½æ˜¯ç¿»å€ã€‚å¦å¤–å…¬å¸çš„å­˜å‚¨ç©ºé—´å½“æ—¶è¾ƒä¸ºç´§å¼ ï¼Œæ‰€ä»¥éœ€è¦è§£å†³è¿™ä¸ªä½“ç§¯å¢å¤§çš„é—®é¢˜ã€‚ ä¸‹å›¾æ˜¯ç”¨ parquet-tools è§£ææ–‡ä»¶è·å¾—åˆ°ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·¦ä¾§ outscan æ¯” å³ä¾§ mr åœ¨å¥½å‡ ä¸ªcolumnä¸Šå‹ç¼©ç‡éƒ½é«˜ä¸å°‘ ods_trd_buyer_order_app_order_desc_info_d ods_itm_wd_inv_app_item_sku_d åˆ™æ›´åŠ æ˜æ˜¾ äºŒã€ç ”ç©¶1ã€outscanï¼ˆä¹‹å‰çš„åŒæ­¥æ–¹å¼ï¼Œä¸‹é¢ä¸å†æ³¨é‡Šï¼‰å’ŒmråŒæ­¥çš„åŒºåˆ«ã€‚ outscan mr ç›´æ¥ map hfileï¼Œæ²¡æœ‰reduceè¿‡ç¨‹ åˆ†åˆ«map text å¢é‡å’Œ parquet å…¨é‡ï¼Œå†è¿›è¡Œreduce è¾“å‡ºç±»ä¸º AvroParquetOutputFormat è¾“å‡ºç±»ä¸º ParquetOutputFormat 2ã€å°è¯•è°ƒæ•´ parquet å‚æ•°å…ˆæ”¾ä¸€å¼  parquet æ–‡ä»¶æ ¼å¼å›¾ å¯ä»¥çœ‹åˆ° parquet æ–‡ä»¶æˆ‘ä»¬æœ€éœ€è¦å…³å¿ƒçš„éƒ¨åˆ†ä¸º RowGroupã€Columnã€ Page ã€‚ å½“æˆ‘ä»¬å†™ parquet æ–‡ä»¶æ—¶ï¼Œå…ˆä¼šæ„é€  RowGroupï¼Œç„¶åæ ¹æ®ä¸åŒçš„åˆ—æ„é€ ä¸åŒçš„ Columnï¼Œå†åˆ†åˆ«åœ¨ Column ä¸­æ„é€  Pageï¼Œç„¶åå‘ Page ä¸­å†™å…¥æ•°æ®ï¼Œåœ¨æ¯æ¬¡å†™å…¥æ—¶ï¼Œä¼šç”± accountForValueWritten() åˆ¤æ–­æ˜¯å¦éœ€è¦ writePage ï¼Œå¦‚æœéœ€è¦çš„è¯ä¼šæŠŠå½“å‰ Column ä¸­çš„ æ•°æ®è¾“å‡ºåˆ°ä¸€ä¸ª Collectï¼Œsnappy å‹ç¼©ä¹Ÿæ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ã€‚å½“æ•´ä¸ªRowGroupåˆ°è¾¾æ•´ä¸ª parquet.block.size å¤§å°æ—¶ï¼Œä¼šæŠŠæ•´ä¸ª RowGroup è¾“å‡ºåˆ° hdfsã€‚ å°è¯•è°ƒæ•´çš„å‚æ•° è°ƒæ•´åˆ°çš„å€¼ å¯¹ä½“ç§¯å¤§å°çš„å½±å“ parquet.block.size 1G åŸºæœ¬æ— å½±å“ parquet.page.size 1-128M åŸºæœ¬æ— å½±å“ parquet.dictionary.page.size 1-128M å½“åªè¯» text æ—¶ï¼Œå¯¹ä½“ç§¯çº¦æœ‰20%çš„å‡å°ï¼Œåœ¨çº¿ä¸Šè·‘æ—¶ï¼Œå¯¹ä½“ç§¯åŸºæœ¬æ— å½±å“ io.compression.codec.snappy.buffersize 1M åŸºæœ¬æ— å½±å“ io.file.buffer.size 1M åŸºæœ¬æ— å½±å“ è¾“å‡ºç±»æ”¹ä¸º AvroParquet åŸºæœ¬æ— å½±å“ å‡çº§ parquet ç‰ˆæœ¬ åŸºæœ¬æ— å½±å“ 3ã€æŸ¥çœ‹ outscan å’Œ mr çš„æ—¥å¿—åŒºåˆ«a) outscan12345678910111213141516171819202122232425262728293031323334Dec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.codec.CodecConfig: Compression: SNAPPYDec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet block size to 134217728Dec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet page size to 1048576Dec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet dictionary page size to 1048576Dec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Dictionary is onDec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Validation is offDec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Writer version is: PARQUET_1_0Dec 11, 2020 4:08:22 PM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Maximum row group padding size is 0 bytesDec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.InternalParquetRecordWriter: mem size 134,279,407 &gt; 134,217,728: flushing 1,035,273 records to disk.Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.InternalParquetRecordWriter: Flushing mem columnStore to file. allocated memory: 134,097,175Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 4,122,796B for [auto_id] INT64: 1,035,273 values, 7,512,463B raw, 4,122,414B comp, 8 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 94,035 entries, 752,280B raw, 94,035B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 5,925,458B for [id] INT64: 1,035,273 values, 8,282,248B raw, 5,925,075B comp, 8 pages, encodings: [BIT_PACKED, PLAIN, RLE]Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 4,213,757B for [item_id] INT64: 1,035,273 values, 7,507,266B raw, 4,213,375B comp, 8 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 83,192 entries, 665,536B raw, 83,192B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,449,023B for [price] BINARY: 1,035,273 values, 1,548,410B raw, 1,448,622B comp, 9 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 13,877 entries, 135,544B raw, 13,877B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 305,529B for [quantity] INT64: 1,035,273 values, 601,051B raw, 305,153B comp, 8 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1,455 entries, 11,640B raw, 1,455B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,585,004B for [total_price] BINARY: 1,035,273 values, 1,726,198B raw, 1,584,599B comp, 9 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 33,741 entries, 334,219B raw, 33,741B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 25,257B for [cps_fee] BINARY: 1,035,273 values, 50,010B raw, 24,968B comp, 8 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 314 entries, 2,627B raw, 314B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 2,715,269B for [item_sku_id] INT64: 1,035,273 values, 6,616,763B raw, 2,714,888B comp, 8 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 104,273 entries, 834,184B raw, 104,273B comp&#125;Dec 11, 2020 4:08:54 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 6,605,807B for [add_time] BINARY: 1,035,273 values, 22,843,179B raw, 6,604,199B comp, 23 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 27,693 entries, 636,939B raw, 27,693B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 4,098,234B for [order_id] INT64: 1,035,273 values, 7,490,983B raw, 4,097,852B comp, 8 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 76,367 entries, 610,936B raw, 76,367B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 402B for [sk] BINARY: 1,035,273 values, 94B raw, 102B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 7 entries, 392B raw, 7B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 5,835,688B for [item_sku_title] BINARY: 1,035,273 values, 12,055,000B raw, 5,834,969B comp, 13 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 23,553 entries, 567,428B raw, 23,553B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 34,929,921B for [item_title] BINARY: 1,035,273 values, 67,065,375B raw, 34,918,001B comp, 65 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 9,636 entries, 720,750B raw, 9,636B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 23,697,146B for [img_head] BINARY: 1,035,273 values, 62,188,305B raw, 23,689,804B comp, 61 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 11,114 entries, 692,307B raw, 11,114B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 15,024,817B for [extend] BINARY: 1,035,273 values, 59,829,153B raw, 15,022,915B comp, 56 pages, encodings: [BIT_PACKED, PLAIN, RLE]Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 456B for [data_ver] INT64: 1,035,273 values, 96B raw, 112B comp, 8 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1 entries, 8B raw, 1B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 6,496,780B for [update_time] BINARY: 1,035,273 values, 22,843,365B raw, 6,495,172B comp, 23 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 27,530 entries, 633,190B raw, 27,530B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 486,705B for [buyer_id] BINARY: 1,035,273 values, 1,757,571B raw, 486,033B comp, 14 pages, encodings: [BIT_PACKED, PLAIN, RLE, PLAIN_DICTIONARY], dic &#123; 72,340 entries, 980,153B raw, 72,340B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,248,275B for [seller_id] INT32: 1,035,273 values, 1,440,252B raw, 1,248,119B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 112,471 entries, 449,884B raw, 112,471B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 164,710B for [f_seller_id] INT32: 1,035,273 values, 251,370B raw, 164,554B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 12,392 entries, 49,568B raw, 12,392B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 149,608B for [status] INT32: 1,035,273 values, 158,031B raw, 149,452B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 3 entries, 12B raw, 3B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 456B for [rate_fund] INT64: 1,035,273 values, 96B raw, 112B comp, 8 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1 entries, 8B raw, 1B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 169,390B for [version_id] INT32: 1,035,273 values, 231,460B raw, 169,234B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 13 entries, 52B raw, 13B comp&#125;Dec 11, 2020 4:08:55 PM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 67,464B for [refund_status] INT32: 1,035,273 values, 89,951B raw, 67,308B comp, 4 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 4 entries, 16B raw, 4B comp&#125; b) mr12345678910111213141516171819202122232425262728293031323334Dec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.codec.CodecConfig: Compression: SNAPPYDec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet block size to 134217728Dec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet page size to 1048576Dec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Parquet dictionary page size to 1048576Dec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Dictionary is onDec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Validation is offDec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Writer version is: PARQUET_1_0Dec 11, 2020 12:09:45 AM INFO: org.apache.parquet.hadoop.ParquetOutputFormat: Maximum row group padding size is 0 bytesDec 11, 2020 12:10:01 AM INFO: org.apache.parquet.hadoop.InternalParquetRecordWriter: mem size 134,596,338 &gt; 134,217,728: flushing 679,290 records to disk.Dec 11, 2020 12:10:01 AM INFO: org.apache.parquet.hadoop.InternalParquetRecordWriter: Flushing mem columnStore to file. allocated memory: 135,665,494Dec 11, 2020 12:10:01 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 84,603B for [auto_id] INT64: 679,290 values, 84,384B raw, 84,323B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 22,331 entries, 178,648B raw, 22,331B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 5,121,794B for [id] INT64: 679,290 values, 5,434,368B raw, 5,121,507B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 4,114,386B for [item_id] INT64: 679,290 values, 5,434,368B raw, 4,114,099B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,140,171B for [price] BINARY: 679,290 values, 1,158,473B raw, 1,139,909B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 12,680 entries, 123,547B raw, 12,680B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 281,422B for [quantity] INT64: 679,290 values, 643,817B raw, 281,140B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1,213 entries, 9,704B raw, 1,213B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,225,975B for [total_price] BINARY: 679,290 values, 1,243,295B raw, 1,225,712B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 27,429 entries, 269,122B raw, 27,429B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,977B for [cps_fee] BINARY: 679,290 values, 2,390B raw, 1,760B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 165 entries, 1,357B raw, 165B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 2,572,263B for [item_sku_id] INT64: 679,290 values, 4,662,155B raw, 2,571,977B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN, PLAIN_DICTIONARY], dic &#123; 70,731 entries, 565,848B raw, 70,731B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 6,933,270B for [add_time] BINARY: 679,290 values, 15,623,790B raw, 6,932,221B comp, 15 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 5,037,909B for [order_id] INT64: 679,290 values, 5,434,368B raw, 5,037,622B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 332B for [sk] BINARY: 679,290 values, 117B raw, 123B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 9 entries, 548B raw, 9B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 5,675,428B for [item_sku_title] BINARY: 679,290 values, 7,868,590B raw, 5,674,984B comp, 9 pages, encodings: [BIT_PACKED, RLE, PLAIN, PLAIN_DICTIONARY], dic &#123; 30,819 entries, 729,235B raw, 30,819B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 34,917,594B for [item_title] BINARY: 679,290 values, 41,284,243B raw, 34,910,519B comp, 41 pages, encodings: [BIT_PACKED, RLE, PLAIN, PLAIN_DICTIONARY], dic &#123; 15,403 entries, 1,011,183B raw, 15,403B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 27,409,350B for [img_head] BINARY: 679,290 values, 41,769,032B raw, 27,405,580B comp, 41 pages, encodings: [BIT_PACKED, RLE, PLAIN, PLAIN_DICTIONARY], dic &#123; 15,612 entries, 1,014,148B raw, 15,612B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 16,932,320B for [extend] BINARY: 679,290 values, 42,638,909B raw, 16,930,559B comp, 42 pages, encodings: [BIT_PACKED, RLE, PLAIN, PLAIN_DICTIONARY], dic &#123; 17,372 entries, 1,008,909B raw, 17,372B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 342B for [data_ver] INT64: 679,290 values, 72B raw, 84B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1 entries, 8B raw, 1B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 6,800,709B for [update_time] BINARY: 679,290 values, 15,623,790B raw, 6,799,660B comp, 15 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 6,194,701B for [buyer_id] BINARY: 679,290 values, 9,200,418B raw, 6,194,344B comp, 9 pages, encodings: [BIT_PACKED, RLE, PLAIN]Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 1,464,540B for [seller_id] INT32: 679,290 values, 1,464,273B raw, 1,464,423B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 131,083 entries, 524,332B raw, 131,083B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 295,854B for [f_seller_id] INT32: 679,290 values, 550,175B raw, 295,737B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 16,979 entries, 67,916B raw, 16,979B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 152,287B for [status] INT32: 679,290 values, 161,460B raw, 152,170B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 3 entries, 12B raw, 3B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 342B for [rate_fund] INT64: 679,290 values, 72B raw, 84B comp, 6 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 1 entries, 8B raw, 1B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 226,851B for [version_id] INT32: 679,290 values, 309,556B raw, 226,734B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 16 entries, 64B raw, 16B comp&#125;Dec 11, 2020 12:10:02 AM INFO: org.apache.parquet.hadoop.ColumnChunkPageWriteStore: written 65,837B for [refund_status] INT32: 679,290 values, 101,856B raw, 65,720B comp, 3 pages, encodings: [BIT_PACKED, RLE, PLAIN_DICTIONARY], dic &#123; 4 entries, 16B raw, 4B comp&#125; å¯ä»¥çœ‹åˆ° parquet.block.size ã€page.size ã€ dictionary.page.size è¿™äº›å‚æ•°éƒ½ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œåœ¨ä¸€ä¸ª rowgroup ä¸­ mr èƒ½å†™å…¥çš„æ•°æ®å°‘äº outscan èƒ½å†™å…¥çš„æ•°æ®ï¼Œè¿™å°±æ˜¯å› ä¸ºå‹ç¼©ç‡ä¸åŒå¯¼è‡´çš„ã€‚ 3ã€æŸ¥çœ‹æºç a) snappy1org.apache.parquet.hadoop.CodecFactory.BytesCompressor#compress public BytesInput compress(BytesInput bytes) throws IOException &#123; final BytesInput compressedBytes; if (codec &#x3D;&#x3D; null) &#123; compressedBytes &#x3D; bytes; &#125; else &#123; compressedOutBuffer.reset(); if (compressor !&#x3D; null) &#123; &#x2F;&#x2F; null compressor for non-native gzip compressor.reset(); &#125; CompressionOutputStream cos &#x3D; codec.createOutputStream(compressedOutBuffer, compressor); bytes.writeAllTo(cos); cos.finish(); cos.close(); compressedBytes &#x3D; BytesInput.from(compressedOutBuffer); &#125; return compressedBytes; &#125; org.apache.parquet.hadoop.codec.SnappyCompressor#compress @Override public synchronized int compress(byte[] buffer, int off, int len) throws IOException &#123; SnappyUtil.validateBuffer(buffer, off, len); if (needsInput()) &#123; &#x2F;&#x2F; No buffered output bytes and no input to consume, need more input return 0; &#125; if (!outputBuffer.hasRemaining()) &#123; &#x2F;&#x2F; There is uncompressed input, compress it now int maxOutputSize &#x3D; Snappy.maxCompressedLength(inputBuffer.position()); if (maxOutputSize &gt; outputBuffer.capacity()) &#123; outputBuffer &#x3D; ByteBuffer.allocateDirect(maxOutputSize); &#125; &#x2F;&#x2F; Reset the previous outputBuffer outputBuffer.clear(); inputBuffer.limit(inputBuffer.position()); inputBuffer.position(0); int size &#x3D; Snappy.compress(inputBuffer, outputBuffer); outputBuffer.limit(size); inputBuffer.limit(0); inputBuffer.rewind(); &#125; &#x2F;&#x2F; Return compressed output up to &#39;len&#39; int numBytes &#x3D; Math.min(len, outputBuffer.remaining()); outputBuffer.get(buffer, off, numBytes); bytesWritten +&#x3D; numBytes; return numBytes; &#125; org.xerial.snappy.Snappy#compress(java.nio.ByteBuffer, java.nio.ByteBuffer) public static int compress(ByteBuffer uncompressed, ByteBuffer compressed) throws IOException &#123; if (!uncompressed.isDirect()) throw new SnappyError(SnappyErrorCode.NOT_A_DIRECT_BUFFER, &quot;input is not a direct buffer&quot;); if (!compressed.isDirect()) throw new SnappyError(SnappyErrorCode.NOT_A_DIRECT_BUFFER, &quot;destination is not a direct buffer&quot;); &#x2F;&#x2F; input: uncompressed[pos(), limit()) &#x2F;&#x2F; output: compressed int uPos &#x3D; uncompressed.position(); int uLen &#x3D; uncompressed.remaining(); int compressedSize &#x3D; ((SnappyNativeAPI) impl).rawCompress(uncompressed, uPos, uLen, compressed, compressed.position()); &#x2F;&#x2F; pos limit &#x2F;&#x2F; [ ......BBBBBBB.........] compressed.limit(compressed.position() + compressedSize); return compressedSize; &#125; ä¸Šé¢æ˜¯ snappy å‹ç¼©çš„è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹åˆ° snappy å¯¹è¾“å…¥çš„æµé™¤äº†ä¸èƒ½è¶…è¿‡ Integer.MAXVALUEï¼Œå…¶ä»–æ²¡æœ‰åšä»€ä¹ˆé™åˆ¶ã€‚ä¹Ÿå°±æ˜¯è¾“å…¥ä»€ä¹ˆï¼Œå®ƒå°±æŒ‰å®ƒçš„é€»è¾‘å»å‹ç¼©ä»€ä¹ˆã€‚parquet è·å–åˆ°å‹ç¼©åçš„æµå†™å…¥å†…å­˜ page ä¸­ã€‚ å› æ­¤æ¨æµ‹é—®é¢˜åº”è¯¥ä¸åœ¨ snappy è¿™è¾¹ã€‚ b) parquetparquet æºç æˆ‘å°±ä¸å¤åˆ¶è¿‡æ¥äº†ï¼Œæœ‰ç‚¹å¤šã€‚ parquet ä¹Ÿåªæ˜¯è·å–åˆ° reduce çš„è¾“å‡ºæµï¼Œå¯¹æ•°æ®æ ¹æ®ç±»å‹å’Œå†…å®¹è¿›è¡Œä¸åŒçš„ç¼–ç ï¼Œç„¶åå½¢æˆå®ƒçš„æ•°æ®ç»“æ„å†ç”¨ snappy è¿›è¡Œå‹ç¼©ï¼Œå†è¾“å‡ºåˆ°æ–‡ä»¶ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ parquet.dictionary.page.size è¿™ä¸ªå‚æ•°ä¼šå¯¹ç¼–ç é€ æˆä¸€å®šå½±å“ï¼Œå½“ dictionary é‡Œçš„å€¼å¤§äºé…ç½®çš„å€¼ï¼Œç¼–ç ä¼šé€€åŒ–ã€‚ c) mapreduceé‡ç‚¹æ€€ç–‘æ˜¯åœ¨ reduce åæˆ–è€…è¿‡ç¨‹ä¸­ï¼Œè¾“å‡ºæ•°æ®ä¹‹é—´è¾ƒä¸ºç¨€ç–ï¼Œå¯¼è‡´å‹ç¼©æ•ˆç‡ä¸ç†æƒ³ã€‚ä½†æ˜¯è¿™å—ä¸æ˜¯éå¸¸ç†Ÿæ‚‰ï¼Œéœ€è¦æ‰¾æ–¹æ³•éªŒè¯ã€‚ ä¸‰ã€ç»“æœå·²ç»æ‰¾åˆ°åŸå› ï¼Œç¡®å®æ˜¯ reduce åæ•°æ®è¾ƒä¸ºç¨€ç–å¯¼è‡´å‹ç¼©ç‡ä¸é«˜ã€‚ å‰å¤©åœ¨æ’æŸ¥çš„æ—¶å€™ï¼Œå‘ç° outscan å‡ºæ¥çš„æ•°æ®æŸäº› ID éƒ½æ˜¯è¿ç»­çš„ï¼Œè€Œåé¢çš„ title æ•°æ®ä¼šæœ‰åŸºæœ¬ç›¸åŒçš„æ•°æ®æ’åœ¨ä¸€èµ·ã€‚æ€€ç–‘æŸäº›è¡¨çš„æ•°æ®æœ‰ç‰¹æ®Šæ€§ï¼Œåœ¨ ID è¿ç»­æ—¶ï¼Œå…¶ä»–åˆ—çš„æ•°æ®åŸºæœ¬ç›¸åŒã€‚åç»­ä¹Ÿè¯å®äº†è¿™ä¸ªçŒœæƒ³ã€‚ å½“æŸäº›è¡¨çš„ xxx_id è¿ç»­åˆ†å¸ƒåœ¨åŒä¸€ä¸ª reduce ä¸­æ—¶ï¼Œä¼šå¯¹å‹ç¼©ç‡æœ‰æå¤§çš„æé«˜ï¼Œä¾‹å¦‚ | item_sku_id| title || 11231 | é»‘è‰²ç¾Šæ¯›è¡«XL|| 11232 | é»‘è‰²ç¾Šæ¯›è¡«XXL| | 11233 | é¥æ§æ±½è½¦A | | 11234 | é¥æ§æ±½è½¦B | é»˜è®¤çš„ partition ä¼šå°† 11231ï¼Œ11233å‘é€åˆ° reduce A , 11232 ï¼Œ11234 å‘é€åˆ° reduce B,æœ€åäº§ç”Ÿä¸¤ä¸ªå†…å®¹åŸºæœ¬æ²¡æœ‰é‡å¤çš„æ–‡ä»¶ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸è¿ç»­ å‹ç¼©ç‡ä¸ç†æƒ³ã€‚ è€Œ outscan æ²¡æœ‰ reduce çš„è¿‡ç¨‹ï¼Œç›´æ¥ map å®Œæœ‰åºè¾“å‡ºï¼Œä¸ä¼šå°†è¿ç»­çš„ id åˆ‡åˆ†åˆ°å„ä¸ª reduceã€‚ è§£å†³åŠæ³• 1public int getPartition(Text text, Text value, int numPartitions) &#123; long key &#x3D; Long.parseLong((text.toString().split(&quot;_&quot;))[0]); return (int) (key&#x2F;100%numPartitions); &#125; å¢åŠ äº†ä¸€ä¸ª partitionï¼Œä¸“é—¨ç»™è¿™äº›æ•°æ®ä¸Šæœ‰è¿ç»­æ€§çš„è¡¨ç”¨ï¼Œå°†è¿ç»­çš„ ID å‘é€åˆ°åŒä¸€ä¸ª reduce è¾“å‡ºã€‚subæœ€åä¸¤ä½æ˜¯è§‚å¯Ÿæˆ‘ä»¬DBé‡Œçš„æ•°æ®çš„è¿ç»­æ€§å¾—å‡ºçš„ç»éªŒå€¼ã€‚ å››ã€è§£å†³é—®é¢˜ä¹‹å¤–çš„ç ”ç©¶æœ€åç ”ç©¶ä¸‹ parquet çš„ç¼–ç å¯¹ parquet æœ¬èº«å‹ç¼©ç‡æœ‰å¤šå¤§çš„å½±å“ã€‚ å¼€å¯ SNAPPY å‹ç¼©ï¼Œè‡ªå®šä¹‰åˆ†åŒºæ–¹å¼é‡è·‘ ods_itm_wd_inv_app_item_sku_d ä»»åŠ¡ç»“æœä½“ç§¯å¤§å°åŠç¼–ç ç»“æœ å…³é—­SNAPPYå‹ç¼©åï¼Œè‡ªå®šä¹‰åˆ†åŒºæ–¹å¼é‡æ–°è·‘ ods_itm_wd_inv_app_item_sku_d ä»»åŠ¡ç»“æœä½“ç§¯å¤§å°åŠç¼–ç ç»“æœã€‚ å…³é—­SNAPPYå‹ç¼©åï¼Œé»˜è®¤åˆ†åŒºæ–¹å¼é‡æ–°è·‘ ods_itm_wd_inv_app_item_sku_d ä»»åŠ¡ç»“æœä½“ç§¯å¤§å°åŠç¼–ç ç»“æœã€‚ æ ¹æ®ä¸Šé¢çš„æ•°æ®å¯ä»¥å¾—å‡ºï¼Œåœ¨æ•°æ®å¯†é›†çš„æƒ…å†µä¸‹ï¼Œparquet æœ¬èº«å¯¹æ•°æ®çš„å‹ç¼©ç‡å°±ä¼šé«˜ä¸€äº›ï¼Œåœ¨æ•°æ®ä¸å¯†é›†çš„æƒ…å†µä¸‹ 5.1T ï¼Œæ•°æ®å¯†é›†çš„æƒ…å†µä¸‹ 3.7Tã€‚ ä¸‹é¢ä¸¤å¼ å›¾å¯ä»¥çœ‹åˆ°ï¼Œæœ‰åºå’Œæ— åºå¯¹éƒ½æ˜¯å­—ç¬¦çš„ title åˆ—çš„ç¼–ç æ–¹å¼å½±å“ä¸å¤§ï¼Œéƒ½ç”¨PLAINç¼–ç ã€‚","categories":[{"name":"æ•°æ®æ™ºèƒ½","slug":"æ•°æ®æ™ºèƒ½","permalink":"http://xingcici.github.io/categories/%E6%95%B0%E6%8D%AE%E6%99%BA%E8%83%BD/"}],"tags":[{"name":"hadoop","slug":"hadoop","permalink":"http://xingcici.github.io/tags/hadoop/"}]},{"title":"Skywalking 6.6.0å¯¹arthasçš„å…¼å®¹æ€§é—®é¢˜","slug":"Skywalking 6.6.0å¯¹arthasçš„å…¼å®¹æ€§é—®é¢˜","date":"2020-09-10T09:08:08.549Z","updated":"2020-09-11T03:29:25.141Z","comments":true,"path":"2020/09/10/skywalking-660-compatibility-issues-with-arthas.html","link":"","permalink":"http://xingcici.github.io/2020/09/10/skywalking-660-compatibility-issues-with-arthas.html","excerpt":"","text":"èƒŒæ™¯ç›®å‰åœ¨å‚ä¸å…¬å¸å…¨é“¾è·¯å‹æµ‹é¡¹ç›®ï¼Œåœ¨éƒ¨ç½²åˆ°æ—¥å¸¸ç¯å¢ƒæœåŠ¡è¿›è¡Œæµ‹è¯•æ—¶ï¼Œç”¨ arthas è¿›è¡Œè¿½è¸ªæ’æŸ¥é—®é¢˜å‘ç°æ— æ³•è¿½è¸ªè¢« agent å¢å¼ºçš„ç±»ã€‚äºæ˜¯å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ æŠ¥é”™å¦‚ä¸‹ 12345678910111213141516171819202122232425262728&#x2F;&#x2F;arthas trace æ—¶å‘½ä»¤è¡ŒæŠ¥é”™[arthas@24580]$ trace com.mysql.jdbc.PreparedStatement executeAffect(class count: 1 , method count: 5) cost in 480 ms, listenerId: 8Enhance error! exception: java.lang.UnsupportedOperationException: class redefinition failed: attempted to change superclass or interfaceserror happens when enhancing class: class redefinition failed: attempted to change superclass or interfaces, check arthas log: &#x2F;home&#x2F;www&#x2F;logs&#x2F;arthas&#x2F;arthas.log&#x2F;&#x2F;arthas æ—¥å¿—æŠ¥é”™2020-09-10 17:05:24 [arthas-command-execute] INFO c.t.arthas.core.advisor.Enhancer -enhance matched classes: [class com.mysql.jdbc.PreparedStatement, class com.mysql.jdbc.JDBC4PreparedStatement, class com.mysql.jdbc.CallableStatement, class com.mysql.jdbc.ServerPreparedStatement]2020-09-10 17:05:24 [arthas-command-execute] ERROR c.t.arthas.core.advisor.Enhancer -Enhancer error, matchingClasses: [class com.mysql.jdbc.PreparedStatement, class com.mysql.jdbc.JDBC4PreparedStatement, class com.mysql.jdbc.CallableStatement, class com.mysql.jdbc.ServerPreparedStatement]java.lang.UnsupportedOperationException: class redefinition failed: attempted to change superclass or interfaces at sun.instrument.InstrumentationImpl.retransformClasses0(Native Method) at sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144) at com.taobao.arthas.core.advisor.Enhancer.enhance(Enhancer.java:368) at com.taobao.arthas.core.command.monitor200.EnhancerCommand.enhance(EnhancerCommand.java:149) at com.taobao.arthas.core.command.monitor200.EnhancerCommand.process(EnhancerCommand.java:96) at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl.process(AnnotatedCommandImpl.java:82) at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl.access$100(AnnotatedCommandImpl.java:18) at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl$ProcessHandler.handle(AnnotatedCommandImpl.java:111) at com.taobao.arthas.core.shell.command.impl.AnnotatedCommandImpl$ProcessHandler.handle(AnnotatedCommandImpl.java:108) at com.taobao.arthas.core.shell.system.impl.ProcessImpl$CommandProcessTask.run(ProcessImpl.java:385) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:745) è§£å†³æ€è·¯é¦–å…ˆ skywalking å’Œ arthas éƒ½æ˜¯ç›®å‰æ¯”è¾ƒå—æ¬¢è¿çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘ä»¬åº”è¯¥ä¸æ˜¯ç¬¬ä¸€ä¸ªç¢°åˆ°è¿™ä¸ªé—®é¢˜çš„äººã€‚Github ä¸€æœï¼Œæœç„¶ä¸å°‘äººéƒ½ç¢°åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼ˆéƒ¨åˆ†èµ„æ–™è§å‚è€ƒèµ„æ–™ï¼‰ã€‚ å…¶ä¸­ arthas ç»´æŠ¤å›¢é˜Ÿçš„ä¸€ä½æˆå‘˜å·²ç»å¯¹ skywalking æå‡ºäº† prï¼Œå¹¶å·²ç»åˆå¹¶åˆ° matserï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯ 6.6.0ï¼Œmaster å·²ç»æ˜¯ 8.xã€‚åªèƒ½å‚è€ƒä¸‹è¿›è¡Œæ”¹é€ ã€‚ åŸºæœ¬çš„æ”¹é€ ç‚¹ä¸ºï¼š å¼€æºä»£ç ä¸­çš„æ–¹æ¡ˆåŒ…æ‹¬äº† æ–‡ä»¶ å’Œ å†…å­˜ç¼“å­˜ä¸¤ç§æ–¹å¼ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ–‡ä»¶è¿™ç§æ¯”è¾ƒé‡é‡çº§çš„æ–¹å¼ï¼Œäºæ˜¯å»æ‰äº†ï¼Œè€Œä¸”å°†å†…å­˜çš„æ–¹å¼æ”¹ä¸ºäº†LRUã€‚ 6.6.0 åŠ è½½è‡ªå®šä¹‰ CacheableTransformerDecorator çš„æ–¹å¼å’Œ 8.x ä¸å¤ªä¸€æ ·ï¼Œä¸»è¦æ˜¯ bytebuddy ç‰ˆæœ¬å·®å¼‚é€ æˆçš„ã€‚6.6.0 åŠ è½½çš„åœ°æ–¹ä¸º agentBuilder.installOn(x,x) ã€‚ è¿™æ ·æ”¹é€ ååŸºæœ¬å°±èƒ½å…¼å®¹ arthas äº†ã€‚ å‚è€ƒèµ„æ–™ [skywalking 6.4.0 ç‰ˆæœ¬å…¼å®¹æ€§]:https://github.com/alibaba/arthas/issues/898 [support class cache for ByteBuddy]:https://github.com/apache/skywalking/pull/4858/files [How to advice a class that have been intercepted by another javaagent but not loaded]: https://github.com/raphw/byte-buddy/issues/829 [Easily Create Java Agents with Byte Buddy]:https://www.infoq.com/articles/Easily-Create-Java-Agents-with-ByteBuddy/","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"é“¾è·¯è¿½è¸ª","slug":"é“¾è·¯è¿½è¸ª","permalink":"http://xingcici.github.io/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/"}]},{"title":"é›¶çŸ¥è¯†è¯æ˜","slug":"é›¶çŸ¥è¯†è¯æ˜","date":"2020-07-13T10:58:34.892Z","updated":"2020-07-13T11:20:42.193Z","comments":true,"path":"2020/07/13/zero-knowledge-proof.html","link":"","permalink":"http://xingcici.github.io/2020/07/13/zero-knowledge-proof.html","excerpt":"","text":"é›¶çŸ¥è¯†è¯æ˜ï¼šä¸€ä¸ªç•¥å¾®ä¸¥è‚ƒçš„ç§‘æ™®","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"http://xingcici.github.io/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"}]},{"title":"FutureTask","slug":"FutureTask","date":"2020-07-13T09:44:52.627Z","updated":"2020-07-13T09:47:11.607Z","comments":true,"path":"2020/07/13/futuretask.html","link":"","permalink":"http://xingcici.github.io/2020/07/13/futuretask.html","excerpt":"","text":"æˆ‘ä»¬å®ç° Callable æ¥å£ï¼Œåœ¨è¦†å†™çš„ call æ–¹æ³•ä¸­å®šä¹‰éœ€è¦æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘ï¼› ç„¶åæŠŠæˆ‘ä»¬å®ç°çš„ Callable æ¥å£å®ç°å¯¹è±¡ä¼ ç»™ FutureTaskï¼Œç„¶å FutureTask ä½œä¸ºå¼‚æ­¥ä»»åŠ¡æäº¤ç»™çº¿ç¨‹æ‰§è¡Œï¼› æœ€é‡è¦çš„æ˜¯ FutureTask å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªçŠ¶æ€ stateï¼Œä»»ä½•æ“ä½œï¼ˆå¼‚æ­¥ä»»åŠ¡æ­£å¸¸ç»“æŸä¸å¦è¿˜æ˜¯è¢«å–æ¶ˆï¼‰éƒ½æ˜¯å›´ç»•ç€è¿™ä¸ªçŠ¶æ€è¿›è¡Œï¼Œå¹¶éšæ—¶æ›´æ–° state ä»»åŠ¡çš„çŠ¶æ€ï¼› åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå½“å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œæ­¤æ—¶å¯èƒ½æ­£å¸¸ç»“æŸï¼Œå¼‚å¸¸ç»“æŸæˆ–è¢«å–æ¶ˆã€‚ å¯ä»¥å¤šä¸ªçº¿ç¨‹å¹¶å‘è·å–å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æœï¼Œå½“å¼‚æ­¥ä»»åŠ¡è¿˜æœªæ‰§è¡Œå®Œï¼Œæ­¤æ—¶è·å–å¼‚æ­¥ä»»åŠ¡çš„çº¿ç¨‹å°†åŠ å…¥çº¿ç¨‹ç­‰å¾…åˆ—è¡¨è¿›è¡Œç­‰å¾…ï¼› å½“å¼‚æ­¥ä»»åŠ¡çº¿ç¨‹æ‰§è¡Œç»“æŸåï¼Œæ­¤æ—¶ä¼šå”¤é†’è·å–å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œç»“æœçš„çº¿ç¨‹ï¼Œæ³¨æ„å”¤é†’é¡ºåºæ˜¯ â€œåè¿›å…ˆå‡ºâ€ å³åé¢åŠ å…¥çš„é˜»å¡çº¿ç¨‹å…ˆè¢«å”¤é†’ã€‚ å½“æˆ‘ä»¬è°ƒç”¨ FutureTask.cancel æ–¹æ³•æ—¶å¹¶ä¸èƒ½çœŸæ­£åœæ­¢æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„çº¿ç¨‹ï¼Œåªæ˜¯å‘å‡ºä¸­æ–­çº¿ç¨‹çš„ä¿¡å·ã€‚ä½†æ˜¯åªè¦ cancel æ–¹æ³•è¿”å› trueï¼Œæ­¤æ—¶å³ä½¿å¼‚æ­¥ä»»åŠ¡èƒ½æ­£å¸¸æ‰§è¡Œå®Œï¼Œæ­¤æ—¶æˆ‘ä»¬è°ƒç”¨ get æ–¹æ³•è·å–ç»“æœæ—¶ä¾ç„¶ä¼šæŠ›å‡º CancellationException å¼‚å¸¸ã€‚ åˆ©ç”¨ LockSupport æ¥å®ç°çº¿ç¨‹çš„é˜»å¡ \\ å”¤é†’æœºåˆ¶ï¼› åˆ©ç”¨ volatile å’Œ UNSAFE çš„ CAS æ–¹æ³•æ¥å®ç°çº¿ç¨‹å…±äº«å˜é‡çš„æ— é”åŒ–æ“ä½œï¼› è‹¥è¦ç¼–å†™è¶…æ—¶å¼‚å¸¸çš„é€»è¾‘å¯ä»¥å‚è€ƒ FutureTask çš„ get(long timeout, TimeUnit unit) çš„å®ç°é€»è¾‘ï¼› å¤šçº¿ç¨‹è·å–æŸä¸€æˆå‘˜å˜é‡ç»“æœæ—¶è‹¥éœ€è¦ç­‰å¾…æ—¶çš„çº¿ç¨‹ç­‰å¾…é“¾è¡¨çš„é€»è¾‘å®ç°ï¼› æŸä¸€å¼‚æ­¥ä»»åŠ¡åœ¨æŸä¸€æ—¶åˆ»åªèƒ½ç”±å•ä¸€çº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘å®ç°ï¼› FutureTask ä¸­çš„ä»»åŠ¡çŠ¶æ€ state çš„å˜åŒ–å¤„ç†çš„é€»è¾‘å®ç°ã€‚","categories":[{"name":"æºç ","slug":"æºç ","permalink":"http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"}],"tags":[{"name":"JDK","slug":"JDK","permalink":"http://xingcici.github.io/tags/JDK/"}]},{"title":"RockeMQ å•æœºç‰ˆåœ¨ centos ä¸Šçš„éƒ¨ç½²","slug":"RockeMQ å•æœºç‰ˆåœ¨ centos ä¸Šçš„éƒ¨ç½²","date":"2020-06-30T10:14:15.737Z","updated":"2020-07-01T05:34:11.679Z","comments":true,"path":"2020/06/30/rockemq-standalone-version-deployment-on-centos.html","link":"","permalink":"http://xingcici.github.io/2020/06/30/rockemq-standalone-version-deployment-on-centos.html","excerpt":"","text":"æœ€è¿‘éœ€è¦éœ€è¦å†ç ”ç©¶ä¸‹ RocketMQ çš„æ–‡ä»¶ç³»ç»Ÿçš„å…·ä½“å®ç°ï¼Œäºæ˜¯é‡æ–°åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šå®‰è£…äº†ä¸€éï¼Œè®°å½•ä¸‹è¿‡ç¨‹ã€‚ åˆ°é•œåƒç«™ä¸‹è½½å®‰è£…åŒ… wget http://mirror.bit.edu.cn/apache/rocketmq/4.7.1/rocketmq-all-4.7.1-bin-release.zip å¹¶è§£å‹ç¼© ä¿®æ”¹ broker.conf æ–‡ä»¶ï¼ˆconf/broker.confï¼‰æ·»åŠ  naemServer åœ°å€çš„å±æ€§ä»¥åŠè‡ªåŠ¨åˆ›å»º Topic çš„å±æ€§ã€‚ namesrvAddr = 127.0.0.1:9876 autoCreateTopicEnable = true ä¿®æ”¹å¯åŠ¨å‚æ•°ï¼ˆç”±äº rocketMQ å¯¹å†…å­˜çš„æ¶ˆè€—æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥æµ‹è¯•æ—¶ä¿®æ”¹ä¸ºæœ¬æœºåˆé€‚çš„å¤§å°ï¼‰ã€‚ä¸»è¦ä¿®æ”¹ bin ç›®å½•ä¸‹çš„ runserver.sh å’Œ runbroker.sh ä¸‹çš„ JAVA_OPT å±æ€§ã€‚ nohup sh bin/mqnamesrv &amp; nohup sh bin/mqbroker -c /root/download/rocketmq/conf/broker.conf &amp; sh bin/mqshutdown namesrv sh bin/mqshutdown broker æ³¨æ„å¼€æ”¾ç«¯å£ æœ‰å‡ ä¸ªå‘è¦æ³¨æ„ å¼€æ”¾ç«¯å£ æˆ‘åœ¨éƒ¨ç½²çš„æ—¶å€™ç¢°åˆ° store ç›®å½•ä¸‹æ²¡æ³•è‡ªåŠ¨å»ºæ–‡ä»¶å¤¹çš„é—®é¢˜ã€‚ broker.conf å¢åŠ é…ç½® namesrvAddr = 127.0.0.1:9876brokerIP1=47.101.33.17autoCreateTopicEnable = true","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://xingcici.github.io/tags/RocketMQ/"}]},{"title":"åå°„è·å–ä¸€ä¸ªç±»çš„ç§æœ‰æ–¹æ³•","slug":"åå°„è·å–ä¸€ä¸ªç±»çš„ç§æœ‰æ–¹æ³•","date":"2020-06-24T09:29:25.561Z","updated":"2020-06-30T03:33:21.715Z","comments":true,"path":"2020/06/24/reflection-to-get-a-class-private-method.html","link":"","permalink":"http://xingcici.github.io/2020/06/24/reflection-to-get-a-class-private-method.html","excerpt":"","text":"æ¯”è¾ƒç®€å• Github 123456789101112131415161718192021222324public class AccessPrivateMember &#123; public static void main(String[] args) &#123; try &#123; Class c = Class.forName(\"com.example.reflect.HelloService\"); //èƒ½è·å–æ‰€æœ‰æœ‰è®¿é—®æƒé™çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬çˆ¶ç±»ä¸­ç»§æ‰¿çš„ Method publicMethod = c.getMethod(\"publicHello\", String.class); Method saySomething = c.getMethod(\"publicHello\", String.class); //è·å–æ‰€æœ‰æ–¹æ³• æœ¬æ–¹æ³•ä¸­ Method thisClassMethod = c.getDeclaredMethod(\"privateHello\", String.class); //è®¾ç½®æƒé™ thisClassMethod.setAccessible(true); //ä¸èƒ½ç›´æ¥è½¬æˆç±»æ¥æ‰§è¡Œ classloader ä¸åŒ publicMethod.invoke(c.newInstance(), \"publicMethod\"); saySomething.invoke(c.newInstance(), \"saySomething\"); thisClassMethod.invoke(c.newInstance(), \"thisClassMethod\"); &#125;catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125;","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://xingcici.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"åå°„","slug":"åå°„","permalink":"http://xingcici.github.io/tags/%E5%8F%8D%E5%B0%84/"}]},{"title":"RocketMQ æ¶ˆæ¯å­˜å‚¨çš„è®¾è®¡ä¸å®ç°","slug":"RocketMQ æ¶ˆæ¯å­˜å‚¨çš„è®¾è®¡ä¸å®ç°","date":"2020-06-24T09:01:25.741Z","updated":"2020-07-01T07:10:45.920Z","comments":true,"path":"2020/06/24/design-and-implementation-of-rocketmq-message-storage.html","link":"","permalink":"http://xingcici.github.io/2020/06/24/design-and-implementation-of-rocketmq-message-storage.html","excerpt":"","text":"ä½œä¸ºä¸€æ¬¾é«˜æ€§èƒ½çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼ŒRocketMQ åŸºäºäº’è”ç½‘çš„ç”Ÿäº§è¦æ±‚å¯¹å¤š Topic åœºæ™¯åšäº†è¯¸å¤šé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚æ ¹æ®ä¸­é—´ä»¶å›¢é˜Ÿæä¾›çš„å‹æµ‹æŠ¥å‘Šï¼Œåœ¨ Producer å’Œ Consumer å…±å­˜çš„æƒ…å†µä¸‹ï¼Œç›¸æ¯”äº Kafkaï¼ŒRocketMQ çš„æ€§èƒ½æŒ‡æ ‡ï¼ˆTPS å’Œ RTï¼‰éšç€ Topic æ•°é‡çš„ä¸Šå‡è¡¨ç°ç¨³å®šã€‚æœ¬æ–‡ä»æ¶ˆæ¯å­˜å‚¨çš„è§’åº¦è°ˆè°ˆ RocketMQ é«˜æ€§èƒ½çš„åŸå› ï¼Œé‡ç‚¹åŒ…æ‹¬å››ä¸ªæ–¹é¢ï¼šæ¶ˆæ¯æ–‡ä»¶å­˜å‚¨çš„ç»“æ„è®¾è®¡ã€æ¶ˆæ¯ä» Broker æ¥æ”¶åˆ°æŒä¹…åŒ–ç£ç›˜çš„æµç¨‹ã€åˆ·ç›˜ç­–ç•¥å’Œå†…å­˜æ˜ å°„ä¼˜åŒ–æœºåˆ¶ã€‚ æ¶ˆæ¯æ–‡ä»¶å­˜å‚¨ç»“æ„è®¾è®¡æ¶ˆæ¯æŒä¹…åŒ–åˆ·ç›˜ç­–ç•¥å†…å­˜æ˜ å°„","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://xingcici.github.io/tags/RocketMQ/"}]},{"title":"æ·±å…¥ç†è§£ JAVA ååºåˆ—åŒ–æ¼æ´","slug":"æ·±å…¥ç†è§£ JAVA ååºåˆ—åŒ–æ¼æ´","date":"2020-06-24T01:47:01.053Z","updated":"2020-06-24T06:59:04.258Z","comments":true,"path":"2020/06/24/indepth-understanding-of-java-deserialization-vulnerability.html","link":"","permalink":"http://xingcici.github.io/2020/06/24/indepth-understanding-of-java-deserialization-vulnerability.html","excerpt":"","text":"æƒŠé—» dubbo çˆ†å‡ºä¸¥é‡çš„ååºåˆ—åŒ–æ¼æ´ CVE-2020-1948ï¼šApache Dubbo è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é€šå‘Š åŠ ä¸Šä¹‹å‰çš„ fastjson ä¸æ–­çš„ååºåˆ—åŒ–æ¼æ´ï¼Œäºæ˜¯äº†è§£äº†ä¸‹è¿™æ–¹é¢çš„çŸ¥è¯†ã€‚è¯¦è§æ·±å…¥ç†è§£ JAVA ååºåˆ—åŒ–æ¼æ´","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[]},{"title":"Linuxå‘½ä»¤å­¦ä¹ ","slug":"Linuxå‘½ä»¤å­¦ä¹ ","date":"2020-06-23T06:16:36.652Z","updated":"2020-06-24T06:59:04.203Z","comments":true,"path":"2020/06/23/linux-command-learning.html","link":"","permalink":"http://xingcici.github.io/2020/06/23/linux-command-learning.html","excerpt":"","text":"Linuxå‘½ä»¤å¤§å…¨","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://xingcici.github.io/tags/linux/"}]},{"title":"ç¼–ç¨‹ä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿ","slug":"ç¼–ç¨‹ä¸­çš„ä¸€äº›æ„Ÿæ‚Ÿ","date":"2020-06-18T12:20:02.180Z","updated":"2020-06-24T06:59:04.236Z","comments":true,"path":"2020/06/18/some-sentiments-in-programming.html","link":"","permalink":"http://xingcici.github.io/2020/06/18/some-sentiments-in-programming.html","excerpt":"","text":"åŠ å¼ºå¯¹è±¡æ„è¯†ä¹‹å‰è™½ç„¶æœ‰æ„è¯†åœ¨å¼ºåŒ–ï¼Œä½†æ˜¯æœ‰æ—¶å€™è¿˜æ˜¯å†™å‡ºç®€å•çš„å‘½ä»¤å¼çš„ä»£ç ã€‚å¯¹åŒä¸€ä¸ªäº‹ç‰©çš„ä¸€ç³»åˆ—æ“ä½œï¼ŒåŸºæœ¬éƒ½èƒ½ä»¥è¯¥äº‹ç‰©å‘èµ·æ“ä½œçš„å½¢å¼æ¥è®¾è®¡ï¼ŒåŒ…è£…ä¸€ä¸‹ã€‚ lifecycleæœ€è¿‘å¼€å§‹çœŸçš„å†™ä¸­é—´ä»¶æ‰æ„è¯†åˆ°ï¼Œå¯¹å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸçš„æŒæ¡éå¸¸é‡è¦ï¼Œä¸‹é¢çš„è¿™ç§å½¢å¼å°±å¾ˆæ–¹ä¾¿ 1234567891011public class Server implements LifeCycle &#123; @Override public void startup() &#123; &#125; @Override public void shutdown() &#123; &#125;&#125;","categories":[{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"}],"tags":[]},{"title":"Sofa-boltçš„ç®€å•ä½¿ç”¨","slug":"Sofa-boltçš„ç®€å•ä½¿ç”¨","date":"2020-06-18T03:48:20.319Z","updated":"2020-06-24T06:59:04.218Z","comments":true,"path":"2020/06/18/simple-use-of-sofabolt.html","link":"","permalink":"http://xingcici.github.io/2020/06/18/simple-use-of-sofabolt.html","excerpt":"","text":"ä»£ç å·²ç»æ”¾åœ¨ github","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://xingcici.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"Netty","slug":"Netty","permalink":"http://xingcici.github.io/tags/Netty/"}]},{"title":"ç”±No route info for this topicå¼•å‘çš„å…³äºRocketMQçš„é—®é¢˜","slug":"ç”±No route info for this topicå¼•å‘çš„å…³äºRocketMQçš„é—®é¢˜","date":"2020-06-17T01:21:44.351Z","updated":"2020-06-24T06:59:04.329Z","comments":true,"path":"2020/06/17/questions-about-rocketmq-caused-by-no-route-info-for-this-topic.html","link":"","permalink":"http://xingcici.github.io/2020/06/17/questions-about-rocketmq-caused-by-no-route-info-for-this-topic.html","excerpt":"","text":"èƒŒæ™¯æ˜¨å¤©ä¸€ä½ä¸šåŠ¡çš„åŒå­¦åœ¨æˆ‘å®¡æ‰¹MQé€šè¿‡åï¼Œåœ¨ä¸šåŠ¡ä»£ç é‡ŒåŠ äº†ä¸ª producerï¼Œç»“æœå¯åŠ¨é¡¹ç›®æ—¶é›†æˆçš„è°ƒåº¦ä¸­å¿ƒçš„äºŒæ–¹åŒ…é‡Œçš„ producer åœ¨é€šè¿‡ MQ æ³¨å†Œ JOB æ—¶æŠ¥ No route info for this topicã€‚ æ€è·¯è¿™ä¸ªå¼‚å¸¸ä¹Ÿç®—æ¯”è¾ƒå¸¸è§äº†ï¼Œä¸€èˆ¬æ˜¯æ²¡æœ‰åˆ›å»º topicï¼Œæˆ–è€…è¿æ¥é”™äº† namesrv å¯¼è‡´ã€‚ä½†æ˜¯æŸ¥çœ‹äº†ä»–çš„ä»£ç åå‘ç°é…ç½®æ²¡æœ‰é—®é¢˜ã€‚ç„¶åä»–åé¦ˆä»– DEBUG å‡ºæ¥ producer é‡Œçš„ namesrv æ˜¯æ­£ç¡®çš„ï¼Œç„¶åä»–è‡ªå·±æ–°åŠ çš„ã€‚è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œäºæ˜¯æˆ‘è®©ä»–æäº¤äº†ä»£ç ç„¶åç”³è¯·äº†ä»£ç æƒé™çœ‹ä¸‹åŸå› ã€‚ è§£å†³è¿™é‡Œå…ˆè¯´ä¸€å¥ï¼Œæˆ‘å¯¹ BUG è¿™ç§ä¸œè¥¿ï¼Œä¸€ç›´éƒ½ç›¸ä¿¡ä¸€å¥è¯ï¼Œ99%ä½ ç¢°åˆ°è§‰å¾—æ— æ¯”é«˜æ·±çš„ BUGï¼ŒåŸºæœ¬éƒ½æ˜¯éå¸¸ç®€å•çš„ç‚¹å¼„é”™äº†å¯¼è‡´çš„ã€‚è¿™æ¬¡æœç„¶è¿˜æ˜¯å¦‚æ­¤ã€‚ ä¸€å¼€å§‹æˆ‘éƒ½æ²¡å»çœ‹é…ç½®çš„é—®é¢˜ï¼Œå› ä¸ºä»ä¸šåŠ¡æ–¹ä¹‹å‰æˆªå›¾ç»™æˆ‘çš„é…ç½®é‡Œæ˜¯æ²¡é—®é¢˜çš„ã€‚æˆ‘ä»¬å¯¹é…ç½®çš„å¼•ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ @key@ï¼Œå¦å¤–ä¸€ç§æ˜¯ ${key}ã€‚æˆªå›¾ç»™æˆ‘çš„æ—¶å€™ç”¨çš„æ˜¯ @key@ï¼Œæˆ‘æƒ³å½“ç„¶è§‰å¾—è¿™åº”è¯¥ä¹Ÿæ˜¯èƒ½æ­£å¸¸æ‹¿åˆ° value çš„ã€‚ äºæ˜¯å¼€å§‹DEBUGï¼Œå‘ç°ä»–é…ç½®çš„ @key@ å±…ç„¶æ²¡å¼•ç”¨åˆ° valueï¼Œç›´æ¥æŠŠ @key @ä½œä¸º namesrv ä¼ è¿›å»äº†,å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ ä½†æ˜¯æ€è€ƒä¸€ä¸‹ï¼Œåˆæœ‰é—®é¢˜äº†ã€‚æŒ‰æ­£å¸¸çš„æ€ç»´ï¼Œnamesrvé…ç½®éš¾é“ä¸æ˜¯åº”è¯¥è·Ÿç€ producer å—ã€‚éš¾é“ rocketMQ åœ¨åŒä¸€ä¸ª JVM ä¸­åªå…è®¸è¿ä¸€ä¸ª namesrv?å¦‚æœæ˜¯è¿™æ ·ï¼Œé‚£æ˜¯é…ç½®çš„è¦†ç›–è¿˜æ˜¯å•ä¾‹æ¥å®ç°å‘¢? äºæ˜¯ç»§ç»­çœ‹æºç ã€‚ å¼‚å¸¸æ˜¯åœ¨è¿™è¡ŒæŠ›å‡º æŠ›å‡ºçš„åŸå› æ˜¯ä¸‹é¢è¿™è¡Œåˆ¤æ–­ä¸é€šè¿‡ã€‚ 1topicPublishInfo !&#x3D; null &amp;&amp; topicPublishInfo.ok() ç»§ç»­è¿½è¸ªä¸‹å»ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™ä¸ª Map ä¸­ topic å¯¹åº”çš„ topic è·¯ç”±ä¿¡æ¯ä¸å­˜åœ¨ã€‚ é‚£ä¹ˆè¿™ä¸ªMapåˆæ˜¯ä»€ä¹ˆæ—¶å€™å†™å…¥ä¿¡æ¯çš„å‘¢ã€‚å…¶å®æ˜¯åœ¨ä¸‹å›¾è¿™ä¸ªåœ°æ–¹ã€‚ ä¸Šé¢é‚£ä¸ªå†™å…¥è·¯ç”±ä¿¡æ¯çš„æ–¹æ³•åˆæ˜¯åœ¨è¿™ä¸ªåœ°æ–¹è°ƒç”¨çš„ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ MQClientInstance é‡Œçš„ï¼Œä¸çŸ¥é“å¤§å®¶çœ‹åˆ° Instance è¿™ä¸ªç±»åç»“å°¾æœ‰æ²¡æœ‰å•¥æ„Ÿè§‰ã€‚æˆ‘æ˜¯çœ‹åˆ°è¿™ä¸ªåŸºæœ¬å°±å¾€å•ä¾‹æˆ–è€…è·ŸæŸä¸ª key ç»‘å®šè¿™æ–¹é¢å»æƒ³ã€‚é‚£ä¹ˆç»§ç»­çœ‹ MQClientInstance æ˜¯æ€ä¹ˆç»´æŠ¤çš„ã€‚ MQClientInstance å­˜å‚¨å’Œç”Ÿæˆçš„åœ°æ–¹å¦‚ä¸‹é¢ä¸¤å¼ å›¾æ‰€ç¤ºã€‚ å¯ä»¥çœ‹åˆ°æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹åšäº†ä¸ªç»‘å®šï¼Œé‚£ä¹ˆç»§ç»­å¾€ä¸‹çœ‹ã€‚ç”Ÿæˆäº† MQClientInstance å¹¶ä»¥ä¸‹å›¾é‡Œçš„ä»£ç çš„ç»“æœä¸º key æ”¾å…¥ é‚£çœŸç›¸å°±å‡ºç°äº†ï¼ŒåŒä¸€ä¸ª JVM ä¸­å¦‚æœé…ç½®çš„æ—¶å€™ä¸é… unitNameï¼Œé‚£ä¹ˆä¸ç®¡é…å¤šå°‘ä¸ª producer éƒ½åªä¼šæœ‰ä¸€ä¸ª MQClientInstance,ç›¸å½“äº config ä¹Ÿå°±ç”Ÿæ•ˆä¸€ä»½ ğŸ˜ã€‚åŸºæœ¬å°±çœ‹å“ªä¸ª producerå…ˆåˆå§‹åŒ–äº†ã€‚åé¢æ¥çš„åªèƒ½æ‹¿ä¹‹å‰çš„é‚£ä¸ª MQClientInstance æ¥è·å–è·¯ç”±ä¿¡æ¯ã€‚ å†å›åˆ°ä¹‹å‰æœ€å¼€å§‹çš„é—®é¢˜ï¼Œä¸šåŠ¡æ–¹åé¢é…ç½®çš„ producer æ˜¯ç”¨ xml é…ç½®çš„ beanï¼Œè€Œè°ƒåº¦ä¸­å¿ƒçš„ producer ä»–ä»¬ä½¿ç”¨æ—¶åœ¨é‡å†™äº† afterPropertiesSet æ–¹æ³•é‡Œåˆå§‹åŒ–ã€‚ç†è®ºä¸Šè‚¯å®šæ˜¯ spring è‡ªèº«ç»´æŠ¤çš„ bean åˆå§‹åŒ–åœ¨ afterPropertiesSet ä¹‹å‰ã€‚ç„¶è€Œxmlé‡Œé…ç½®çš„valueæ°å¥½åˆæ˜¯é”™è¯¯çš„ï¼Œå°±å¯¼è‡´äº† No route info for this topic å‡ºç°äº†ã€‚å°† namesrv çš„å¼•ç”¨æ”¹ä¸ºæ­£ç¡®çš„ï¼Œé—®é¢˜è§£å†³ã€‚ åç»­åœ¨ vdianmq é‡Œå¯ä»¥ä»¥ warn log çš„å½¢å¼æé†’ä¸‹ä¸šåŠ¡æ–¹è¿™æ–¹é¢ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://xingcici.github.io/tags/RocketMQ/"}]},{"title":"Zookeepråœ¨åˆ†å¸ƒå¼åè°ƒä¸­çš„ä½¿ç”¨","slug":"Zookeepråœ¨åˆ†å¸ƒå¼åè°ƒä¸­çš„ä½¿ç”¨","date":"2020-06-16T03:00:46.686Z","updated":"2020-06-24T07:11:58.541Z","comments":true,"path":"2020/06/16/use-of-zookeepr-in-distributed-coordination.html","link":"","permalink":"http://xingcici.github.io/2020/06/16/use-of-zookeepr-in-distributed-coordination.html","excerpt":"","text":"","categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://xingcici.github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"}],"tags":[{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://xingcici.github.io/tags/Zookeeper/"}]},{"title":"Sofa-boltæºç é˜…è¯»","slug":"Sofa-boltæºç é˜…è¯»","date":"2020-06-16T02:57:12.287Z","updated":"2020-06-24T06:59:04.233Z","comments":true,"path":"2020/06/16/sofabolt-source-reading.html","link":"","permalink":"http://xingcici.github.io/2020/06/16/sofabolt-source-reading.html","excerpt":"","text":"â€‹ SOFABolt æ˜¯èš‚èšé‡‘èæœåŠ¡é›†å›¢å¼€å‘çš„ä¸€å¥—åŸºäº Netty å®ç°çš„ç½‘ç»œé€šä¿¡æ¡†æ¶ã€‚ ä¸ºäº†è®© Java ç¨‹åºå‘˜èƒ½å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨åŸºäºç½‘ç»œé€šä¿¡çš„ä¸šåŠ¡é€»è¾‘å®ç°ä¸Šï¼Œè€Œä¸æ˜¯è¿‡å¤šçš„çº ç»“äºç½‘ç»œåº•å±‚ NIO çš„å®ç°ä»¥åŠå¤„ç†éš¾ä»¥è°ƒè¯•çš„ç½‘ç»œé—®é¢˜ï¼ŒNetty åº”è¿è€Œç”Ÿã€‚ ä¸ºäº†è®©ä¸­é—´ä»¶å¼€å‘è€…èƒ½å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨äº§å“åŠŸèƒ½ç‰¹æ€§å®ç°ä¸Šï¼Œè€Œä¸æ˜¯é‡å¤åœ°ä¸€ééåˆ¶é€ é€šä¿¡æ¡†æ¶çš„è½®å­ï¼ŒSOFABolt åº”è¿è€Œç”Ÿã€‚ Bolt åå­—å–è‡ªè¿ªå£«å°¼åŠ¨ç”» - é—ªç”µç‹—ï¼Œæ˜¯ä¸€ä¸ªåŸºäº Netty æœ€ä½³å®è·µçš„è½»é‡ã€æ˜“ç”¨ã€é«˜æ€§èƒ½ã€æ˜“æ‰©å±•çš„é€šä¿¡æ¡†æ¶ã€‚ è¿™äº›å¹´æˆ‘ä»¬åœ¨å¾®æœåŠ¡ä¸æ¶ˆæ¯ä¸­é—´ä»¶åœ¨ç½‘ç»œé€šä¿¡ä¸Šè§£å†³è¿‡å¾ˆå¤šé—®é¢˜ï¼Œç§¯ç´¯äº†å¾ˆå¤šç»éªŒï¼Œå¹¶æŒç»­çš„è¿›è¡Œç€ä¼˜åŒ–å’Œå®Œå–„ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½æŠŠæ€»ç»“å‡ºçš„è§£å†³æ–¹æ¡ˆæ²‰æ·€åˆ° SOFABolt è¿™ä¸ªåŸºç¡€ç»„ä»¶é‡Œï¼Œè®©æ›´å¤šçš„ä½¿ç”¨ç½‘ç»œé€šä¿¡çš„åœºæ™¯èƒ½å¤Ÿç»Ÿä¸€å—ç›Šã€‚ ç›®å‰è¯¥äº§å“å·²ç»è¿ç”¨åœ¨äº†èš‚èšä¸­é—´ä»¶çš„å¾®æœåŠ¡ (SOFARPC)ã€æ¶ˆæ¯ä¸­å¿ƒã€åˆ†å¸ƒå¼äº‹åŠ¡ã€åˆ†å¸ƒå¼å¼€å…³ã€ä»¥åŠé…ç½®ä¸­å¿ƒç­‰ä¼—å¤šäº§å“ä¸Šã€‚","categories":[{"name":"æºç ","slug":"æºç ","permalink":"http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"}],"tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://xingcici.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"Netty","slug":"Netty","permalink":"http://xingcici.github.io/tags/Netty/"}]},{"title":"Raftç®—æ³•çš„ç®€å•å®ç°","slug":"Raftç®—æ³•çš„ç®€å•å®ç°","date":"2020-06-15T12:02:55.454Z","updated":"2020-06-24T06:59:04.235Z","comments":true,"path":"2020/06/15/simple-implementation-of-raft-algorithm.html","link":"","permalink":"http://xingcici.github.io/2020/06/15/simple-implementation-of-raft-algorithm.html","excerpt":"","text":"æ•¬è¯·æœŸå¾…","categories":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://xingcici.github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://xingcici.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"è°ƒåº¦ä¸­å¿ƒä»»åŠ¡åˆ†ç‰‡æ–¹æ¡ˆè®¾è®¡å’Œå®ç°","slug":"è°ƒåº¦ä¸­å¿ƒä»»åŠ¡åˆ†ç‰‡æ–¹æ¡ˆè®¾è®¡å’Œå®ç°","date":"2020-06-12T06:26:50.069Z","updated":"2020-06-24T06:59:04.262Z","comments":true,"path":"2020/06/12/design-and-implementation-of-task-sharding-scheme-in-dispatch-center.html","link":"","permalink":"http://xingcici.github.io/2020/06/12/design-and-implementation-of-task-sharding-scheme-in-dispatch-center.html","excerpt":"","text":"èƒŒæ™¯å¾®åº—ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒï¼ˆTOCï¼‰æ¯å¤©æ‰¿æ‹…åƒä¸‡ç”šè‡³äº¿é‡çº§çš„ä»»åŠ¡è°ƒåº¦ï¼Œä¸å•å•æ˜¯å¾ªç¯çš„ä¼ ç»Ÿä»»åŠ¡è°ƒåº¦ï¼Œè¿˜æ‰¿æ‹…äº†ç±»ä¼¼äºå»¶æ—¶æ¶ˆæ¯çš„ä¸€æ¬¡æ€§è°ƒåº¦ã€‚ä½†æ˜¯ç›®å‰è®¾è®¡ä¸Šä»ç„¶æ¯”è¾ƒåŸå§‹ï¼Œæ˜¯TOCæŠ¢åˆ†å¸ƒå¼é”åé€šè¿‡çº¿ç¨‹ä¸æ–­æ‰«è¡¨è¯»å–éœ€è¦è°ƒåº¦çš„jobï¼Œå†é€šè¿‡ dubbo è°ƒåº¦jobï¼Œå½¢æˆäº†ä¸€äººå·¥ä½œï¼Œä»–äººå›´è§‚çš„åœºæ™¯ã€‚è™½ç„¶èƒ½æ»¡è¶³ç›®å‰çš„éœ€æ±‚ï¼Œä½†æ˜¯å·²ç»è¶Šæ¥è¶ŠåŠ›ä¸ä»å¿ƒï¼Œåœ¨ä¸€äº›æç«¯çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚æŸä¸ªåº”ç”¨æ³¨å†Œä»»åŠ¡æ¿€å¢çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šå‡ºç°å¤§é‡çš„è°ƒåº¦å»¶è¿Ÿã€‚äºæ˜¯ä»¥èƒ½æ— é™æ°´å¹³æ‰©å®¹ä¸ºç›®æ ‡çš„è°ƒåº¦æ–¹æ¡ˆçš„æ”¹é€ åŠ¿åœ¨å¿…è¡Œã€‚ è€æ¶æ„è®¾è®¡æœåŠ¡é€šè¿‡æŠ¢å zkåˆ†å¸ƒå¼é”æ¥è·å¾—æ‰§è¡Œæƒé™ï¼Œä»æ•°æ®åº“ä¸­æ‰«è¡¨è·å¾—éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚å› ä¸ºæˆ‘ä»¬æœ‰256å¼ åˆ†è¡¨ï¼Œæˆ‘ä»¬ä¹Ÿé™åˆ¶æˆä»æ¯å¼ åˆ†è¡¨é‡Œè¯»å–100æ¡è®°å½•ï¼Œæ¯æ¬¡æœ€å¤§æ€»æ•°ä¹Ÿå°±æ˜¯25600ã€‚ æ‰§è¡Œæ—¶é€šè¿‡ dubbo rpc å›è°ƒæ³¨å†Œæ–¹æ¥æ‰§è¡Œä»»åŠ¡ã€‚ æ³¨å†Œæ–¹æ‰§è¡Œå®Œåä¼šå›è°ƒè°ƒåº¦ä¸­å¿ƒæ›´æ–°ä»»åŠ¡çŠ¶æ€ã€‚ è°ƒç ”è°ƒç ”æ—¶å‘ç°ï¼Œç›®å‰å¼€æºçš„æ¯”è¾ƒæµè¡Œçš„è°ƒåº¦ä¸­å¿ƒä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆã€‚ä¸€ç§æ˜¯ä¸­å¿ƒåŒ–çš„ï¼Œä¾‹å¦‚xxl-jobã€‚å¦å¤–ä¸€ç§æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œä¾‹å¦‚ elastic-jobã€‚ ç”±äºå…¬å¸å†…éƒ¨zookeeperçš„ä½¿ç”¨å·²ç»æ¯”è¾ƒæˆç†Ÿäº†ï¼Œè€Œä¸”å¯¹é«˜å¯ç”¨çš„è¦æ±‚æ¯”è¾ƒé«˜ã€‚äºæ˜¯ç€é‡ç ”ç©¶äº†es-jobã€‚ es-jobå®ç°åˆ†ç‰‡çš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨zkä½œä¸ºåè°ƒè€…æ¥è¿›è¡Œåˆ†ç‰‡ã€‚ å…³é”®æµç¨‹å¦‚ä¸‹ï¼š 1ã€æ¯ä¸€ä¸ªæœåŠ¡å¯åŠ¨æ—¶ï¼Œå‘zkçš„workerèŠ‚ç‚¹æ³¨å†Œï¼ŒåŒæ—¶å‚ä¸leaderçš„é€‰ä¸¾ã€‚ 2ã€leaderé€‰ä¸¾æˆåŠŸåï¼Œåœ¨éœ€è¦è¿›è¡Œåˆ†ç‰‡çš„ä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œè·å–workerèŠ‚ç‚¹çš„æ•°é‡ï¼Œå¯¹ä»»åŠ¡è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ†é…è‡³workerèŠ‚ç‚¹ä¸‹ã€‚ 3ã€workerèŠ‚ç‚¹æ‰§è¡Œä»»åŠ¡æ—¶ä»cacheè¯»å–éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡è¿›è¡Œæ‰§è¡Œï¼ŒåŒæ—¶æ›´æ–°ä»»åŠ¡æ‰§è¡Œçš„çŠ¶æ€ã€‚ å…³é”®çš„æµç¨‹æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸»è¦å°±æ˜¯åˆ©ç”¨äº†zkã€‚ æ–°æ¶æ„è®¾è®¡æˆ‘ä»¬å…¬å¸çš„è°ƒåº¦äº§å“æœ‰ä¸ªç‰¹ç‚¹ï¼Œåº•å±‚æ•°æ®åº“å°±æ˜¯åˆ†è¡¨çš„ï¼Œå›ºå®šçš„256å¼ è¡¨ï¼Œé‚£ä¹ˆå­˜åœ¨å¤©ç„¶çš„åˆ†ç‰‡ä¼˜åŠ¿ã€‚ äºæ˜¯ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ—¶ä¹Ÿå°±æ¯”è¾ƒç®€å•ï¼Œå°†256å¼ è¡¨åˆ†ç»™æ³¨å†Œåœ¨zk workerèŠ‚ç‚¹ä¸‹çš„workerå°±è¡Œã€‚ å®ç°1ã€è°ƒåº¦ä¸­å¿ƒèµ·æ¥åï¼Œå‘zk æ³¨å†Œ workerä¸´æ—¶èŠ‚ç‚¹ï¼ŒåŒæ—¶ç›‘å¬é“¾æ¥çŠ¶æ€å’ŒèŠ‚ç‚¹ node cache çš„å˜åŒ–ã€‚ 2ã€æ¯ä¸ªå®ä¾‹éƒ½å‚ä¸ leader é€‰ä¸¾ã€‚æˆä¸ºleader çš„å®ä¾‹ å¯¹ worker æ ¹èŠ‚ç‚¹æ·»åŠ ç›‘å¬å™¨ï¼Œç›‘å¬ worker å˜åŒ–äº‹ä»¶ã€‚ 3ã€leader æ ¹æ® worker æ•°é‡ï¼Œå¯¹ 256 å¼ è¡¨è¿›è¡Œåˆ†é…ï¼Œåˆ†é…ç»“æœå†™å…¥åˆ° node cacheã€‚ 4ã€worker ç›‘å¬åˆ° node cache å‘ç”Ÿå˜åŒ–ï¼Œè·å–æœ€æ–°æ•°æ®ï¼Œ å†™å…¥æœ¬åœ°çš„ç¼“å­˜ã€‚ 5ã€å½“ worker ä¸ zk ä¹‹é—´è¿æ¥å‘ç”Ÿæ³¢åŠ¨æ—¶ï¼Œæ¸…ç©ºæœ¬åœ°ç¼“å­˜ã€‚ 6ã€è°ƒåº¦æ‰«æçº¿ç¨‹æ ¹æ®æœ¬åœ°ç¼“å­˜é‡Œçš„è¡¨ï¼Œè¿›è¡Œæ‰«è¡¨æ‰§è¡Œã€‚ æ•ˆæœè€æ¶æ„CPUç›‘æ§ æ–°æ¶æ„CPUç›‘æ§ å¯ä»¥çœ‹åˆ°ï¼Œä¸€äººå¹²æ´»ï¼Œä»–äººå›´è§‚çš„åœºé¢ä¸€å»ä¸å¤è¿”äº†ã€‚å¤§å®¶ä¸€èµ·å¹²æ´»ï¼Œå¾ˆå’Œè°ã€‚ æ¢ç´¢etc","categories":[{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"}],"tags":[]},{"title":"dubboè°ƒç”¨åœ¨2.7.5ç‰ˆæœ¬ä»¥ä¸‹çš„æ€§èƒ½é—®é¢˜çš„è§£å†³","slug":"dubboè°ƒç”¨åœ¨2.7.5ç‰ˆæœ¬ä»¥ä¸‹çš„æ€§èƒ½é—®é¢˜çš„è§£å†³","date":"2020-06-11T02:26:30.501Z","updated":"2020-06-24T06:59:04.285Z","comments":true,"path":"2020/06/11/dubbo-call-to-solve-performance-problems-below-version-275.html","link":"","permalink":"http://xingcici.github.io/2020/06/11/dubbo-call-to-solve-performance-problems-below-version-275.html","excerpt":"","text":"èƒŒæ™¯toc çš„ç›‘æ§åœ¨æ—¥å¸¸ç¯å¢ƒæµ‹è¯•æ—¶ï¼Œå‘ç°æ—¥å¸¸ç¯å¢ƒåœ¨å¤§é‡JOBéœ€è¦è°ƒåº¦çš„æƒ…å†µä¸‹ï¼Œå‘ç°ä¸‰å°æœºå™¨è°ƒåº¦çš„ç“¶é¢ˆå¤§æ¦‚ä¸º8kæ¯åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯ä¸€å°æœºå™¨æ¯ç§’å¤„ç†44ä¸ªï¼Œå¹³å‡æ¯ä¸ªJOBè€—æ—¶22æ¯«ç§’ã€‚è¿™è¿˜æ˜¯åœ¨å·²ç»åˆ†ç‰‡çš„æƒ…å†µä¸‹ã€‚ å¦‚æœåªæ˜¯ dubbo è°ƒç”¨å°±è¦è¿™ä¹ˆä¹…è‚¯å®šä¸æ­£å¸¸ã€‚äºæ˜¯è¿›è¡Œæ’æŸ¥ã€‚ æ•°æ®ç†è®ºä¸Šæœ€è€—æ—¶çš„ç‚¹åº”è¯¥æ˜¯åœ¨è¿œç¨‹è°ƒç”¨çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œå»¶è¿Ÿã€‚åœ¨æ—¥å¸¸ç¯å¢ƒç”¨arthasæŠ“å–æ–¹æ³•è€—æ—¶ï¼Œå‘ç°è€—æ—¶çš„è¿‡ç¨‹åè€Œæ˜¯åœ¨ è¿™ä¸ªæ–¹æ³•ä¸Šã€‚ ç”¨ arthas æŠ“çš„å›¾å¦‚å›¾æ‰€ç¤ºã€‚ å¯ä»¥çœ‹åˆ° config.get è¿™ä¸ªæ–¹æ³•è¿œå¤§äºæˆ–è€…æ¥è¿‘å®é™…è°ƒç”¨è¿‡ç¨‹ã€‚ç†è®ºä¸Šå¯¹è¿™ä¸ªç‚¹è¿›è¡Œä¼˜åŒ–å¯ä»¥è‡³å°‘æå‡ä¸€å€çš„æ€§èƒ½ã€‚ è§£å†³è¿‡ç¨‹ç»§ç»­åˆ†æ get æ–¹æ³•ï¼Œå…¶å†…éƒ¨è€—æ—¶ä¸»è¦è¿˜æ˜¯åœ¨ checkAndUpdateSubConfigs(); è¿™ä¸ªæ–¹æ³•ã€‚ è¿™ä¸ªæ–¹æ³•ä¸»è¦æ˜¯è·å–åˆ·æ–°å„ç§é…ç½®ã€‚è€Œä¸”ç”±äºæˆ‘ä»¬æ²¡æœ‰ç”¨æ–°ç‰ˆçš„dubboé…ç½®ä¸­å¿ƒï¼Œå¯¼è‡´æ¯è°ƒä¸€æ¬¡GETä¼šæ‰“ä¸€æ¬¡warnæ—¥å¿— äºæ˜¯è€ƒè™‘è¦ä¸åœ¨get åšä¸ªç¼“å­˜æ¥è§£å†³ã€‚ä½†æ˜¯åœ¨è§£å†³ä¹‹å‰ä¹ŸæŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰å…¶ä»–äººç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç»“æœè¿˜çœŸæœ‰ã€‚ä»–ä»¬è§£å†³çš„åŠæ³•æ˜¯å‡çº§dubbo ç‰ˆæœ¬ã€‚apache 2.7.5 ç‰ˆæœ¬ å°±è§£å†³äº†è¿™ä¸ªæ€§èƒ½é—®é¢˜ï¼Œå°† checkAndUpdateSubConfigs ä¸¢åˆ° init æ–¹æ³•é‡Œï¼Œåªåœ¨ init çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ã€‚ ä¸è¿‡ç”±äºå‡çº§ dubbo æ ¸å¿ƒç‰ˆæœ¬æ²¡é‚£ä¹ˆå®¹æ˜“ï¼Œäºæ˜¯æš‚æ—¶å°±åœ¨ get å¤–å±‚åšäº†ä¸ªç¼“å­˜æ¥è§£å†³ã€‚ ä¸‹å›¾æ˜¯ä¿®æ”¹åçš„è€—æ—¶ï¼Œå¯ä»¥çœ‹åˆ°è€—æ—¶åŸºæœ¬åªå‰©è°ƒç”¨è¿™å—ã€‚å…·ä½“çš„æ€§èƒ½æå‡å¤šå°‘ç­‰å¾…åç»­çš„æµ‹è¯•ã€‚","categories":[{"name":"æ—¥å¸¸é—®é¢˜","slug":"æ—¥å¸¸é—®é¢˜","permalink":"http://xingcici.github.io/categories/%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://xingcici.github.io/tags/dubbo/"}]},{"title":"Sentinelç”Ÿäº§ç¯å¢ƒæ”¹é€ å®è·µ","slug":"Sentinelç”Ÿäº§ç¯å¢ƒæ”¹é€ å®è·µ","date":"2020-04-08T05:23:50.763Z","updated":"2020-06-24T06:59:04.277Z","comments":true,"path":"2020/04/08/sentinel-production-environment-transformation-practice.html","link":"","permalink":"http://xingcici.github.io/2020/04/08/sentinel-production-environment-transformation-practice.html","excerpt":"","text":"å¼•è¨€éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå…¬å¸çš„æœåŠ¡éœ€è¦å¯¹æŸäº›æ¥å£è¿›è¡Œé™æµæˆ–è€…æ ¹æ®æŸäº›å±æ€§å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚ä¹‹å‰çš„æ–¹å¼æ˜¯å°†é»‘ç™½åå•å­˜å‚¨åœ¨æ•°æ®åº“æˆ–è€…é…ç½®ä¸­å¿ƒï¼Œæ— æ³•è¾ƒå¿«å’Œæ–¹ä¾¿å¾—å¯¹è¯·æ±‚è¿›è¡Œé™åˆ¶ã€‚å…¬å¸å®‰æ’å¹³å°ç»„è¿›è¡Œç›¸å…³çš„è°ƒç ”ï¼Œè°ƒç ”çš„ç»“æœæ˜¾ç¤ºé˜¿é‡Œå¼€æºçš„ Sentinel æœ€ç¬¦åˆæˆ‘ä»¬ç›®å‰çš„éœ€æ±‚ã€‚æ ¹æ®æ–‡æ¡£ï¼Œç›®å‰å¼€æºçš„ç‰ˆæœ¬v1.6.3æ— æ³•åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥ä½¿ç”¨ã€‚æ ¹æ®å…¬å¸ç›®å‰çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ç½‘å…³éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œè¦è¿›è¡Œä»¥ä¸‹å‡ ç‚¹æ”¹é€ ã€‚1.ç›‘æ§æ•°æ®çš„æŒä¹…åŒ–ã€‚2.ç½‘å…³æµæ§è§„åˆ™å’ŒAPIç»„è§„åˆ™æ¥å…¥ Apollo é…ç½®ä¸­å¿ƒã€‚3.ç™»å½•é‰´æƒä½“ç³»ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨æ”¹é€ è¿‡ç¨‹ä¸­çš„å®è·µã€‚ å®è·µSentinel ç½‘å…³é™æµæ¶æ„åœ¨å®è·µå¼€å§‹ä¹‹å‰ï¼Œå…ˆäº†è§£ä¸€ä¸‹ Sentinel ç½‘å…³é™æµçš„æ¶æ„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ æƒ å€Ÿå‡†å¤‡å°†åŸå…ˆçš„ Zuul 1.x ç½‘å…³å‡çº§æˆ Spring Cloud Gatewayï¼Œæœ¬æ–‡å°±ä»¥Spring Cloud Gateway ä¸ºä¾‹ï¼Œä»¥ä¸‹ç®€ç§° SCGã€‚SCGä¸­éœ€è¦åŠ å…¥sentinelé€‚é…SCGçš„jaråŒ…ï¼Œå¹¶ä¸”åœ¨å¯åŠ¨æ—¶åŠ å…¥ä¸€äº›é…ç½®å‚æ•°ã€‚ SCGå¯åŠ¨æ—¶ä¼šå‘ Dashboard æœåŠ¡è¯·æ±‚APIç»„è§„åˆ™å’Œæµæ§è§„åˆ™ï¼ŒåŠ å…¥åˆ°æœ¬æœºçš„é…ç½®ä¸­ã€‚ åœ¨è¯·æ±‚ç»è¿‡SCGæ—¶ä¼šå¯¹è¯·æ±‚è¿›è¡Œç»Ÿè®¡å’Œè¾“å‡ºæ—¥å¿—ã€‚ Dashboard æ›´æ–°è§„åˆ™æ—¶ä¼šæ›´æ–°æœ¬åœ°å†…å­˜ä¸­çš„è§„åˆ™å¹¶æ¨é€è‡³SCGã€‚ Dashboard ä¼šå®šæ—¶æ‹‰å–SCGè¾“å‡ºçš„æ—¥å¿—çš„ç»Ÿè®¡ç»“æœã€‚ ç›‘æ§æ•°æ®æŒä¹…åŒ–åœ¨ä¸Šè¿°æ¶æ„å›¾ä¸­ï¼Œé›†æˆ Sentinel SCG jaråŒ…åï¼ŒSentinel ä¼šåœ¨ SCGçš„è¿‡æ»¤å™¨ä¸­åŠ å…¥ä¸€ä¸ª SentinelGatewayFilterã€‚å¯¹ SCG è¯·æ±‚çš„æ‹¦æˆªå°±ç”±è¿™ä¸ªè¿‡æ»¤å™¨æ¥å®ç°ã€‚å…·ä½“ç›‘æ§æ•°æ®çš„ç”Ÿæˆå’Œè¾“å‡ºç”±ä¸€ç³»åˆ—çš„ Slot è´Ÿè´£ï¼Œå…·ä½“åŸç†è¿™é‡Œä¸å±•å¼€å™è¿°ï¼Œå› ä¸ºæœ¬æ–‡ä¸»è¦æè¿°ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„æ”¹é€ ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥æœä¸€ä¸‹ Sentinel æ—¶é—´çª—å£ã€‚åŸå…ˆçš„ç›‘æ§æ•°æ®ç”± Dashboard æ”¶é›†åå­˜å‚¨åœ¨ Map ä¸­ï¼Œå¹¶ä¸”åªå­˜å‚¨äº”åˆ†é’Ÿå†…çš„æ•°æ®ï¼Œåœ¨ Dashboard é‡å¯åç›‘æ§æ•°æ®å°±æ¶ˆå¤±ï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è‚¯å®šæ˜¯ä¸èƒ½æ¥å—çš„ã€‚ç”±äºæˆ‘ä»¬å…¬å¸æœ¬èº«ä¹Ÿæœ‰ESæœåŠ¡ï¼Œè¿™äº›æ•°æ®åˆæ˜¯ä¸ªæ—¶åºæ•°æ®ï¼Œè‡ªç„¶è€Œç„¶å°±æƒ³åˆ°å¯ä»¥æ”¾å…¥ESä¸­è¿›è¡ŒæŒä¹…åŒ–ã€‚é¦–å…ˆæ–°å»º ElasticsearchMetricsRepository æ¥å®ç° MetricsRepository æ¥å£ç±»ã€‚åˆ†åˆ«å®ç°å…¶ä¸­çš„ saveã€saveAllã€queryByAppAndResourceBetween å’Œ listResourcesOfAppã€‚åœ¨ MetricControllerã€ MetricFetcher ä¸­æŠŠè‡ªåŠ¨æ³¨å…¥çš„ MetricsRepository åŠ ä¸Š @Qualifier(value = &quot;elasticsearchMetricsRepository&quot;)ã€‚è¿˜æœ‰å¦å¤–ä¸€ä¸ªç‚¹åœ¨äº Dashboard æŸ¥è¯¢ç›‘æ§æ•°æ®è¿›è¡Œå±•ç¤ºæ—¶ï¼Œå¼€æºçš„ç‰ˆæœ¬å¹¶ä¸ä¼šå°†è°ƒç”¨é‡ä¸ºé›¶çš„é‚£æ®µæ•°æ®è¡¥é½ï¼Œå¯¼è‡´ç›‘æ§æ•°æ®å±•ç¤ºå¾—éå¸¸å¥‡æ€ªã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æŸ¥è¯¢ç›‘æ§æ•°æ®æ¥å£å¯¹ESè¿”å›çš„æ•°æ®è¿›è¡Œè¡¥é½ï¼Œè®©ç›‘æ§æ•°æ®æ˜¯è¿ç»­çš„ã€‚ä¸‹å›¾æ˜¯æ”¹é€ å®Œçš„ç›‘æ§ã€‚ ç½‘å…³æµæ§è§„åˆ™å’Œ API è§„åˆ™æ¥å…¥Apolloé…ç½®ä¸­å¿ƒå¼€æºç‰ˆæœ¬çš„ Sentinel æµæ§è§„åˆ™å’ŒAPIè§„åˆ™ä¹Ÿéƒ½æ˜¯å†…å­˜æ€çš„ï¼Œåœ¨ SCG å’Œ Dashboard é‡å¯åä¹Ÿä¼šæ¶ˆå¤±ã€‚æˆ‘ä»¬åŸå…ˆçš„é…ç½®ä¸­å¿ƒé‡‡ç”¨çš„å°±æ˜¯ Apolloï¼ŒSentinel åˆšå¥½å¯ä»¥è·Ÿ Apollo è¿›è¡Œé›†æˆã€‚å®ç° Dashboard æ¨é€è‡³ Apolloï¼ŒApollo å†æ¨é€è‡³ SCGï¼ŒSCGå¯åŠ¨æ—¶ä¹Ÿä» Apollo è¿›è¡ŒåŠ è½½ã€‚ SCGæ–¹é¢è·Ÿæ™®é€šåº”ç”¨æ¥å…¥ Apollo ä¸€æ ·ï¼Œåœ¨ Apollo å»ºç«‹åº”ç”¨ã€‚åŒæ—¶éœ€è¦æ–°å¢ä¸¤ä¸ªç‰¹æ®Šçš„ namespaceï¼Œåˆ†åˆ«ä¸º flow_rule ã€ api_groupã€‚åœ¨SCGä¸­åŠ å…¥ Sentinelçš„ Apollo ä¾èµ–ï¼ŒåŒæ—¶é…ç½®ä¸€èˆ¬çš„ Apollo å‚æ•°ã€‚ç„¶åéœ€è¦å¯¹ Sentinel çš„æµæ§è§„åˆ™å’ŒAPIç»„è§„åˆ™åŠ è½½æ–¹å¼è¿›è¡Œä¿®æ”¹ã€‚åœ¨ SentinelGatewayConfiguration é…ç½®ä¸­åŠ å…¥å¦‚ä¸‹ä¸¤æ®µä»£ç  åç»­åŠ è½½è§„åˆ™åˆ†åˆ«ä»æŸ namespace ä¸‹çš„æŸ key åŠ è½½ã€‚ Dashboardæ–¹é¢Dashboard è¿™è¾¹æœ¬èº« Sentinel å·²ç»æŠŠæ™®é€šåº”ç”¨çš„æµæ§è§„åˆ™ä» Apollo åŠ è½½çš„ä»£ç å·²ç»å†™å¥½æ”¾åœ¨ test ç›®å½•ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰å®ç°ç½‘å…³çš„ä»£ç ã€‚å…¶å®ä¹Ÿå¾ˆç®€å•ï¼ŒSentinel çš„æ•°æ®åŠ è½½å’Œæ¨é€çš„æ–¹å¼æœ¬èº«å°±æä¾›äº†è¾ƒå¥½çš„æ‰©å±•æ€§ã€‚æˆ‘ä»¬åªéœ€è¦åˆ†åˆ«å®ç° DynamicGatewayRuleProvider å’Œ DynamicGatewayRulePublisherã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ä¸ªç‚¹æ˜¯ SCG å‘ Dashboard æ³¨å†Œçš„ appName æœ€å¥½å’Œå®ƒæœ¬èº«åœ¨ Apollo çš„ appId ä¿æŒä¸€è‡´ã€‚è¿™æ · DynamicGatewayRuleProvideråœ¨åŠ è½½æ•°æ®çš„æ—¶å€™ç›´æ¥ç”¨ appName ä½œä¸º appId å‘ Apollo è¯·æ±‚é…ç½®ã€‚åŠ è½½æµæ§è§„åˆ™ä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è‡³äº DynamicGatewayRulePublisher å…¶å®æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€æ­¥æ˜¯å‘Apolloæ›´æ–°æ•°æ®ï¼Œç¬¬äºŒæ­¥æ˜¯è¦æ±‚ Apollo å¯¹è¯¥ namespace è¿›è¡Œå‘å¸ƒã€‚ä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ è¿™é‡Œé¢æ¶‰åŠåˆ°çš„ Apollo å¼€æ”¾å¹³å°çš„æˆæƒä¹‹ç±»çš„è¿‡ç¨‹ï¼ˆè¿™æ¬¡ä¹Ÿå‘ç°è¿™æ˜¯Apolloçš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®é™…ä¸Šå¯ä»¥æœ‰å¾ˆå¤šçš„åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªåŠ¨åŒ–æ–¹é¢ï¼‰è¯·å‚è€ƒ Apollo çš„æ–‡æ¡£ã€‚åœ¨è¿™æ ·çš„ä¸€ä¸ªè¿‡ç¨‹åå¾ˆå¤šåŒå­¦åº”è¯¥èƒ½å¾ˆè‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°æ˜¯ä¸æ˜¯å¯ä»¥åœ¨ Sentinel æˆ–è€…å…¶ä»–ç›‘æ§å·¥å…·ç›‘æ§åˆ°æŸäº›æ¡ä»¶åè‡ªåŠ¨åœ°å¯¹ Apollo çš„ä¸­çš„é™æµé…ç½®è¿›è¡Œä¿®æ”¹ã€‚æ˜¯çš„ï¼Œè¿™ä¹Ÿåº”è¯¥æ˜¯æˆ‘ä»¬ä»¥åçš„ç›®æ ‡ï¼Œåšåˆ°é™æµçš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€‚éšåè¿˜éœ€è¦æ–°å¢ GatewayApiControllerV2ï¼ŒGatewayFlowRuleControllerV2ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æŠŠåŸæœ‰çš„GatewayApiControllerã€GatewayFlowRuleControllerå¤åˆ¶è¿‡æ¥ï¼Œ ç„¶ååˆ†åˆ«æ³¨å…¥ ApolloProvider å’Œ ApolloPublisherã€‚Controller è¦æ”¹åŠ¨çš„åœ°æ–¹ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªå°†è·å–è§„åˆ™çš„æ–¹å¼ä»å‘SCGè¯·æ±‚æ”¹ä¸ºå‘ Apollo è¯·æ±‚ï¼Œç¬¬äºŒä¸ªæ˜¯æ–°å¢å’Œä¿®æ”¹è§„åˆ™å…ˆæ›´æ–°åˆ° Apollo å†è®©Apollo æ¨é€åˆ° SCGã€‚å†å°†å‰ç«¯é¡µé¢è¯·æ±‚çš„è·¯å¾„æŒ‡å‘æ–°çš„ Controllerã€‚ä¸‹å›¾æ˜¯è·å–APIè§„åˆ™çš„ä»£ç æ”¹é€ å‰å’Œæ”¹é€ ååŒºåˆ«ã€‚ApiDefinitionProvider å°±æ˜¯ DynamicGatewayApiDefinitionProvider çš„ä» Apollo è·å– API è§„åˆ™çš„å®ç°ã€‚ æ­¤å¤„è¿˜æœ‰ä¸ªæš—å‘ï¼Œä¸€å¼€å§‹æ²¡æ³¨æ„åˆ°ã€‚æœ¬èº«Dashboardåœ¨æ–°å¢è§„åˆ™æ—¶ä¼šç”Ÿæˆä¸€ä¸ªIDï¼Œè¿™ä¸ªIDæ˜¯ä¸ª AtomicLong, éšç€Dashboardçš„é‡å¯è‡ªåŠ¨å°±æ¸…ç©ºäº†ï¼Œå¯¼è‡´åœ¨é‡å¯åæ–°å¢æˆ–ä¿®æ”¹è§„åˆ™ä¼šå°†ID=1çš„è§„åˆ™é¡¶æ›¿ã€‚ç›®å‰è§£å†³çš„åŠæ³•æ˜¯åœ¨æ–°å¢å’Œä¿®æ”¹è§„åˆ™æ—¶åŠ è½½ç›®å‰çš„å…¨éƒ¨è§„åˆ™ï¼Œç„¶ååœ¨è·å–IDæ—¶è·å–å½“å‰å…¨éƒ¨è§„åˆ™çš„æœ€å¤§IDï¼Œä»æœ€å¤§å€¼å¼€å§‹é€’å¢ã€‚ ç™»å½•å’Œé‰´æƒåŸå…ˆçš„ç™»å½•å’Œé‰´æƒåªæä¾›äº†åŸºç¡€çš„ç™»å½•åŠŸèƒ½ä¸”å®‰å…¨æ€§å¾ˆä½ã€‚æˆ‘ä»¬å°†å…¶åŠ å…¥äº†å…¬å¸çš„ç»Ÿä¸€ç™»å½•ä¸­å¿ƒï¼Œå®ç°äº†å¸å·å¯†ç åŠä¼ä¸šå¾®ä¿¡æ‰«ç ç™»å½•å’Œè®¿é—®æƒé™çš„æ§åˆ¶ã€‚ å°¾å£°Sentinel çš„æ”¹é€ é™†é™†ç»­ç»­è¿›è¡Œäº†åŠä¸ªå¤šæœˆï¼Œå…¶ä¸­ä¹Ÿé‡åˆ°äº†ä¸å°‘äº†é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šéƒ½å¾—åˆ°äº†è¾ƒå¥½çš„è§£å†³ã€‚ç›®å‰ä»…ä»…æ˜¯ç”Ÿäº§ç¯å¢ƒèƒ½ç”¨çš„çŠ¶æ€ï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½å°šæœªå®Œå–„ã€‚åœ¨æ”¹é€ çš„è¿‡ç¨‹ä¸­ä¹Ÿå¯¹Sentinelçš„åŸºæœ¬åŸç†å’Œæ¶æ„æœ‰äº†è¾ƒæ¸…æ™°çš„è®¤è¯†ï¼Œä¸ºåç»­ä½¿ç”¨ä¸­è§£å†³é—®é¢˜æä¾›äº†åŸºç¡€ã€‚","categories":[{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"}],"tags":[]},{"title":"é’ˆå¯¹æµé‡çš„AB test çš„ä¸€ç‚¹æ€è€ƒ","slug":"é’ˆå¯¹æµé‡çš„AB test çš„ä¸€ç‚¹æ€è€ƒ","date":"2020-04-08T05:19:40.257Z","updated":"2020-06-24T06:59:04.263Z","comments":true,"path":"2020/04/08/some-thoughts-on-ab-test-for-traffic.html","link":"","permalink":"http://xingcici.github.io/2020/04/08/some-thoughts-on-ab-test-for-traffic.html","excerpt":"","text":"ä¹‹å‰å…¬å¸æäº†ä¸ªéœ€æ±‚ï¼Œä¸åŒæ¯”ä¾‹çš„ç”¨æˆ·å¯¼å‘ä¸åŒçš„è½åœ°é¡µï¼Œç»Ÿè®¡è½¬åŒ–æ•ˆç‡ã€‚æˆ‘è°ƒç ”äº†ä¸€äº›ä¸šç•Œçš„æ–¹æ¡ˆåæœ‰äº†ä¸€äº›è‡ªå·±çš„æ€è€ƒã€‚ åœ¨é˜…è¯»ä¸‹è¿°æ–¹æ¡ˆä¹‹å‰ æˆ‘ä»¬éœ€è¦æ˜ç¡®å‡ ä¸ªå®šä¹‰ AB TEST æ–¹æ¡ˆåˆ†ç‰ˆæœ¬ï¼Œä¸åŒçš„ AB TEST æ–¹æ¡ˆæ‹¥æœ‰ä¸åŒçš„æ ‡è¯†ï¼Œä¾‹å¦‚ ABTEST_2020_01_01ã€‚ æŸä¸ªç¡®å®šçš„ AB TEST ç‰ˆæœ¬ä¸‹ï¼Œä¼šæœ‰ä¸åŒçš„åˆ†ç»„ï¼Œæ¯ä¸ªåˆ†ç»„ä¹Ÿæœ‰ç¡®å®šçš„æ ‡è¯†ï¼Œä¾‹å¦‚ GROUP_Aã€‚ä¸‹æ–‡ä¸­çš„ AB TEST æ¡¶ ï¼ŒæŒ‡çš„å°±æ˜¯ä¸åŒçš„åˆ†ç»„ã€‚ æµé‡è¿›å…¥åä¼šè¢«æ‰“ä¸Šä¸€ä¸ªæˆ–è€…å¤šä¸ª AB TEST ç‰ˆæœ¬æ ‡è¯†åŠ AB TEST æ¡¶æ ‡è¯†ã€‚ å•çº¯é’ˆå¯¹è¯¥éœ€æ±‚çš„æ–¹æ¡ˆç›®æ ‡: ç›¸åŒç”¨æˆ·è¿”å›ç›¸åŒè½åœ°é¡µ ä¸åŒç”¨æˆ·æ ¹æ®æ¯”ä¾‹è¿”å›ä¸åŒè½åœ°é¡µ è·Ÿè¸ªä¸åŒè½åœ°é¡µè½¬åŒ–æ•ˆç‡ æ–¹æ¡ˆ: æ ¹æ®ABTESTç‰ˆæœ¬ å»ºç«‹å”¯ä¸€æ ‡è¯†, è¯·æ±‚è·³è½¬é“¾æ¥æ—¶æ ¹æ®ç”¨çš„IPæˆ–è€…CookieIdè¿›è¡ŒHASHï¼Œæ ¹æ®HASHå‘½ä¸­åŒºé—´( AB TEST æ¡¶)è¿”å›ä¸åŒçš„è½åœ°é¡µï¼Œè¿”å›ç»“æœæ—¶å¸¦ä¸ŠTESTç‰ˆæœ¬æ ‡è¯†ï¼Œè½¬åŒ–æ•ˆç‡çš„è·Ÿè¸ªåœ¨H5è¿›è¡Œã€‚åŒæ—¶ç•™æœ‰åé—¨æ–¹ä¾¿æŒ‡å®šç”¨æˆ·åˆ†å…¥ä¸åŒçš„åŒºé—´ä¸­ã€‚ æ›´é€šç”¨çš„æ–¹æ¡ˆ(ä¹Ÿåªæ˜¯ç®€ç•¥æè¿° å…·ä½“è¿˜è¦æ ¹æ®è¯¦ç»†çš„éœ€æ±‚æ¥ç»†åŒ–)ç›®æ ‡: æ ¹æ®ä¸åŒç”¨æˆ·ç‰¹å¾è¿”å›ä¸åŒç»“æœï¼Œè·Ÿè¸ªä¸åŒè¿”å›ç»“æœçš„è½¬åŒ–æ•ˆç‡ã€‚ æ€è·¯A æµé‡å®Œå…¨åˆ†å±‚ æ‰€æœ‰æµé‡å¯ä»¥å¾ªç¯åˆ©ç”¨ ä¸€ä¸ªè¯·æ±‚å¯ä»¥ç”¨äºå¤šä¸ª AB TEST æ–¹æ¡ˆ: è®¾ç½®è¦é’ˆå¯¹çš„ç‰¹å¾ï¼Œåœˆå®šèŒƒå›´ç”¨æˆ·ã€‚æ¯”å¦‚ ç”¨æˆ·çš„IP ç”¨æˆ·çš„ OPENID è®¾ç½® AB TEST æ–¹æ¡ˆï¼Œæ¯ä¸ªAB TESTæ–¹æ¡ˆéƒ½æœ‰å”¯ä¸€æ ‡è¯†ã€‚å†åœ¨ AB TEST æ–¹æ¡ˆä¸­ï¼Œæ ¹æ®ä¸åŒç‰¹å¾æˆ–è€…æ¯”ä¾‹è®¾ç½®ä¸åŒçš„ AB TEST æ¡¶ï¼Œæ¯ä¸ª AB TEST æ¡¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç”¨äºè·Ÿè¸ªï¼Œæ¯ä¸ª AB TEST æ¡¶å¯ä»¥è®¾ç½®ä¸€å®šæ¯”ä¾‹çš„æµé‡ã€‚ åœ¨ç½‘å…³è®¾ç½®è¿‡æ»¤å™¨ï¼Œå¯¹è¿›å…¥çš„ç¬¦åˆè¦æ±‚çš„æµé‡ç‰¹å¾è¿›è¡ŒHASH(åŒæ—¶ä¹Ÿå¯ä»¥é’ˆå¯¹ç‰¹å®šçš„ç”¨æˆ·æ ‡è¯†å¼ºè¡Œè¿›è¡Œåˆ†ç»„,æ–¹ä¾¿æµ‹è¯•)ï¼Œæ‰“ä¸Šè¿›è¡Œä¸­çš„ AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ï¼Œ å†æ ¹æ®è¯¥ AB TEST æ–¹æ¡ˆæ‰“ä¸Š AB TEST æ¡¶çš„æ ‡è¯†ã€‚å†å¯¹è¯¥æµé‡è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼ŒæŸ¥è¯¢æ˜¯å¦è¿˜æœ‰ AB TEST æ–¹æ¡ˆå¯ä»¥åˆ©ç”¨å®ƒï¼Œæœ‰çš„è¯åˆ™ç»§ç»­è¿›è¡Œæ ‡è®°ã€‚ç¬¦åˆæœ€åçš„æ ‡è®°å¯èƒ½æ˜¯ç±»ä¼¼äºTESTA_GROUP1|TESTB_GROUP2ã€‚ æµé‡åˆ°æœåŠ¡çš„æ—¶å€™ï¼Œæ ¹æ®æ ‡è¯†è¿”å›ä¸åŒçš„ç»“æœï¼Œåœ¨è¿”å›çš„åŒæ—¶å¸¦ä¸Š AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼šå½“ä¸åŒçš„ AB TEST æ–¹æ¡ˆå¯¹ç›¸åŒé¡µé¢åšå®éªŒæ—¶å°±ä¼šå‡ºç°é—®é¢˜ã€‚ æ€è·¯B æµé‡é¢„å…ˆåˆ†æ¡¶ ä¸€ä¸ªè¯·æ±‚åªèƒ½ç”¨äºä¸€ä¸ª AB TEST æ–¹æ¡ˆ: è®¾ç½®è¦é’ˆå¯¹çš„ç‰¹å¾ï¼Œåœˆå®šèŒƒå›´ç”¨æˆ·ã€‚æ¯”å¦‚ ç”¨æˆ·çš„IP ç”¨æˆ·çš„ OPENIDã€‚ è®¾ç½®å®éªŒæ–¹æ¡ˆï¼Œæ¯ä¸ª AB TEST æ–¹æ¡ˆéƒ½æœ‰æ¯ä¸€æ ‡è¯†ã€‚å†åœ¨ AB TEST æ–¹æ¡ˆä¸­ï¼Œæ ¹æ®ä¸åŒç‰¹å¾æˆ–è€…æ¯”ä¾‹è®¾ç½®ä¸åŒçš„ AB TEST æ¡¶ï¼Œæ¯ä¸ª AB TEST æ¡¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç”¨äºè·Ÿè¸ªã€‚ åœ¨ç½‘å…³è®¾ç½®è¿‡æ»¤å™¨ï¼Œå¯¹åœˆå®šèŒƒå›´æµé‡å…ˆéšæœºè¿›è¡ŒHASHï¼ŒæŒ‰å®éªŒéœ€è¦çš„æµé‡å¤§å°éšæœºåˆ†åˆ°ä¸åŒçš„æµé‡æ¡¶ä¸­ï¼Œå†åœ¨æµé‡æ¡¶ä¸­å®æ–½å…·ä½“çš„ AB TEST æ–¹æ¡ˆï¼Œ å†æ ¹æ®è¯¥ AB TEST æ–¹æ¡ˆæ‰“ä¸Š AB TEST æ¡¶çš„æ ‡è¯† ä¾‹å¦‚ TESTA_GROUP1ï¼Œéšåç›´æ¥è¿›å…¥æœåŠ¡ç«¯ã€‚ æµé‡åˆ°æœåŠ¡çš„æ—¶å€™ï¼Œæ ¹æ®æ ‡è¯†è¿”å›ä¸åŒçš„ç»“æœï¼Œåœ¨è¿”å›çš„åŒæ—¶å¸¦ä¸Š AB TEST æ–¹æ¡ˆçš„æ ‡è¯†ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼šå½“ AB TEST æ–¹æ¡ˆé€æ¸å¢åŠ æ—¶ï¼Œåæ¥å¢åŠ çš„ AB TEST æ–¹æ¡ˆå¯èƒ½æ— æ³•è·å–åˆ°è¶³å¤Ÿçš„æµé‡ é™„å›¾","categories":[{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"}],"tags":[]},{"title":"ä¸­å°å‹å…¬å¸æ•°ä»“æ‘¸ç´¢å’Œåº”ç”¨","slug":"ä¸­å°å‹å…¬å¸æ•°ä»“æ‘¸ç´¢å’Œåº”ç”¨","date":"2020-04-08T05:12:24.879Z","updated":"2020-06-24T06:59:04.261Z","comments":true,"path":"2020/04/08/exploration-and-application-of-data-warehouse-for-small-mediumsized-companies.html","link":"","permalink":"http://xingcici.github.io/2020/04/08/exploration-and-application-of-data-warehouse-for-small-mediumsized-companies.html","excerpt":"","text":"å‰è¨€ç†¬è¿‡åˆ›ä¸šåˆæœŸçš„äº’è”ç½‘å…¬å¸ä¸€èˆ¬å‘å±•è¿…é€Ÿã€‚ä¸€æ–¹é¢æ˜¯ä¸šåŠ¡çš„è¿…é€Ÿå‘å±•ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ•°æ®çš„è¿…é€Ÿç´¯ç§¯ã€‚åœ¨è·å®¢æˆæœ¬è¶Šæ¥è¶Šé«˜çš„å½“ä¸‹ï¼Œè°åˆ©ç”¨å¥½æ‰‹ä¸­ç§¯ç´¯çš„æ•°æ®æ¥æ›´å¥½çš„æœåŠ¡äºä¸šåŠ¡çš„å‘å±•ï¼Œåšåˆ°ç²¾ç»†åŒ–è¿è¥ï¼Œè°å°±èƒ½åœ¨ç«äº‰ä¸­è·å¾—é¢†å…ˆä¼˜åŠ¿ã€‚ å¯¹åˆ†ææ•°æ®è€Œè¨€ï¼Œæ•°ä»“æ˜¯å¿…ä¸å¯å°‘çš„åŸºç¡€ã€‚åœ¨æƒ å€Ÿç§‘æŠ€ä¹‹å‰çš„ä¸¤å¹´é‡Œï¼Œæ•°æ®åˆ†ææ–¹é¢å¹¶æ²¡æœ‰ä¸€ä¸ªæ¸…æ™°çš„æ•°ä»“è¿™æ ·çš„æ¦‚å¿µï¼Œå¯¼è‡´æ•°æ®åˆ†æè¿‡ç¨‹ä¸­ä¸€ç³»åˆ—ä¾‹å¦‚æ•°æ®æ¥æºä¸ä¸€è‡´ï¼Œè¡¨è¿‡å¤šå’Œç•Œé™æ··ä¹±ç­‰é—®é¢˜ã€‚æœ€ç»ˆå¯¼è‡´çš„ç»“æœå°±æ˜¯å¯¹ä¸šåŠ¡å“åº”æ…¢ï¼Œæ•°æ®å¯èƒ½ä¸å‡†ç¡®ã€‚æ‰€æœ‰é‡æ–°åˆ†æå’Œæ­å»ºé€‚åˆæƒ å€Ÿçš„æ•°ä»“æ˜¯è¿«åœ¨çœ‰ç«çš„äº‹æƒ…ã€‚æƒ å€ŸæŠ€æœ¯å›¢é˜Ÿå’ŒBIå›¢é˜Ÿç»è¿‡ä¸¤ä¸‰ä¸ªæœˆï¼Œä¹Ÿç®—æ˜¯åˆæ­¥å®Œæˆäº†æ•°ä»“çš„é€‰å‹å’Œåˆ†å±‚ã€‚åœ¨æ­¤ç®€å•ä»‹ç»ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚ ç°çŠ¶å’Œéœ€æ±‚åˆ†æç›®å‰å…¬å¸å†…éƒ¨BIå›¢é˜Ÿæ˜¯åº”ç”¨é˜¿é‡Œäº‘çš„maxcomputeä½œä¸ºæ•°æ®åˆ†æå’Œå¹³å°ã€‚åº”ç”¨åœºæ™¯å¤§éƒ¨åˆ†æ˜¯å¯¹ç”¨æˆ·éƒ¨åˆ†è¡Œä¸ºè¿›è¡Œåˆ†æå’Œå¯¹è®¢å•è¿›è¡Œåˆ†æï¼Œé›†ç¾¤é…ç½®ä¸º10CUï¼Œæ•°æ®é‡ä¸ºå‡ ç™¾GBï¼Œæ¯å¤©æ–°å¢æ•°æ®é‡æœ€å¤šå‡ åGBã€‚æ–°çš„æŠ€æœ¯å’Œå¹³å°è‚¯å®šè¦èƒ½æ”¯æ’‘èµ·ç›®å‰çš„ä¸šåŠ¡éœ€æ±‚åŒæ—¶èƒ½éƒ¨åˆ†æ»¡è¶³æœªæ¥çš„æ‰©å±•éœ€æ±‚ã€‚ æŠ€æœ¯å’Œå¹³å°é€‰å‹æ­£å¦‚å‰è¨€æ‰€è¨€ï¼Œæˆ‘ä»¬åœ¨é€‰å‹æ—¶ä¹Ÿé¢ä¸´ç€è‡ªå»ºå’Œä½¿ç”¨ç¬¬ä¸‰æ–¹å¹³å°çš„é—®é¢˜ã€‚æˆ‘ä»¬åœ¨ä¸€å¼€å§‹è¿›è¡ŒæŠ€æœ¯é€‰å‹æ—¶ä¹Ÿä¼˜å…ˆè€ƒè™‘è‡ªå»ºHadoopé›†ç¾¤ï¼Œå¹¶ç”¨Cloudera Manageråœ¨æµ‹è¯•ç¯å¢ƒæ­å»ºäº†ä¸€å¥—Hadoopç¯å¢ƒã€‚ä¸å¾—ä¸è¯´ç°åœ¨æ­å»ºä¸€å¥—Hadoopç¯å¢ƒè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚Cloudera Manageré›†æˆäº†ä¸€ç³»åˆ—çš„éƒ¨ç½²ã€é…ç½®å’Œç›‘æ§ç­‰åŠŸèƒ½ã€‚ ç„¶è€Œå¹¶ä¸æ˜¯æ­å»ºä¸€ä¸ªHadoopç¯å¢ƒå°±ä¸‡äº‹å¤§å‰äº†ã€‚åœ¨Hadoopçš„è°ƒç ”å’Œæµ‹è¯•ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°Hadoopå¯¹é›†ç¾¤æœºå™¨çš„é…ç½®è¦æ±‚å¾ˆé«˜ï¼Œè€Œä¸”è¿˜æœ‰å„ç§å¤æ‚çš„é…ç½®ã€‚å…¶ä¸­é…ç½®åˆæ˜¯ç‰¹åˆ«é‡è¦çš„éƒ¨åˆ†ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒçš„æœºå™¨é…ç½®å’Œå®é™…æƒ…å†µè¿›è¡Œé…ç½®æ‰èƒ½è¾¾åˆ°æœ€ä¼˜çš„æ•ˆæœã€‚ç°å®æƒ…å†µæ˜¯ï¼Œæˆ‘ä»¬ç›®å‰å¹¶æ²¡æœ‰ä¸“ä¸šçš„åå‘äºè¿™æ–¹é¢ç»´æŠ¤å’Œè°ƒä¼˜çš„å·¥ç¨‹å¸ˆï¼Œè¿™å°±æ„å‘³ç€è‡ªå»ºçš„è¯åœ¨ä»¥åçš„ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°å„ç§é—®é¢˜çš„è¯ï¼Œä¼šæœ‰è¾ƒé«˜çš„ç»´æŠ¤å’Œè§£å†³é—®é¢˜çš„æˆæœ¬ã€‚ æˆ‘ä»¬è½¬è€Œå°†è§†çº¿æ”¾åœ¨ç›®å‰æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„ Maxcomputeã€‚çœ‹äº†Maxcomputeæ–‡æ¡£åå‘ç°æ˜¯é˜¿é‡Œäº‘åŸºäºHadoopå¼€å‘çš„äº‘ä¸Šå¤§æ•°æ®å¹³å°ã€‚æˆ‘ä»¬ç›®å‰æœåŠ¡å™¨ã€çº¿ä¸Šæ•°æ®åº“åŠæ—¥å¿—éƒ½æ˜¯é‡‡ç”¨é˜¿é‡Œäº‘æä¾›çš„æœåŠ¡ï¼Œè€ŒMaxcomputeæä¾›äº†ä¸€ç³»åˆ—çš„ä¸é˜¿é‡Œäº‘ç›®å‰çš„äº§å“é…åˆçš„åŠŸèƒ½ã€‚ä¾‹å¦‚æ•°æ®ç›´æ¥ä»RDSå¯¼å…¥ï¼Œæ—¥å¿—æ–‡ä»¶ç”±LogHubæŠ•é€’åˆ°Maxcomputeç­‰ã€‚å¾ˆå¤§ç¨‹åº¦ä¸Šæ–¹ä¾¿æˆ‘ä»¬çš„ä½¿ç”¨ã€‚åŒæ—¶å‡å°‘äº†BIåŒå­¦çš„å­¦ä¹ æˆæœ¬ã€‚è€Œååœ¨ç»æµæˆæœ¬æ–¹é¢è¿›è¡Œäº†ç®€å•çš„è®¡ç®—å‘ç°ï¼Œåœ¨æˆ‘ä»¬ç›®å‰çš„éœ€è¦çš„é…ç½®ä¸‹ï¼Œç›´æ¥ä½¿ç”¨Maxcomputeçš„æˆæœ¬è¦ä½äºè‡ªå»ºHadoopæˆæœ¬ã€‚ æœ€åæˆ‘ä»¬å†³å®šåŸºäºé˜¿é‡Œäº‘Maxcompteæ¥æ­å»ºæˆ‘ä»¬æ–°çš„æ•°ä»“ä½“ç³»ã€‚ æ•°ä»“è®¾è®¡ ä¸Šå›¾å°±æ˜¯æˆ‘ä»¬ç›®å‰çš„ç¬¬ä¸€ç‰ˆæ•°ä»“çš„è®¾è®¡ã€‚å› ä¸ºé‡‡ç”¨äº†Maxcomputeï¼Œæ‰€ä»¥æˆ‘ä»¬ç›®å‰å¹¶ä¸éœ€è¦ç‰¹åˆ«å…³æ³¨å­˜å‚¨å±‚çš„è®¾è®¡ï¼Œè€Œæ˜¯ä¸“æ³¨äºæ•°ä»“å±‚çš„è®¾è®¡ã€‚ æ•°ä»“æœ€åº•å±‚æ˜¯ è¿‘æºæ•°æ®å±‚ï¼Œè¯¥å±‚çš„æ•°æ®ç›´æ¥ä»å„ç§æ•°æ®æºè¿›å…¥ï¼Œä»…ä»…è¿›è¡Œä¸€äº›ç®€å•çš„ETLè¿‡ç¨‹ã€‚ä¸€èˆ¬æ¥è¯´ä¼šç›´æ¥å’Œå¤–éƒ¨æ•°æ®æºçš„ç»“æ„è¿›è¡Œæ˜ å°„ã€‚ åœ¨è¿‘æºæ•°æ®å±‚ä¸Šæ–¹æ˜¯ åŸºç¡€æ•°æ®å±‚ï¼ŒåŸºç¡€æ•°æ®å±‚çš„æ•°æ®ä»è¿‘æºæ•°æ®æŠ½å–ï¼Œç»è¿‡æ¸…æ´—å’Œè½¬åŒ–åå½¢æˆæˆ‘ä»¬è®¾è®¡å¥½çš„åŸºç¡€è¡¨ç­‰ã€‚ åŸºç¡€æ•°æ®ä¸Šæ–¹ä¸ºå®½è¡¨å’Œä¸»é¢˜è¡¨ï¼Œè¯¥å±‚çš„æ•°æ®ç”±åŸºç¡€æ•°æ®å±‚è½¬åŒ–å’Œç»„åˆè€Œæˆã€‚è¡¨çš„ä¸»é¢˜ç”±BIåŒå­¦å¯¹ä¸šåŠ¡è¿›è¡Œåˆ†æåå¾—åˆ°ã€‚ æœ€åæ•°æ®å½¢æˆ æ•°æ®é›†å¸‚ï¼Œè¿™æ˜¯èƒ½å¤Ÿç›´æ¥æ»¡è¶³ä¸šåŠ¡éœ€æ±‚çš„æ•°æ®ã€‚è¿™é‡Œçš„æ•°æ®å¯ä»¥å¯¼å‡ºåˆ°RDSä¸­æä¾›ç»™ä¸šåŠ¡æ–¹ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥æä¾›ç»™BIåˆ†æå·¥å…·ä½¿ç”¨ï¼Œä¾‹å¦‚æˆ‘ä»¬è®¡åˆ’ä½¿ç”¨çš„ SuperSet BIåˆ†æå·¥å…·ç­‰ã€‚ è§„èŒƒå…¶å®åœ¨ä¹‹å‰æˆ‘ä»¬ä¹Ÿæ˜¯ç”¨ Maxcomputeï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜æ˜¯éœ€è¦é‡æ–°æ„å»ºå‘¢ã€‚å› ä¸ºæˆ‘ä»¬ä¹‹å‰åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰å‚è€ƒæ•°ä»“çš„ä¸€èˆ¬è§„èŒƒåŠé˜¿é‡Œäº‘çš„Maxcomputeæœ€ä½³å®è·µï¼Œå¯¼è‡´ä½¿ç”¨è¿‡ç¨‹ä¸­äº§ç”Ÿå¾ˆå¤šé—®é¢˜ã€‚æœ€ç®€å•çš„ä¾‹å­å°±æ˜¯è¡¨çš„å‘½åæ²¡æœ‰éµå¾ªåˆ†å±‚çš„å‘½åè§„èŒƒï¼Œå‘½åå¾ˆæ··ä¹±ã€‚æ‰€ä»¥å®šä¹‰ ä¸€ç³»åˆ—çš„è§„èŒƒæ¥çº¦æŸå¼€å‘è¿‡ç¨‹æ˜¯ååˆ†å¿…è¦çš„,æˆ‘ä»¬å…¬å¸å†…éƒ¨çš„è§„èŒƒä»åœ¨ä¸æ–­åœ°å®Œå–„ä¸­ã€‚ åè¯è‡³æ­¤åˆæ­¥çš„æ•°ä»“æ­å»ºå·²ç»ç»“æŸï¼Œè¿™æ˜¯æˆ‘ä»¬æ•°ä»“çš„1.0ç‰ˆæœ¬ï¼Œåç»­éšç€ä¸šåŠ¡çš„å˜åŒ–å’Œå‘å±•ï¼Œæ•°ä»“ä¹Ÿä¼šè¿›è¡Œç›¸åº”çš„è°ƒæ•´æ¥æ»¡è¶³éœ€æ±‚ã€‚","categories":[{"name":"æ•°æ®æ™ºèƒ½","slug":"æ•°æ®æ™ºèƒ½","permalink":"http://xingcici.github.io/categories/%E6%95%B0%E6%8D%AE%E6%99%BA%E8%83%BD/"}],"tags":[]}],"categories":[{"name":"åŠ å¯†","slug":"åŠ å¯†","permalink":"http://xingcici.github.io/categories/%E5%8A%A0%E5%AF%86/"},{"name":"æºç ","slug":"æºç ","permalink":"http://xingcici.github.io/categories/%E6%BA%90%E7%A0%81/"},{"name":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","permalink":"http://xingcici.github.io/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"},{"name":"æ•°æ®æ™ºèƒ½","slug":"æ•°æ®æ™ºèƒ½","permalink":"http://xingcici.github.io/categories/%E6%95%B0%E6%8D%AE%E6%99%BA%E8%83%BD/"},{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"http://xingcici.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"},{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://xingcici.github.io/categories/%E7%BC%96%E7%A8%8B/"},{"name":"æ¶æ„è®¾è®¡","slug":"æ¶æ„è®¾è®¡","permalink":"http://xingcici.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"},{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"http://xingcici.github.io/categories/%E5%88%86%E5%B8%83%E5%BC%8F/"},{"name":"æ—¥å¸¸é—®é¢˜","slug":"æ—¥å¸¸é—®é¢˜","permalink":"http://xingcici.github.io/categories/%E6%97%A5%E5%B8%B8%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"https","slug":"https","permalink":"http://xingcici.github.io/tags/https/"},{"name":"jdk","slug":"jdk","permalink":"http://xingcici.github.io/tags/jdk/"},{"name":"MQ","slug":"MQ","permalink":"http://xingcici.github.io/tags/MQ/"},{"name":"hadoop","slug":"hadoop","permalink":"http://xingcici.github.io/tags/hadoop/"},{"name":"é“¾è·¯è¿½è¸ª","slug":"é“¾è·¯è¿½è¸ª","permalink":"http://xingcici.github.io/tags/%E9%93%BE%E8%B7%AF%E8%BF%BD%E8%B8%AA/"},{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"http://xingcici.github.io/tags/%E5%AF%86%E7%A0%81%E5%AD%A6/"},{"name":"JDK","slug":"JDK","permalink":"http://xingcici.github.io/tags/JDK/"},{"name":"RocketMQ","slug":"RocketMQ","permalink":"http://xingcici.github.io/tags/RocketMQ/"},{"name":"åå°„","slug":"åå°„","permalink":"http://xingcici.github.io/tags/%E5%8F%8D%E5%B0%84/"},{"name":"linux","slug":"linux","permalink":"http://xingcici.github.io/tags/linux/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://xingcici.github.io/tags/%E7%BD%91%E7%BB%9C/"},{"name":"Netty","slug":"Netty","permalink":"http://xingcici.github.io/tags/Netty/"},{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://xingcici.github.io/tags/Zookeeper/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://xingcici.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"dubbo","slug":"dubbo","permalink":"http://xingcici.github.io/tags/dubbo/"}]}